(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"4fRq":function(module,exports){var getRandomValues="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(getRandomValues){var rnds8=new Uint8Array(16);module.exports=function(){return getRandomValues(rnds8),rnds8}}else{var rnds=new Array(16);module.exports=function(){for(var r,i=0;i<16;i++)0==(3&i)&&(r=4294967296*Math.random()),rnds[i]=r>>>((3&i)<<3)&255;return rnds}}},6233:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(__webpack_require__("O0a9"))},EcEN:function(module,exports,__webpack_require__){var v1=__webpack_require__("xDdU"),v4=__webpack_require__("xk4V"),uuid=v4;uuid.v1=v1,uuid.v4=v4,module.exports=uuid},I2ZF:function(module,exports){for(var byteToHex=[],i=0;i<256;++i)byteToHex[i]=(i+256).toString(16).substr(1);module.exports=function(buf,offset){var i=offset||0;return[byteToHex[buf[i++]],byteToHex[buf[i++]],byteToHex[buf[i++]],byteToHex[buf[i++]],"-",byteToHex[buf[i++]],byteToHex[buf[i++]],"-",byteToHex[buf[i++]],byteToHex[buf[i++]],"-",byteToHex[buf[i++]],byteToHex[buf[i++]],"-",byteToHex[buf[i++]],byteToHex[buf[i++]],byteToHex[buf[i++]],byteToHex[buf[i++]],byteToHex[buf[i++]],byteToHex[buf[i++]]].join("")}},O0a9:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var database=__webpack_require__("PVcy"),changes=__webpack_require__("pZk1"),create_reference=__webpack_require__("I1TF"),snapshot_changes=__webpack_require__("sDu7"),state_changes=__webpack_require__("WEwH"),audit_trail=__webpack_require__("b/LO"),fromRef=__webpack_require__("hbGf"),database_module=__webpack_require__("z5t0");__webpack_require__.d(__webpack_exports__,"AngularFireDatabase",(function(){return database.a})),__webpack_require__.d(__webpack_exports__,"RealtimeDatabaseURL",(function(){return database.b})),__webpack_require__.d(__webpack_exports__,"listChanges",(function(){return changes.a})),__webpack_require__.d(__webpack_exports__,"createListReference",(function(){return create_reference.a})),__webpack_require__.d(__webpack_exports__,"snapshotChanges",(function(){return snapshot_changes.a})),__webpack_require__.d(__webpack_exports__,"stateChanges",(function(){return state_changes.a})),__webpack_require__.d(__webpack_exports__,"auditTrail",(function(){return audit_trail.a})),__webpack_require__.d(__webpack_exports__,"fromRef",(function(){return fromRef.a})),__webpack_require__.d(__webpack_exports__,"AngularFireDatabaseModule",(function(){return database_module.a}))},bTIm:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var core=__webpack_require__("8Y7J"),ngx_translate_http_loader=__webpack_require__("k5Gf"),environment=__webpack_require__("AytR");class ExamplesModule{constructor(){}}function HttpLoaderFactory(http){return new ngx_translate_http_loader.a(http,`${environment.a.i18nPrefix}/assets/i18n/examples/`,".json")}var index_ngfactory=__webpack_require__("NcP4"),esm2015_core=(__webpack_require__("GS7A"),__webpack_require__("Xd0L")),esm2015_portal=__webpack_require__("zMNK"),layout=__webpack_require__("7QIX"),common=__webpack_require__("SVse"),esm2015_overlay=__webpack_require__("QQfA"),keycodes=__webpack_require__("dvZr"),Subject=__webpack_require__("XNiG"),observable_merge=__webpack_require__("VRyK"),of=__webpack_require__("LRne"),operators_filter=__webpack_require__("pLZG"),take=__webpack_require__("IzEk"),bidi=__webpack_require__("IP0z");const MAT_BOTTOM_SHEET_DATA=new core.p("MatBottomSheetData");class MatBottomSheetConfig{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.closeOnNavigation=!0,this.autoFocus=!1,this.restoreFocus=!0}}class bottom_sheet_MatBottomSheetContainer extends esm2015_portal.a{constructor(_elementRef,_changeDetectorRef,_focusTrapFactory,breakpointObserver,document,bottomSheetConfig){super(),this._elementRef=_elementRef,this._changeDetectorRef=_changeDetectorRef,this._focusTrapFactory=_focusTrapFactory,this.bottomSheetConfig=bottomSheetConfig,this._animationState="void",this._animationStateChanged=new core.m,this._elementFocusedBeforeOpened=null,this._document=document,this._breakpointSubscription=breakpointObserver.observe([layout.b.Medium,layout.b.Large,layout.b.XLarge]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",breakpointObserver.isMatched(layout.b.Medium)),this._toggleClass("mat-bottom-sheet-container-large",breakpointObserver.isMatched(layout.b.Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",breakpointObserver.isMatched(layout.b.XLarge))})}attachComponentPortal(portal){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(portal)}attachTemplatePortal(portal){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(portal)}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(event){"hidden"===event.toState?this._restoreFocus():"visible"===event.toState&&this._trapFocus(),this._animationStateChanged.emit(event)}_onAnimationStart(event){this._animationStateChanged.emit(event)}_toggleClass(cssClass,add){const classList=this._elementRef.nativeElement.classList;add?classList.add(cssClass):classList.remove(cssClass)}_validatePortalAttached(){if(this._portalOutlet.hasAttached())throw Error("Attempting to attach bottom sheet content after content is already attached")}_setPanelClass(){const element=this._elementRef.nativeElement,panelClass=this.bottomSheetConfig.panelClass;Array.isArray(panelClass)?panelClass.forEach(cssClass=>element.classList.add(cssClass)):panelClass&&element.classList.add(panelClass)}_trapFocus(){const element=this._elementRef.nativeElement;if(this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(element)),this.bottomSheetConfig.autoFocus)this._focusTrap.focusInitialElementWhenReady();else{const activeElement=this._document.activeElement;activeElement===element||element.contains(activeElement)||element.focus()}}_restoreFocus(){const toFocus=this._elementFocusedBeforeOpened;this.bottomSheetConfig.restoreFocus&&toFocus&&"function"==typeof toFocus.focus&&toFocus.focus(),this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._elementFocusedBeforeOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus())}}class MatBottomSheetModule{}class bottom_sheet_MatBottomSheetRef{constructor(containerInstance,_overlayRef,_location){this._overlayRef=_overlayRef,this._afterDismissed=new Subject.a,this._afterOpened=new Subject.a,this.containerInstance=containerInstance,this.disableClose=containerInstance.bottomSheetConfig.disableClose,containerInstance._animationStateChanged.pipe(Object(operators_filter.a)(event=>"done"===event.phaseName&&"visible"===event.toState),Object(take.a)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),containerInstance._animationStateChanged.pipe(Object(operators_filter.a)(event=>"done"===event.phaseName&&"hidden"===event.toState),Object(take.a)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),_overlayRef.dispose()}),_overlayRef.detachments().pipe(Object(take.a)(1)).subscribe(()=>{this._afterDismissed.next(this._result),this._afterDismissed.complete()}),Object(observable_merge.a)(_overlayRef.backdropClick(),_overlayRef.keydownEvents().pipe(Object(operators_filter.a)(event=>event.keyCode===keycodes.g))).subscribe(event=>{this.disableClose||"keydown"===event.type&&Object(keycodes.s)(event)||(event.preventDefault(),this.dismiss())})}dismiss(result){this._afterDismissed.closed||(this.containerInstance._animationStateChanged.pipe(Object(operators_filter.a)(event=>"start"===event.phaseName),Object(take.a)(1)).subscribe(event=>{this._closeFallbackTimeout=setTimeout(()=>{this._overlayRef.dispose()},event.totalTime+100),this._overlayRef.detachBackdrop()}),this._result=result,this.containerInstance.exit())}afterDismissed(){return this._afterDismissed.asObservable()}afterOpened(){return this._afterOpened.asObservable()}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}}const MAT_BOTTOM_SHEET_DEFAULT_OPTIONS=new core.p("mat-bottom-sheet-default-options");let bottom_sheet_MatBottomSheet=(()=>{class MatBottomSheet{constructor(_overlay,_injector,_parentBottomSheet,_location,_defaultOptions){this._overlay=_overlay,this._injector=_injector,this._parentBottomSheet=_parentBottomSheet,this._location=_location,this._defaultOptions=_defaultOptions,this._bottomSheetRefAtThisLevel=null}get _openedBottomSheetRef(){const parent=this._parentBottomSheet;return parent?parent._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(value){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=value:this._bottomSheetRefAtThisLevel=value}open(componentOrTemplateRef,config){const _config=function(defaults,config){return Object.assign({},defaults,config)}(this._defaultOptions||new MatBottomSheetConfig,config),overlayRef=this._createOverlay(_config),container=this._attachContainer(overlayRef,_config),ref=new bottom_sheet_MatBottomSheetRef(container,overlayRef,this._location);if(componentOrTemplateRef instanceof core.L)container.attachTemplatePortal(new esm2015_portal.h(componentOrTemplateRef,null,{$implicit:_config.data,bottomSheetRef:ref}));else{const portal=new esm2015_portal.d(componentOrTemplateRef,void 0,this._createInjector(_config,ref)),contentRef=container.attachComponentPortal(portal);ref.instance=contentRef.instance}return ref.afterDismissed().subscribe(()=>{this._openedBottomSheetRef==ref&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>ref.containerInstance.enter()),this._openedBottomSheetRef.dismiss()):ref.containerInstance.enter(),this._openedBottomSheetRef=ref,ref}dismiss(){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss()}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}_attachContainer(overlayRef,config){const injector=new esm2015_portal.f(config&&config.viewContainerRef&&config.viewContainerRef.injector||this._injector,new WeakMap([[MatBottomSheetConfig,config]])),containerPortal=new esm2015_portal.d(bottom_sheet_MatBottomSheetContainer,config.viewContainerRef,injector);return overlayRef.attach(containerPortal).instance}_createOverlay(config){const overlayConfig=new esm2015_overlay.d({direction:config.direction,hasBackdrop:config.hasBackdrop,disposeOnNavigation:config.closeOnNavigation,maxWidth:"100%",scrollStrategy:config.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0")});return config.backdropClass&&(overlayConfig.backdropClass=config.backdropClass),this._overlay.create(overlayConfig)}_createInjector(config,bottomSheetRef){const userInjector=config&&config.viewContainerRef&&config.viewContainerRef.injector,injectionTokens=new WeakMap([[bottom_sheet_MatBottomSheetRef,bottomSheetRef],[MAT_BOTTOM_SHEET_DATA,config.data]]);return!config.direction||userInjector&&userInjector.get(bidi.b,null)||injectionTokens.set(bidi.b,{value:config.direction,change:Object(of.a)()}),new esm2015_portal.f(userInjector||this._injector,injectionTokens)}}return MatBottomSheet.ngInjectableDef=Object(core.Rb)({factory:function(){return new MatBottomSheet(Object(core.Sb)(esm2015_overlay.c),Object(core.Sb)(core.n),Object(core.Sb)(MatBottomSheet,12),Object(core.Sb)(common.g,8),Object(core.Sb)(MAT_BOTTOM_SHEET_DEFAULT_OPTIONS,8))},token:MatBottomSheet,providedIn:MatBottomSheetModule}),MatBottomSheet})();var platform=__webpack_require__("/HVE"),scrolling=__webpack_require__("hOhj"),platform_browser=__webpack_require__("cUpR"),a11y=__webpack_require__("5GAg"),RenderType_MatBottomSheetContainer=core.qb({encapsulation:2,styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}@media (-ms-high-contrast:active){.mat-bottom-sheet-container{outline:1px solid}}.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium,.mat-bottom-sheet-container-xlarge{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],data:{animation:[{type:7,name:"state",definitions:[{type:0,name:"void, hidden",styles:{type:6,styles:{transform:"translateY(100%)"},offset:null},options:void 0},{type:0,name:"visible",styles:{type:6,styles:{transform:"translateY(0%)"},offset:null},options:void 0},{type:1,expr:"visible => void, visible => hidden",animation:{type:4,styles:null,timings:"375ms cubic-bezier(0.4,0.0,1,1)"},options:null},{type:1,expr:"void => visible",animation:{type:4,styles:null,timings:"195ms cubic-bezier(0.0,0.0,0.2,1)"},options:null}],options:{}}]}});function View_MatBottomSheetContainer_1(_l){return core.Nb(0,[(_l()(),core.hb(0,null,null,0))],null,null)}function View_MatBottomSheetContainer_0(_l){return core.Nb(2,[core.Jb(402653184,1,{_portalOutlet:0}),(_l()(),core.hb(16777216,null,null,1,null,View_MatBottomSheetContainer_1)),core.rb(2,212992,[[1,4]],0,esm2015_portal.c,[core.j,core.O],{portal:[0,"portal"]},null)],(function(_ck,_v){_ck(_v,2,0,"")}),null)}function View_MatBottomSheetContainer_Host_0(_l){return core.Nb(0,[(_l()(),core.sb(0,0,null,null,1,"mat-bottom-sheet-container",[["aria-modal","true"],["class","mat-bottom-sheet-container"],["role","dialog"],["tabindex","-1"]],[[1,"aria-label",0],[40,"@state",0]],[["component","@state.start"],["component","@state.done"]],(function(_v,en,$event){var ad=!0;return"component:@state.start"===en&&(ad=!1!==core.Eb(_v,1)._onAnimationStart($event)&&ad),"component:@state.done"===en&&(ad=!1!==core.Eb(_v,1)._onAnimationDone($event)&&ad),ad}),View_MatBottomSheetContainer_0,RenderType_MatBottomSheetContainer)),core.rb(1,180224,null,0,bottom_sheet_MatBottomSheetContainer,[core.k,core.h,a11y.i,layout.a,[2,common.d],MatBottomSheetConfig],null,null)],null,(function(_ck,_v){_ck(_v,0,0,null==core.Eb(_v,1).bottomSheetConfig?null:core.Eb(_v,1).bottomSheetConfig.ariaLabel,core.Eb(_v,1)._animationState)}))}var MatBottomSheetContainerNgFactory=core.ob("mat-bottom-sheet-container",bottom_sheet_MatBottomSheetContainer,View_MatBottomSheetContainer_Host_0,{},{},[]),typings_index_ngfactory=__webpack_require__("xYTU"),dialog_typings_index_ngfactory=__webpack_require__("t68o"),datepicker_typings_index_ngfactory=__webpack_require__("zbXB"),router_ngfactory=__webpack_require__("pMnS"),route_animations=__webpack_require__("0aut"),tabs=__webpack_require__("rWV4"),fesm2015_animations=__webpack_require__("omvX"),fesm2015_router=__webpack_require__("iInd"),core_typings_index_ngfactory=__webpack_require__("MlvX"),tabs_typings_index_ngfactory=__webpack_require__("Rlre"),select_typings_index_ngfactory=__webpack_require__("Azqq"),esm2015_select=__webpack_require__("JjoW"),form_field=__webpack_require__("HsOI"),fesm2015_forms=__webpack_require__("s7LF"),button_typings_index_ngfactory=__webpack_require__("bujt"),esm2015_button=__webpack_require__("Fwaw"),uuid=__webpack_require__("EcEN"),fesm2015_store=__webpack_require__("DQLy"),map=__webpack_require__("lJxs"),app_core=__webpack_require__("ey9i"),data_service=__webpack_require__("XI7x"),logos_effects=__webpack_require__("92MH"),logos_actions=__webpack_require__("my4u"),vote_actions=__webpack_require__("EnIl"),UsersActionTypes=(__webpack_require__("6233"),function(UsersActionTypes){return UsersActionTypes.LoadUsers="[Users] Load Users",UsersActionTypes.SaveUsers="[Users] save Users",UsersActionTypes}({}));class SaveUsers{constructor(payload){this.payload=payload,this.type=UsersActionTypes.SaveUsers}}class User{constructor(id,texte,url_img,name){this.id=id,this.name=name,this.texte=texte,this.url_img=url_img}}class examples_component_ExamplesComponent{constructor(_bottomSheet,changeDetectorRef,store,dataS,db){this._bottomSheet=_bottomSheet,this.changeDetectorRef=changeDetectorRef,this.store=store,this.dataS=dataS,this.db=db,this.examplesNonAdmin=[{link:"crud",label:"Liste des items",auth:!1,admin:!1},{link:"tibble",label:"Tibble",auth:!1,admin:!1},{link:"users-info",label:"Liste des utilisateurs",auth:!1,admin:!1}],this.examplesAdmin=[{link:"pixbay",label:"PixaBay",auth:!1,admin:!0},{link:"fb-comments",label:"Facebook",auth:!1,admin:!0},{link:"variables",label:"Variables",auth:!1,admin:!0},{link:"questionnaire",label:"Questionnaire",auth:!1,admin:!0}],this.elements=["La vie est belle","Keven est un homme inteligent","etc."],this.key=logos_effects.c,this.authName$=this.store.pipe(Object(fesm2015_store.A)(app_core.g)),this.db.object("users/").valueChanges().subscribe(data=>{console.log("data!!!"),console.log(data);let users=Object.keys(data).map(k=>new User(k,data[k].status,"https://upload.wikimedia.org/wikipedia/commons/thumb/1/12/User_icon_2.svg/1024px-User_icon_2.svg.png",data[k].dp));this.store.dispatch(new SaveUsers({users:users}))}),this.subscription2&&this.subscription2.unsubscribe(),this.votes$=this.dataS.fireStoreVotes(),this.subscription2=this.votes$.subscribe(votes=>{console.log("fireStoreVotes"),console.log(votes),this.store.dispatch(new vote_actions.b({votes:votes}))}),this.subscription=null,this.changeEntityLogo()}click(){console.log("test1")}changeEntityLogo(){this.subscription&&this.subscription.unsubscribe(),this.entitiesLogo$=this.dataS.fireStoreLogoObs(this.key),this.subscription=this.entitiesLogo$.subscribe(logos=>{this.store.dispatch(new logos_actions.d({logos:logos}))}),this.changeDetectorRef.markForCheck()}ngOnInit(){this.isAuthenticated$=this.store.pipe(Object(fesm2015_store.A)(app_core.e),Object(map.a)(auth=>auth.isAuthenticated))}openBottomSheet(){this._bottomSheet.open(examples_component_BottomSheetComponent)}}class examples_component_BottomSheetComponent{constructor(router,store,fb,_bottomSheetRef){this.router=router,this.store=store,this.fb=fb,this._bottomSheetRef=_bottomSheetRef,this.logoFormGroup=this.fb.group(examples_component_BottomSheetComponent.createLogo())}static createLogo(){return{id:Object(uuid.v4)(),texte:"-",url_img:"-",niveauDaccord:0,commentaire:"",x:200,y:200}}openLink(event){this._bottomSheetRef.dismiss(),event.preventDefault()}save(){this.logoFormGroup.valid&&(console.log("save"),this.store.dispatch(new logos_actions.c({logo:this.logoFormGroup.value})),this.router.navigate(["app","crud"]),this._bottomSheetRef.dismiss())}}var es2015_database=__webpack_require__("PVcy"),list_typings_index_ngfactory=__webpack_require__("6UMx"),list=__webpack_require__("Q+lL"),form_field_typings_index_ngfactory=__webpack_require__("dJrM"),card_typings_index_ngfactory=__webpack_require__("lzlj"),card=__webpack_require__("igqZ"),esm2015_input=__webpack_require__("ZwOa"),text_field=__webpack_require__("oapL"),ngx_translate_core=__webpack_require__("TSSN"),RenderType_ExamplesComponent=core.qb({encapsulation:0,styles:[[".addLogo[_ngcontent-%COMP%], .center[_ngcontent-%COMP%]{margin:auto}.flexDiv[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}nav[_ngcontent-%COMP%]{margin-bottom:20px}nav[_ngcontent-%COMP%]   .mat-tab-link[_ngcontent-%COMP%]{min-width:120px;padding:0 15px}@media (max-width:768px){nav[_ngcontent-%COMP%]   .mat-tab-link[_ngcontent-%COMP%]{min-width:0}}"]],data:{animation:[{type:7,name:"routeAnimations",definitions:[{type:1,expr:route_animations.b,animation:[{type:11,selector:":enter > *",animation:{type:6,styles:{opacity:0,position:"fixed"},offset:null},options:{optional:!0}},{type:11,selector:":enter .route-animations-elements",animation:{type:6,styles:{opacity:0},offset:null},options:{optional:!0}},{type:2,steps:[{type:11,selector:":leave > *",animation:[{type:6,styles:{transform:"translateY(0%)",opacity:1},offset:null},{type:4,styles:{type:6,styles:{transform:"translateY(-3%)",opacity:0},offset:null},timings:"0.2s ease-in-out"},{type:6,styles:{position:"fixed"},offset:null}],options:{optional:!0}},{type:11,selector:":enter > *",animation:[{type:6,styles:{transform:"translateY(-3%)",opacity:0,position:"static"},offset:null},{type:4,styles:{type:6,styles:{transform:"translateY(0%)",opacity:1},offset:null},timings:"0.5s ease-in-out"}],options:{optional:!0}}],options:null},{type:11,selector:":enter .route-animations-elements",animation:{type:12,timings:75,animation:[{type:6,styles:{transform:"translateY(10%)",opacity:0},offset:null},{type:4,styles:{type:6,styles:{transform:"translateY(0%)",opacity:1},offset:null},timings:"0.5s ease-in-out"}]},options:{optional:!0}}],options:null},{type:1,expr:route_animations.d,animation:[],options:null},{type:1,expr:route_animations.e,animation:[{type:11,selector:":enter > *",animation:{type:6,styles:{opacity:0,position:"fixed"},offset:null},options:{optional:!0}},{type:2,steps:[{type:11,selector:":leave > *",animation:[{type:6,styles:{transform:"translateY(0%)",opacity:1},offset:null},{type:4,styles:{type:6,styles:{transform:"translateY(-3%)",opacity:0},offset:null},timings:"0.2s ease-in-out"},{type:6,styles:{position:"fixed"},offset:null}],options:{optional:!0}},{type:11,selector:":enter > *",animation:[{type:6,styles:{transform:"translateY(-3%)",opacity:0,position:"static"},offset:null},{type:4,styles:{type:6,styles:{transform:"translateY(0%)",opacity:1},offset:null},timings:"0.5s ease-in-out"}],options:{optional:!0}}],options:null}],options:null},{type:1,expr:route_animations.c,animation:[{type:11,selector:":enter .route-animations-elements",animation:{type:6,styles:{opacity:0},offset:null},options:{optional:!0}},{type:11,selector:":enter .route-animations-elements",animation:{type:12,timings:75,animation:[{type:6,styles:{transform:"translateY(10%)",opacity:0},offset:null},{type:4,styles:{type:6,styles:{transform:"translateY(0%)",opacity:1},offset:null},timings:"0.5s ease-in-out"}]},options:{optional:!0}}],options:null}],options:{}}]}});function View_ExamplesComponent_1(_l){return core.Nb(0,[(_l()(),core.sb(0,0,null,null,6,"a",[["class","mat-tab-link"],["mat-tab-link",""],["routerLinkActive",""]],[[1,"aria-current",0],[1,"aria-disabled",0],[1,"tabIndex",0],[2,"mat-tab-disabled",null],[2,"mat-tab-label-active",null],[1,"target",0],[8,"href",4]],[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==core.Eb(_v,2).onClick($event.button,$event.ctrlKey,$event.metaKey,$event.shiftKey)&&ad),ad}),null,null)),core.rb(1,147456,[[1,4]],0,tabs.i,[tabs.j,core.k,core.y,platform.a,[2,esm2015_core.m],[8,null],a11y.h,[2,fesm2015_animations.a]],{active:[0,"active"]},null),core.rb(2,671744,[[3,4]],0,fesm2015_router.s,[fesm2015_router.p,fesm2015_router.a,common.h],{routerLink:[0,"routerLink"]},null),core.rb(3,1720320,[["rla",4]],2,fesm2015_router.r,[fesm2015_router.p,core.k,core.D,[2,fesm2015_router.q],[2,fesm2015_router.s]],{routerLinkActive:[0,"routerLinkActive"]},null),core.Jb(603979776,2,{links:1}),core.Jb(603979776,3,{linksWithHrefs:1}),(_l()(),core.Lb(6,null,[" "," "]))],(function(_ck,_v){_ck(_v,1,0,core.Eb(_v,3).isActive),_ck(_v,2,0,_v.context.$implicit.link),_ck(_v,3,0,"")}),(function(_ck,_v){_ck(_v,0,0,core.Eb(_v,1).active?"page":null,core.Eb(_v,1).disabled,core.Eb(_v,1).tabIndex,core.Eb(_v,1).disabled,core.Eb(_v,1).active,core.Eb(_v,2).target,core.Eb(_v,2).href),_ck(_v,6,0,_v.context.$implicit.label)}))}function View_ExamplesComponent_2(_l){return core.Nb(0,[(_l()(),core.sb(0,0,null,null,3,"mat-option",[["class","mat-option"],["color","primary"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==core.Eb(_v,1)._selectViaInteraction()&&ad),"keydown"===en&&(ad=!1!==core.Eb(_v,1)._handleKeydown($event)&&ad),"click"===en&&(ad=!1!==core.Eb(_v,2).onClick()&&ad),ad}),core_typings_index_ngfactory.c,core_typings_index_ngfactory.a)),core.rb(1,8568832,[[4,4]],0,esm2015_core.r,[core.k,core.h,[2,esm2015_core.l],[2,esm2015_core.q]],{value:[0,"value"]},null),core.rb(2,16384,null,0,fesm2015_router.q,[fesm2015_router.p,fesm2015_router.a,[8,null],core.D,core.k],{routerLink:[0,"routerLink"]},null),(_l()(),core.Lb(3,0,[" "," "]))],(function(_ck,_v){_ck(_v,1,0,_v.context.$implicit),_ck(_v,2,0,_v.context.$implicit.link)}),(function(_ck,_v){_ck(_v,0,0,core.Eb(_v,1)._getTabIndex(),core.Eb(_v,1).selected,core.Eb(_v,1).multiple,core.Eb(_v,1).active,core.Eb(_v,1).id,core.Eb(_v,1)._getAriaSelected(),core.Eb(_v,1).disabled.toString(),core.Eb(_v,1).disabled),_ck(_v,3,0,_v.context.$implicit.label)}))}function View_ExamplesComponent_3(_l){return core.Nb(0,[(_l()(),core.sb(0,0,null,null,5,"h3",[],null,null,null,null,null)),core.Ib(512,null,common.z,common.A,[core.k,core.s,core.D]),core.rb(2,278528,null,0,common.n,[common.z],{ngStyle:[0,"ngStyle"]},null),core.Hb(3,{"text-align":0}),(_l()(),core.Lb(4,null,["Compte du couriel : ",""])),core.Gb(131072,common.b,[core.h])],(function(_ck,_v){var currVal_0=_ck(_v,3,0,"center");_ck(_v,2,0,currVal_0)}),(function(_ck,_v){var _co=_v.component;_ck(_v,4,0,core.Mb(_v,4,0,core.Eb(_v,5).transform(_co.authName$)))}))}function View_ExamplesComponent_0(_l){return core.Nb(0,[(_l()(),core.sb(0,0,null,null,24,"div",[],null,null,null,null,null)),(_l()(),core.sb(1,0,null,null,4,"nav",[["class","d-none d-sm-flex mat-tab-nav-bar mat-tab-header"],["mat-tab-nav-bar",""]],[[2,"mat-tab-header-pagination-controls-enabled",null],[2,"mat-tab-header-rtl",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null]],null,null,tabs_typings_index_ngfactory.b,tabs_typings_index_ngfactory.a)),core.rb(2,7520256,null,1,tabs.j,[core.k,[2,bidi.b],core.y,core.h,scrolling.e,[2,platform.a],[2,fesm2015_animations.a]],null,null),core.Jb(603979776,1,{_items:1}),(_l()(),core.hb(16777216,null,0,1,null,View_ExamplesComponent_1)),core.rb(5,278528,null,0,common.j,[core.O,core.L,core.r],{ngForOf:[0,"ngForOf"]},null),(_l()(),core.sb(6,0,null,null,9,"nav",[["class","nav-responsive d-sm-none d-flex justify-content-center"]],null,null,null,null,null)),(_l()(),core.sb(7,0,null,null,8,"mat-select",[["class","mat-select"],["placeholder","Navigation de l'application"],["role","listbox"]],[[1,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[1,"aria-multiselectable",0],[1,"aria-describedby",0],[1,"aria-activedescendant",0],[2,"mat-select-disabled",null],[2,"mat-select-invalid",null],[2,"mat-select-required",null],[2,"mat-select-empty",null]],[[null,"keydown"],[null,"focus"],[null,"blur"]],(function(_v,en,$event){var ad=!0;return"keydown"===en&&(ad=!1!==core.Eb(_v,10)._handleKeydown($event)&&ad),"focus"===en&&(ad=!1!==core.Eb(_v,10)._onFocus()&&ad),"blur"===en&&(ad=!1!==core.Eb(_v,10)._onBlur()&&ad),ad}),select_typings_index_ngfactory.b,select_typings_index_ngfactory.a)),core.Ib(6144,null,esm2015_core.l,null,[esm2015_select.c]),core.Ib(6144,null,form_field.d,null,[esm2015_select.c]),core.rb(10,2080768,null,3,esm2015_select.c,[scrolling.e,core.h,core.y,esm2015_core.d,core.k,[2,bidi.b],[2,fesm2015_forms.p],[2,fesm2015_forms.i],[2,form_field.c],[8,null],[8,null],esm2015_select.a,a11y.j],{placeholder:[0,"placeholder"]},null),core.Jb(603979776,4,{options:1}),core.Jb(603979776,5,{optionGroups:1}),core.Jb(603979776,6,{customTrigger:0}),(_l()(),core.hb(16777216,null,1,1,null,View_ExamplesComponent_2)),core.rb(15,278528,null,0,common.j,[core.O,core.L,core.r],{ngForOf:[0,"ngForOf"]},null),(_l()(),core.hb(16777216,null,null,2,null,View_ExamplesComponent_3)),core.rb(17,16384,null,0,common.k,[core.O,core.L],{ngIf:[0,"ngIf"]},null),core.Gb(131072,common.b,[core.h]),(_l()(),core.sb(19,0,null,null,3,"div",[["class","flexDiv"]],null,null,null,null,null)),(_l()(),core.sb(20,0,null,null,2,"button",[["class","addLogo"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.openBottomSheet()&&ad),ad}),button_typings_index_ngfactory.d,button_typings_index_ngfactory.b)),core.rb(21,180224,null,0,esm2015_button.b,[core.k,a11y.h,[2,fesm2015_animations.a]],null,null),(_l()(),core.Lb(-1,0,["Ajout d'une proposition"])),(_l()(),core.sb(23,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),core.rb(24,212992,[["o",4]],0,fesm2015_router.u,[fesm2015_router.c,core.O,core.j,[8,null],core.h],null,null)],(function(_ck,_v){var _co=_v.component;_ck(_v,5,0,_co.examplesNonAdmin),_ck(_v,10,0,"Navigation de l'application"),_ck(_v,15,0,_co.examplesNonAdmin),_ck(_v,17,0,core.Mb(_v,17,0,core.Eb(_v,18).transform(_co.authName$))),_ck(_v,24,0)}),(function(_ck,_v){_ck(_v,1,0,core.Eb(_v,2)._showPaginationControls,"rtl"==core.Eb(_v,2)._getLayoutDirection(),"warn"!==core.Eb(_v,2).color&&"accent"!==core.Eb(_v,2).color,"accent"===core.Eb(_v,2).color,"warn"===core.Eb(_v,2).color),_ck(_v,7,1,[core.Eb(_v,10).id,core.Eb(_v,10).tabIndex,core.Eb(_v,10)._getAriaLabel(),core.Eb(_v,10)._getAriaLabelledby(),core.Eb(_v,10).required.toString(),core.Eb(_v,10).disabled.toString(),core.Eb(_v,10).errorState,core.Eb(_v,10).panelOpen?core.Eb(_v,10)._optionIds:null,core.Eb(_v,10).multiple,core.Eb(_v,10)._ariaDescribedby||null,core.Eb(_v,10)._getAriaActiveDescendant(),core.Eb(_v,10).disabled,core.Eb(_v,10).errorState,core.Eb(_v,10).required,core.Eb(_v,10).empty]),_ck(_v,20,0,core.Eb(_v,21).disabled||null,"NoopAnimations"===core.Eb(_v,21)._animationMode)}))}function View_ExamplesComponent_Host_0(_l){return core.Nb(0,[(_l()(),core.sb(0,0,null,null,1,"anms-examples",[],null,null,null,View_ExamplesComponent_0,RenderType_ExamplesComponent)),core.rb(1,114688,null,0,examples_component_ExamplesComponent,[bottom_sheet_MatBottomSheet,core.h,fesm2015_store.o,data_service.a,es2015_database.a],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var ExamplesComponentNgFactory=core.ob("anms-examples",examples_component_ExamplesComponent,View_ExamplesComponent_Host_0,{},{},[]),RenderType_BottomSheetComponent=core.qb({encapsulation:2,styles:[],data:{}});function View_BottomSheetComponent_1(_l){return core.Nb(0,[(_l()(),core.sb(0,0,null,null,2,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),core.rb(1,16384,null,0,form_field.b,[],null,null),(_l()(),core.Lb(-1,null,[" Un titre est necessaire "]))],null,(function(_ck,_v){_ck(_v,0,0,core.Eb(_v,1).id)}))}function View_BottomSheetComponent_0(_l){return core.Nb(0,[(_l()(),core.sb(0,0,null,null,35,"mat-nav-list",[["class","mat-nav-list mat-list-base"],["role","navigation"]],null,null,null,list_typings_index_ngfactory.d,list_typings_index_ngfactory.b)),core.rb(1,704512,null,0,list.e,[],null,null),(_l()(),core.sb(2,0,null,0,31,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(_v,en,$event){var ad=!0;return"submit"===en&&(ad=!1!==core.Eb(_v,4).onSubmit($event)&&ad),"reset"===en&&(ad=!1!==core.Eb(_v,4).onReset()&&ad),ad}),null,null)),core.rb(3,16384,null,0,fesm2015_forms.x,[],null,null),core.rb(4,540672,[["logoForm",4]],0,fesm2015_forms.i,[[8,null],[8,null]],{form:[0,"form"]},null),core.Ib(2048,null,fesm2015_forms.c,null,[fesm2015_forms.i]),core.rb(6,16384,null,0,fesm2015_forms.o,[[4,fesm2015_forms.c]],null,null),(_l()(),core.sb(7,0,null,null,26,"div",[["class","row"]],null,null,null,null,null)),(_l()(),core.sb(8,0,null,null,25,"mat-form-field",[["class","col mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,form_field_typings_index_ngfactory.b,form_field_typings_index_ngfactory.a)),core.rb(9,7520256,null,9,form_field.c,[core.k,core.h,[2,esm2015_core.j],[2,bidi.b],[2,form_field.a],platform.a,core.y,[2,fesm2015_animations.a]],null,null),core.Jb(603979776,1,{_controlNonStatic:0}),core.Jb(335544320,2,{_controlStatic:0}),core.Jb(603979776,3,{_labelChildNonStatic:0}),core.Jb(335544320,4,{_labelChildStatic:0}),core.Jb(603979776,5,{_placeholderChild:0}),core.Jb(603979776,6,{_errorChildren:1}),core.Jb(603979776,7,{_hintChildren:1}),core.Jb(603979776,8,{_prefixChildren:1}),core.Jb(603979776,9,{_suffixChildren:1}),(_l()(),core.sb(19,0,null,1,14,"mat-card",[["class","mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,card_typings_index_ngfactory.d,card_typings_index_ngfactory.a)),core.rb(20,49152,null,0,card.a,[[2,fesm2015_animations.a]],null,null),(_l()(),core.sb(21,0,null,0,10,"input",[["autofocus",""],["class","mat-input-element mat-form-field-autofill-control"],["formControlName","texte"],["matInput",""],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(_v,en,$event){var ad=!0;return"input"===en&&(ad=!1!==core.Eb(_v,22)._handleInput($event.target.value)&&ad),"blur"===en&&(ad=!1!==core.Eb(_v,22).onTouched()&&ad),"compositionstart"===en&&(ad=!1!==core.Eb(_v,22)._compositionStart()&&ad),"compositionend"===en&&(ad=!1!==core.Eb(_v,22)._compositionEnd($event.target.value)&&ad),"blur"===en&&(ad=!1!==core.Eb(_v,29)._focusChanged(!1)&&ad),"focus"===en&&(ad=!1!==core.Eb(_v,29)._focusChanged(!0)&&ad),"input"===en&&(ad=!1!==core.Eb(_v,29)._onInput()&&ad),ad}),null,null)),core.rb(22,16384,null,0,fesm2015_forms.d,[core.D,core.k,[2,fesm2015_forms.a]],null,null),core.rb(23,16384,null,0,fesm2015_forms.s,[],{required:[0,"required"]},null),core.Ib(1024,null,fesm2015_forms.k,(function(p0_0){return[p0_0]}),[fesm2015_forms.s]),core.Ib(1024,null,fesm2015_forms.l,(function(p0_0){return[p0_0]}),[fesm2015_forms.d]),core.rb(26,671744,null,0,fesm2015_forms.g,[[3,fesm2015_forms.c],[6,fesm2015_forms.k],[8,null],[6,fesm2015_forms.l],[2,fesm2015_forms.w]],{name:[0,"name"]},null),core.Ib(2048,null,fesm2015_forms.m,null,[fesm2015_forms.g]),core.rb(28,16384,null,0,fesm2015_forms.n,[[4,fesm2015_forms.m]],null,null),core.rb(29,999424,null,0,esm2015_input.a,[core.k,platform.a,[6,fesm2015_forms.m],[2,fesm2015_forms.p],[2,fesm2015_forms.i],esm2015_core.d,[8,null],text_field.a,core.y],{placeholder:[0,"placeholder"],required:[1,"required"]},null),core.Gb(131072,ngx_translate_core.i,[ngx_translate_core.j,core.h]),core.Ib(2048,[[1,4],[2,4]],form_field.d,null,[esm2015_input.a]),(_l()(),core.hb(16777216,null,0,1,null,View_BottomSheetComponent_1)),core.rb(33,16384,null,0,common.k,[core.O,core.L],{ngIf:[0,"ngIf"]},null),(_l()(),core.sb(34,0,null,0,1,"button",[["class","center"]],null,[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.save()&&ad),ad}),null,null)),(_l()(),core.Lb(-1,null,["Save"]))],(function(_ck,_v){var _co=_v.component;_ck(_v,4,0,_co.logoFormGroup),_ck(_v,23,0,""),_ck(_v,26,0,"texte"),_ck(_v,29,0,core.wb(1,"",core.Mb(_v,29,0,core.Eb(_v,30).transform("anms.examples.crud.placeholder1")),""),""),_ck(_v,33,0,_co.logoFormGroup.get("texte").invalid)}),(function(_ck,_v){_ck(_v,2,0,core.Eb(_v,6).ngClassUntouched,core.Eb(_v,6).ngClassTouched,core.Eb(_v,6).ngClassPristine,core.Eb(_v,6).ngClassDirty,core.Eb(_v,6).ngClassValid,core.Eb(_v,6).ngClassInvalid,core.Eb(_v,6).ngClassPending),_ck(_v,8,1,["standard"==core.Eb(_v,9).appearance,"fill"==core.Eb(_v,9).appearance,"outline"==core.Eb(_v,9).appearance,"legacy"==core.Eb(_v,9).appearance,core.Eb(_v,9)._control.errorState,core.Eb(_v,9)._canLabelFloat,core.Eb(_v,9)._shouldLabelFloat(),core.Eb(_v,9)._hasFloatingLabel(),core.Eb(_v,9)._hideControlPlaceholder(),core.Eb(_v,9)._control.disabled,core.Eb(_v,9)._control.autofilled,core.Eb(_v,9)._control.focused,"accent"==core.Eb(_v,9).color,"warn"==core.Eb(_v,9).color,core.Eb(_v,9)._shouldForward("untouched"),core.Eb(_v,9)._shouldForward("touched"),core.Eb(_v,9)._shouldForward("pristine"),core.Eb(_v,9)._shouldForward("dirty"),core.Eb(_v,9)._shouldForward("valid"),core.Eb(_v,9)._shouldForward("invalid"),core.Eb(_v,9)._shouldForward("pending"),!core.Eb(_v,9)._animationsEnabled]),_ck(_v,19,0,"NoopAnimations"===core.Eb(_v,20)._animationMode),_ck(_v,21,1,[core.Eb(_v,23).required?"":null,core.Eb(_v,28).ngClassUntouched,core.Eb(_v,28).ngClassTouched,core.Eb(_v,28).ngClassPristine,core.Eb(_v,28).ngClassDirty,core.Eb(_v,28).ngClassValid,core.Eb(_v,28).ngClassInvalid,core.Eb(_v,28).ngClassPending,core.Eb(_v,29)._isServer,core.Eb(_v,29).id,core.Eb(_v,29).placeholder,core.Eb(_v,29).disabled,core.Eb(_v,29).required,core.Eb(_v,29).readonly&&!core.Eb(_v,29)._isNativeSelect||null,core.Eb(_v,29)._ariaDescribedby||null,core.Eb(_v,29).errorState,core.Eb(_v,29).required.toString()])}))}function View_BottomSheetComponent_Host_0(_l){return core.Nb(0,[(_l()(),core.sb(0,0,null,null,1,"bottom-sheet-sheet",[],null,null,null,View_BottomSheetComponent_0,RenderType_BottomSheetComponent)),core.rb(1,49152,null,0,examples_component_BottomSheetComponent,[fesm2015_router.p,fesm2015_store.o,fesm2015_forms.e,bottom_sheet_MatBottomSheetRef],null,null)],null,null)}var BottomSheetComponentNgFactory=core.ob("bottom-sheet-sheet",examples_component_BottomSheetComponent,View_BottomSheetComponent_Host_0,{},{},[]),slider=__webpack_require__("lT8R"),RenderType_MatSlider=core.qb({encapsulation:2,styles:[".mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:0;vertical-align:middle}.mat-slider.mat-slider-sliding:not(.mat-slider-disabled),.mat-slider:not(.mat-slider-disabled):active{cursor:-webkit-grabbing;cursor:grabbing}.mat-slider-wrapper{position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{background-repeat:repeat;background-clip:content-box;box-sizing:border-box;opacity:0;transition:opacity .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1),opacity .4s cubic-bezier(.25,.8,.25,1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label{cursor:-webkit-grab;cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid transparent;border-radius:50%;transform:scale(.7);transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1),border-color .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform .4s cubic-bezier(.25,.8,.25,1),border-radius .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1)}@media (-ms-high-contrast:active){.mat-slider-thumb-label{outline:solid 1px}}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-sliding .mat-slider-thumb-container,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-track-fill{transition-duration:0s}.mat-slider-has-ticks .mat-slider-wrapper::after{content:'';position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}@media (-ms-high-contrast:active){.mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}@media (-ms-high-contrast:active){.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}@media (-ms-high-contrast:active){.mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-track-fill{transition:none}"],data:{}});function View_MatSlider_0(_l){return core.Nb(2,[core.Jb(671088640,1,{_sliderWrapper:0}),(_l()(),core.sb(1,0,[[1,0],["sliderWrapper",1]],null,21,"div",[["class","mat-slider-wrapper"]],null,null,null,null,null)),(_l()(),core.sb(2,0,null,null,6,"div",[["class","mat-slider-track-wrapper"]],null,null,null,null,null)),(_l()(),core.sb(3,0,null,null,2,"div",[["class","mat-slider-track-background"]],null,null,null,null,null)),core.Ib(512,null,common.z,common.A,[core.k,core.s,core.D]),core.rb(5,278528,null,0,common.n,[common.z],{ngStyle:[0,"ngStyle"]},null),(_l()(),core.sb(6,0,null,null,2,"div",[["class","mat-slider-track-fill"]],null,null,null,null,null)),core.Ib(512,null,common.z,common.A,[core.k,core.s,core.D]),core.rb(8,278528,null,0,common.n,[common.z],{ngStyle:[0,"ngStyle"]},null),(_l()(),core.sb(9,0,null,null,5,"div",[["class","mat-slider-ticks-container"]],null,null,null,null,null)),core.Ib(512,null,common.z,common.A,[core.k,core.s,core.D]),core.rb(11,278528,null,0,common.n,[common.z],{ngStyle:[0,"ngStyle"]},null),(_l()(),core.sb(12,0,null,null,2,"div",[["class","mat-slider-ticks"]],null,null,null,null,null)),core.Ib(512,null,common.z,common.A,[core.k,core.s,core.D]),core.rb(14,278528,null,0,common.n,[common.z],{ngStyle:[0,"ngStyle"]},null),(_l()(),core.sb(15,0,null,null,7,"div",[["class","mat-slider-thumb-container"]],null,null,null,null,null)),core.Ib(512,null,common.z,common.A,[core.k,core.s,core.D]),core.rb(17,278528,null,0,common.n,[common.z],{ngStyle:[0,"ngStyle"]},null),(_l()(),core.sb(18,0,null,null,0,"div",[["class","mat-slider-focus-ring"]],null,null,null,null,null)),(_l()(),core.sb(19,0,null,null,0,"div",[["class","mat-slider-thumb"]],null,null,null,null,null)),(_l()(),core.sb(20,0,null,null,2,"div",[["class","mat-slider-thumb-label"]],null,null,null,null,null)),(_l()(),core.sb(21,0,null,null,1,"span",[["class","mat-slider-thumb-label-text"]],null,null,null,null,null)),(_l()(),core.Lb(22,null,["",""]))],(function(_ck,_v){var _co=_v.component;_ck(_v,5,0,_co._trackBackgroundStyles),_ck(_v,8,0,_co._trackFillStyles),_ck(_v,11,0,_co._ticksContainerStyles),_ck(_v,14,0,_co._ticksStyles),_ck(_v,17,0,_co._thumbContainerStyles)}),(function(_ck,_v){_ck(_v,22,0,_v.component.displayValue)}))}var rtl_support_directive=__webpack_require__("cz58"),auth_selectors=__webpack_require__("C/rb");const DidMutate=function(){var DidMutate={EntitiesOnly:0,Both:1,None:2};return DidMutate[DidMutate.EntitiesOnly]="EntitiesOnly",DidMutate[DidMutate.Both]="Both",DidMutate[DidMutate.None]="None",DidMutate}();function createStateOperator(mutator){return function(arg,state){const clonedEntityState={ids:[...state.ids],entities:Object.assign({},state.entities)},didMutate=mutator(arg,clonedEntityState);return didMutate===DidMutate.Both?Object.assign({},state,clonedEntityState):didMutate===DidMutate.EntitiesOnly?Object.assign({},state,{entities:clonedEntityState.entities}):state}}function selectIdValue(entity,selectId){const key=selectId(entity);return Object(core.W)()&&void 0===key&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",entity,"The `selectId` implementation:",selectId.toString()),key}function createUnsortedStateAdapter(selectId){function addOneMutably(entity,state){const key=selectIdValue(entity,selectId);return key in state.entities?DidMutate.None:(state.ids.push(key),state.entities[key]=entity,DidMutate.Both)}function addManyMutably(entities,state){let didMutate=!1;for(const entity of entities)didMutate=addOneMutably(entity,state)!==DidMutate.None||didMutate;return didMutate?DidMutate.Both:DidMutate.None}function removeManyMutably(keysOrPredicate,state){const didMutate=(keysOrPredicate instanceof Array?keysOrPredicate:state.ids.filter(key=>keysOrPredicate(state.entities[key]))).filter(key=>key in state.entities).map(key=>delete state.entities[key]).length>0;return didMutate&&(state.ids=state.ids.filter(id=>id in state.entities)),didMutate?DidMutate.Both:DidMutate.None}function updateManyMutably(updates,state){const newKeys={};return(updates=updates.filter(update=>update.id in state.entities)).length>0?updates.filter(update=>(function(keys,update,state){const updated=Object.assign({},state.entities[update.id],update.changes),newKey=selectIdValue(updated,selectId),hasNewKey=newKey!==update.id;return hasNewKey&&(keys[update.id]=newKey,delete state.entities[update.id]),state.entities[newKey]=updated,hasNewKey})(newKeys,update,state)).length>0?(state.ids=state.ids.map(id=>newKeys[id]||id),DidMutate.Both):DidMutate.EntitiesOnly:DidMutate.None}function upsertManyMutably(entities,state){const added=[],updated=[];for(const entity of entities){const id=selectIdValue(entity,selectId);id in state.entities?updated.push({id:id,changes:entity}):added.push(entity)}const didMutateByUpdated=updateManyMutably(updated,state),didMutateByAdded=addManyMutably(added,state);switch(!0){case didMutateByAdded===DidMutate.None&&didMutateByUpdated===DidMutate.None:return DidMutate.None;case didMutateByAdded===DidMutate.Both||didMutateByUpdated===DidMutate.Both:return DidMutate.Both;default:return DidMutate.EntitiesOnly}}return{removeAll:function(state){return Object.assign({},state,{ids:[],entities:{}})},addOne:createStateOperator(addOneMutably),addMany:createStateOperator(addManyMutably),addAll:createStateOperator((function(entities,state){return state.ids=[],state.entities={},addManyMutably(entities,state),DidMutate.Both})),updateOne:createStateOperator((function(update,state){return updateManyMutably([update],state)})),updateMany:createStateOperator(updateManyMutably),upsertOne:createStateOperator((function(entity,state){return upsertManyMutably([entity],state)})),upsertMany:createStateOperator(upsertManyMutably),removeOne:createStateOperator((function(key,state){return removeManyMutably([key],state)})),removeMany:createStateOperator(removeManyMutably),map:createStateOperator((function(map,state){return updateManyMutably(state.ids.reduce((changes,id)=>{const change=map(state.entities[id]);return change!==state.entities[id]&&changes.push({id:id,changes:change}),changes},[]).filter(({id:id})=>id in state.entities),state)}))}}function createEntityAdapter(options={}){const{selectId:selectId,sortComparer:sortComparer}=Object.assign({sortComparer:!1,selectId:instance=>instance.id},options),stateFactory={getInitialState:function(additionalState={}){return Object.assign({ids:[],entities:{}},additionalState)}},selectorsFactory={getSelectors:function(selectState){const selectIds=state=>state.ids,selectEntities=state=>state.entities,selectAll=Object(fesm2015_store.z)(selectIds,selectEntities,(ids,entities)=>ids.map(id=>entities[id])),selectTotal=Object(fesm2015_store.z)(selectIds,ids=>ids.length);return selectState?{selectIds:Object(fesm2015_store.z)(selectState,selectIds),selectEntities:Object(fesm2015_store.z)(selectState,selectEntities),selectAll:Object(fesm2015_store.z)(selectState,selectAll),selectTotal:Object(fesm2015_store.z)(selectState,selectTotal)}:{selectIds:selectIds,selectEntities:selectEntities,selectAll:selectAll,selectTotal:selectTotal}}},stateAdapter=sortComparer?function(selectId,sort){const{removeOne:removeOne,removeMany:removeMany,removeAll:removeAll}=createUnsortedStateAdapter(selectId);function addManyMutably(newModels,state){const models=newModels.filter(model=>!(selectIdValue(model,selectId)in state.entities));return 0===models.length?DidMutate.None:(merge(models,state),DidMutate.Both)}function updateManyMutably(updates,state){const models=[],didMutateIds=updates.filter(update=>(function(models,update,state){if(!(update.id in state.entities))return!1;const updated=Object.assign({},state.entities[update.id],update.changes),newKey=selectIdValue(updated,selectId);return delete state.entities[update.id],models.push(updated),newKey!==update.id})(models,update,state)).length>0;if(0===models.length)return DidMutate.None;{const originalIds=state.ids,updatedIndexes=[];return state.ids=state.ids.filter((id,index)=>id in state.entities||(updatedIndexes.push(index),!1)),merge(models,state),!didMutateIds&&updatedIndexes.every(i=>state.ids[i]===originalIds[i])?DidMutate.EntitiesOnly:DidMutate.Both}}function upsertManyMutably(entities,state){const added=[],updated=[];for(const entity of entities){const id=selectIdValue(entity,selectId);id in state.entities?updated.push({id:id,changes:entity}):added.push(entity)}const didMutateByUpdated=updateManyMutably(updated,state),didMutateByAdded=addManyMutably(added,state);switch(!0){case didMutateByAdded===DidMutate.None&&didMutateByUpdated===DidMutate.None:return DidMutate.None;case didMutateByAdded===DidMutate.Both||didMutateByUpdated===DidMutate.Both:return DidMutate.Both;default:return DidMutate.EntitiesOnly}}function merge(models,state){models.sort(sort);const ids=[];let i=0,j=0;for(;i<models.length&&j<state.ids.length;){const model=models[i],modelId=selectIdValue(model,selectId),entityId=state.ids[j];sort(model,state.entities[entityId])<=0?(ids.push(modelId),i++):(ids.push(entityId),j++)}state.ids=ids.concat(i<models.length?models.slice(i).map(selectId):state.ids.slice(j)),models.forEach((model,i)=>{state.entities[selectId(model)]=model})}return{removeOne:removeOne,removeMany:removeMany,removeAll:removeAll,addOne:createStateOperator((function(entity,state){return addManyMutably([entity],state)})),updateOne:createStateOperator((function(update,state){return updateManyMutably([update],state)})),upsertOne:createStateOperator((function(entity,state){return upsertManyMutably([entity],state)})),addAll:createStateOperator((function(models,state){return state.entities={},state.ids=[],addManyMutably(models,state),DidMutate.Both})),addMany:createStateOperator(addManyMutably),updateMany:createStateOperator(updateManyMutably),upsertMany:createStateOperator(upsertManyMutably),map:createStateOperator((function(updatesOrMap,state){return updateManyMutably(state.ids.reduce((changes,id)=>{const change=updatesOrMap(state.entities[id]);return change!==state.entities[id]&&changes.push({id:id,changes:change}),changes},[]),state)}))}}(selectId,sortComparer):createUnsortedStateAdapter(selectId);return Object.assign({selectId:selectId,sortComparer:sortComparer},stateFactory,selectorsFactory,stateAdapter)}var JeuActionTypes=function(JeuActionTypes){return JeuActionTypes.UPSERT_ONE="[jeu] Upsert_one",JeuActionTypes.UPSERT_ONE_CARTE="[jeu] Upsert_one_carte",JeuActionTypes.UPSERT_ALL_CARTE="[jeu] Upsert_all_carte",JeuActionTypes.UPSERT_ALL_CARTE_FromFirebase="[jeu] Upsert_all_carte_FromFirebase",JeuActionTypes.UPDATE="[jeu] Update",JeuActionTypes.RESET="[jeu] Reset",JeuActionTypes.DELETE_ONE="[jeu] Delete_one_carte",JeuActionTypes}({});class ActionJeuUpsertOneCarte{constructor(payload){this.payload=payload,this.type=JeuActionTypes.UPSERT_ONE_CARTE}}const jeuAdapter=createEntityAdapter({sortComparer:function(a,b){return a.etat.localeCompare(b.etat)}}),initialState=jeuAdapter.getInitialState({ids:[],entities:{test:{etat:"test",tour:"1",cartes:[]}}});function jeuReducer(state=initialState,action){switch(action.type){case JeuActionTypes.UPSERT_ONE_CARTE:return jeuAdapter.upsertOne({id:"test2",cartes:[],etat:"test",tour:"1"},state);case JeuActionTypes.UPSERT_ALL_CARTE_FromFirebase:let cartes2=JSON.parse(JSON.stringify(action.payload));console.log("cartes2"),console.log(cartes2),jeuAdapter.upsertOne({id:"test",cartes:cartes2,etat:"test",tour:"1"},state);case JeuActionTypes.UPSERT_ALL_CARTE:let cartes=JSON.parse(JSON.stringify(state.entities.test.cartes));return cartes.push(JSON.parse(JSON.stringify(action.payload.carte))),jeuAdapter.upsertOne({id:"test",cartes:cartes,etat:"test",tour:"1"},state);case JeuActionTypes.UPSERT_ONE:return jeuAdapter.upsertOne(action.payload.jeu,state);case JeuActionTypes.DELETE_ONE:return jeuAdapter.removeOne(action.payload.id,state);case JeuActionTypes.RESET:return initialState;default:return state}}const logoAdapter=createEntityAdapter({sortComparer:function(a,b){return a.texte.localeCompare(b.texte)}}),logos_reducer_initialState=logoAdapter.getInitialState({ids:[],entities:{}});function logoReducer(state=logos_reducer_initialState,action){switch(action.type){case logos_actions.h.CHANGE_NIVEAU:if(console.log("CHANGE NIVEAU"),console.log(action.payload.niveau),state){let newLogo=JSON.parse(JSON.stringify(state.entities[state.ids[action.payload.id]]));return newLogo.niveauDaccord=action.payload.niveau,console.log("newLogo"),console.log(newLogo),logoAdapter.upsertOne(newLogo,state)}return state;case logos_actions.h.SAVE:case logos_actions.h.UPSERT_ONE:case logos_actions.h.UPSERT_ONE_Local:return logoAdapter.upsertOne(action.payload.logo,state);case logos_actions.h.UPSERT_ALL:case logos_actions.h.UPSERT_ALL2:case logos_actions.h.UpsertAllFromVote:return logoAdapter.upsertMany(action.payload.logos,state);case logos_actions.h.DELETE_ONE:return logoAdapter.removeOne(action.payload.id,state);default:return state}}const voteAdapter=createEntityAdapter({sortComparer:function(a,b){return a.nom.localeCompare(b.nom)}}),vote_reducer_initialState=voteAdapter.getInitialState({ids:[],entities:{}});function voteReducer(state=vote_reducer_initialState,action){switch(action.type){case vote_actions.e.UPSERT_ONE:return console.log("action.payload.vote"),console.log(action.payload.vote),console.log("state"),console.log(state),voteAdapter.upsertOne(action.payload.vote,state);case vote_actions.e.UPSERT_ALL_FromFirebase:return action.payload.votes;case vote_actions.e.UPSERT_ALL:console.log("state"),console.log(state),console.log("action.payload.votes"),console.log(action.payload.votes);let votes=[];return action.payload.votes.ids?(votes=action.payload.votes.ids.map(id=>action.payload.votes.entities[id]),voteAdapter.upsertMany(votes,state)):state;case vote_actions.e.UPSERT_ALL2:return voteAdapter.removeAll(state);case vote_actions.e.UPSERT_ONE:return voteAdapter.upsertOne(action.payload.vote,state);case vote_actions.e.DELETE_ONE:return voteAdapter.removeOne(action.payload.id,state);case vote_actions.e.RESET:return vote_reducer_initialState;case vote_actions.e.VoteForId:if(console.log("action.payload.id VoteForId"),console.log(action.payload.id),console.log("state"),console.log(state),action.payload.isAuth)return state;default:return state}}const userAdapter=createEntityAdapter({sortComparer:function(a,b){return a.name.localeCompare(b.name)}}),users_reducer_initialState={ids:[],entities:{}};function userReducer(state=users_reducer_initialState,action){switch(action.type){case UsersActionTypes.SaveUsers:return userAdapter.upsertMany(action.payload.users,state);default:return state}}var QuestionnaireActionTypes=function(QuestionnaireActionTypes){return QuestionnaireActionTypes.UPSERT_ONE="[questionnaire] Upsert_one",QuestionnaireActionTypes.UPSERT_ALL="[questionnaire] Upsert_all",QuestionnaireActionTypes.UPDATE="[questionnaire] Update",QuestionnaireActionTypes.RESET="[questionnaire] Reset",QuestionnaireActionTypes.DELETE_ONE="[questionnaire] Delete_one_",QuestionnaireActionTypes}({});class ActionQuestionnaireUpsertOne{constructor(payload){this.payload=payload,this.type=QuestionnaireActionTypes.UPSERT_ONE}}const questionnaireAdapter=createEntityAdapter({sortComparer:function(a,b){return a.name.localeCompare(b.name)}}),questionnaire_reducer_initialState=questionnaireAdapter.getInitialState({ids:[],entities:{}});function questionnaireReducer(state=questionnaire_reducer_initialState,action){switch(action.type){case QuestionnaireActionTypes.UPSERT_ONE:return console.log("action.payload.questionnaire"),console.log(action.payload.questionnaire),console.log("state"),console.log(state),questionnaireAdapter.upsertOne(action.payload.questionnaire,state);case QuestionnaireActionTypes.UPSERT_ALL:console.log("state"),console.log(state),console.log("action.payload."),console.log(action.payload.questionnaires);let questionnaires=[];return questionnaires=action.payload.questionnaires.ids.map(id=>action.payload.questionnaires.entities[id]),questionnaireAdapter.upsertMany(questionnaires,state);case QuestionnaireActionTypes.UPSERT_ALL:return questionnaireAdapter.removeAll(state);case QuestionnaireActionTypes.UPSERT_ONE:return questionnaireAdapter.upsertOne(action.payload.questionnaire,state);case QuestionnaireActionTypes.DELETE_ONE:return questionnaireAdapter.removeOne(action.payload.id,state);case QuestionnaireActionTypes.RESET:return questionnaire_reducer_initialState;default:return state}}const selectExamples=Object(fesm2015_store.x)("examples"),{selectEntities:logos_selectors_selectEntities,selectAll:logos_selectors_selectAll}=logoAdapter.getSelectors(),selectLogos=Object(fesm2015_store.z)(selectExamples,state=>state.logos),selectAllLogos=Object(fesm2015_store.z)(selectLogos,logos_selectors_selectAll),selectLogosEntities=Object(fesm2015_store.z)(selectLogos,logos_selectors_selectEntities),selectSelectedLogos=Object(fesm2015_store.z)(selectLogosEntities,app_core.j,(entities,params)=>params&&entities[params.state.params.id]);__webpack_require__("CqG3");var tap=__webpack_require__("vkgz");class crud_component_CrudComponent{constructor(changeDetectorRef,afs,store,fb,router,jeuStore,voteStore,dataS,ref){this.changeDetectorRef=changeDetectorRef,this.afs=afs,this.store=store,this.fb=fb,this.router=router,this.jeuStore=jeuStore,this.voteStore=voteStore,this.dataS=dataS,this.ref=ref,this.routeAnimationsElements=app_core.d,this.logoFormGroup=this.fb.group(crud_component_CrudComponent.createLogo()),this.myLogos$=Object(of.a)([]),this.selectedLogo$=this.store.pipe(Object(fesm2015_store.A)(selectSelectedLogos),Object(tap.a)(()=>this.ref.markForCheck())),this.selectedLogo=null,this.votes=[],this.dataS.getVotesSubject(),this.authName$=this.store.pipe(Object(fesm2015_store.A)(auth_selectors.c)),this.authName$.pipe(Object(take.a)(1)).subscribe(user=>{this.authName=user,console.log("authName"),console.log(user)}),this.myLogos$=this.store.pipe(Object(fesm2015_store.A)(selectAllLogos),Object(tap.a)(logos=>{console.log("Change logos"),console.log(logos),this.selectedLogo&&this.dataS.votesSubject.next(this.selectedLogo)})),this.selectedLogo&&this.dataS.votesSubject.next(this.selectedLogo)}static createLogo(){return{id:Object(uuid.v4)(),texte:"-",url_img:"-",niveauDaccord:0,commentaire:"",x:200,y:200}}ngOnInit(){console.log("init"),this.selectedLogo&&this.dataS.votesSubject.next(this.selectedLogo)}getColor(n){let r="";switch(n){case 0:r="";case 1:r="red";case 2:r="red2";case 3:r="green";case 4:r="blue2";case 5:r="blue";default:r=""}return r}trackByIndex(index,obj){return index}onInputChange(event,i){console.log("event"),console.log(event),this.myLogos$.pipe(Object(take.a)(1)).subscribe(logos=>{let logo=JSON.parse(JSON.stringify(logos[i]));logo.niveauDaccord=event.value,this.store.dispatch(new logos_actions.g({logo:logo}))})}onTextInputChange(event,i){console.log("event"),console.log(event),this.myLogos$.pipe(Object(take.a)(1)).subscribe(logos=>{let logo=JSON.parse(JSON.stringify(logos[i]));logo.commentaire=event.srcElement.value,this.store.dispatch(new logos_actions.g({logo:logo}))})}select(logo){console.log("selected"),this.isEditing=!1,this.selectedLogo=logo.id,this.dataS.votesSubject.next(this.selectedLogo),this.dataS.votes$.subscribe(votes=>{console.log("Votes!!"),console.log(votes),this.votes=votes,this.ref.markForCheck()}),this.router.navigate(["app/crud/",this.selectedLogo])}select2(id){console.log("selected2"),this.isEditing=!1,this.selectedLogo=id,this.dataS.votesSubject.next(this.selectedLogo),this.dataS.votes$.subscribe(votes=>{console.log("Votes!!"),console.log(votes),this.votes=votes,this.ref.markForCheck()})}launch(i){this.store.pipe(Object(take.a)(1)).subscribe(state=>{console.log("lauch state"),console.log(state);let logo=state.examples.logos.entities[state.examples.logos.ids[i]];if(console.log("store logo!!!!!"),console.log(logo),console.log(this.authName),this.authName)console.log(this.authName),this.store.dispatch(new vote_actions.d({vote:{id:this.authName+"&;&"+logo.id,nom:this.authName,logo:logo.id,niveauDaccord:logo.niveauDaccord,commentaire:logo.commentaire}}));else{let vote={vote:{id:"DEMO-"+logo.id,nom:"test",logo:logo.id,niveauDaccord:logo.niveauDaccord,commentaire:logo.commentaire}};console.log("vote"),console.log(vote),this.voteStore.dispatch(new vote_actions.d(vote))}})}deselect(){this.isEditing=!1,this.router.navigate(["app/crud"])}edit(logo){this.isEditing=!0,this.logoFormGroup.setValue(logo)}reInitLogo(){this.store.pipe(Object(take.a)(1)).subscribe(store=>{JSON.parse(JSON.stringify(store)).examples.logoss={ids:[],entities:{}},this.afs.collection("items").ref.add(store).then(res=>{let id=res.id,newObj={};newObj[store.auth.uid]=id,this.afs.collection("items").doc(logos_effects.a).update(newObj).then(()=>{console.log(id)})})})}addNew(logoForm){logoForm.resetForm(),this.logoFormGroup.reset(),this.logoFormGroup.setValue(crud_component_CrudComponent.createLogo()),this.isEditing=!0}cancelEditing(){this.isEditing=!1}delete(logo){this.store.dispatch(new logos_actions.a({id:logo.id})),this.isEditing=!1,this.ref.markForCheck()}save(){if(this.logoFormGroup.valid){const logo=this.logoFormGroup.value;this.store.dispatch(new logos_actions.c({logo:logo})),this.isEditing=!1,console.log("logo.id"),console.log(logo.id),this.selectedLogo=logo.id}}like(logo){console.log("book22"),console.log(logo),console.log(this.authName)}}var es2015_firestore=__webpack_require__("Xr7G"),RenderType_CrudComponent=core.qb({encapsulation:0,styles:[["h1[_ngcontent-%COMP%]{margin:0 0 20px;text-transform:uppercase}.flexDiv[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-flow:row;flex-flow:row;-ms-flex-wrap:wrap;flex-wrap:wrap}mat-card[_ngcontent-%COMP%]{margin:auto;cursor:pointer}.mat-fab[_ngcontent-%COMP%]   .fa-icon[_ngcontent-%COMP%]{position:relative;top:4px}.image[_ngcontent-%COMP%]{width:300px}.divImg[_ngcontent-%COMP%]{margin:auto;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}#addButton[_ngcontent-%COMP%]{width:100%;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;margin-bottom:30px;margin-top:20px}.col-md-6[_ngcontent-%COMP%]{margin-bottom:20px}.red[_ngcontent-%COMP%]{background-color:#fa9696}.blue[_ngcontent-%COMP%]{background-color:#798cf8}.red2[_ngcontent-%COMP%]{background-color:#fdcdcd}.blue2[_ngcontent-%COMP%]{background-color:#acb8ff}.green[_ngcontent-%COMP%]{background-color:#a0fda8}.flex[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}.text-align-c[_ngcontent-%COMP%]{text-align:center}"]],data:{}});function View_CrudComponent_1(_l){return core.Nb(0,[(_l()(),core.sb(0,0,null,null,4,"h4",[],null,null,null,null,null)),core.Ib(512,null,common.z,common.A,[core.k,core.s,core.D]),core.rb(2,278528,null,0,common.n,[common.z],{ngStyle:[0,"ngStyle"]},null),core.Hb(3,{"text-align":0}),(_l()(),core.Lb(-1,null,["Veuillez ajoutez des éléments"]))],(function(_ck,_v){var currVal_0=_ck(_v,3,0,"center");_ck(_v,2,0,currVal_0)}),null)}function View_CrudComponent_3(_l){return core.Nb(0,[(_l()(),core.sb(0,0,null,null,2,"button",[["color","warn"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.delete(_v.parent.context.$implicit)&&ad),ad}),button_typings_index_ngfactory.d,button_typings_index_ngfactory.b)),core.rb(1,180224,null,0,esm2015_button.b,[core.k,a11y.h,[2,fesm2015_animations.a]],{color:[0,"color"]},null),(_l()(),core.Lb(-1,0,["Supprimer"]))],(function(_ck,_v){_ck(_v,1,0,"warn")}),(function(_ck,_v){_ck(_v,0,0,core.Eb(_v,1).disabled||null,"NoopAnimations"===core.Eb(_v,1)._animationMode)}))}function View_CrudComponent_2(_l){return core.Nb(0,[(_l()(),core.sb(0,0,null,null,28,"mat-card",[["class","mat-card"],["data-testid","crud-item"]],[[2,"_mat-animation-noopable",null]],null,null,card_typings_index_ngfactory.d,card_typings_index_ngfactory.a)),core.Ib(512,null,common.x,common.y,[core.r,core.s,core.k,core.D]),core.rb(2,278528,null,0,common.i,[common.x],{ngClass:[0,"ngClass"]},null),core.rb(3,49152,null,0,card.a,[[2,fesm2015_animations.a]],null,null),(_l()(),core.sb(4,0,null,0,2,"mat-card-header",[["class","mat-card-header"]],null,null,null,card_typings_index_ngfactory.c,card_typings_index_ngfactory.b)),core.rb(5,49152,null,0,card.e,[],null,null),(_l()(),core.Lb(-1,2,[" Moyenne des votes "])),(_l()(),core.sb(7,0,null,0,4,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),core.rb(8,16384,null,0,card.c,[],null,null),(_l()(),core.sb(9,0,null,null,2,"mat-slider",[["class","example-margin mat-slider"],["role","slider"]],[[8,"tabIndex",0],[1,"aria-disabled",0],[1,"aria-valuemax",0],[1,"aria-valuemin",0],[1,"aria-valuenow",0],[1,"aria-orientation",0],[2,"mat-slider-disabled",null],[2,"mat-slider-has-ticks",null],[2,"mat-slider-horizontal",null],[2,"mat-slider-axis-inverted",null],[2,"mat-slider-invert-mouse-coords",null],[2,"mat-slider-sliding",null],[2,"mat-slider-thumb-label-showing",null],[2,"mat-slider-vertical",null],[2,"mat-slider-min-value",null],[2,"mat-slider-hide-last-tick",null],[2,"_mat-animation-noopable",null]],[[null,"focus"],[null,"blur"],[null,"mousedown"],[null,"keydown"],[null,"keyup"],[null,"mouseenter"],[null,"slide"],[null,"slideend"],[null,"slidestart"],[null,"selectstart"]],(function(_v,en,$event){var ad=!0;return"focus"===en&&(ad=!1!==core.Eb(_v,11)._onFocus()&&ad),"blur"===en&&(ad=!1!==core.Eb(_v,11)._onBlur()&&ad),"mousedown"===en&&(ad=!1!==core.Eb(_v,11)._onMousedown($event)&&ad),"keydown"===en&&(ad=!1!==core.Eb(_v,11)._onKeydown($event)&&ad),"keyup"===en&&(ad=!1!==core.Eb(_v,11)._onKeyup()&&ad),"mouseenter"===en&&(ad=!1!==core.Eb(_v,11)._onMouseenter()&&ad),"slide"===en&&(ad=!1!==core.Eb(_v,11)._onSlide($event)&&ad),"slideend"===en&&(ad=!1!==core.Eb(_v,11)._onSlideEnd()&&ad),"slidestart"===en&&(ad=!1!==core.Eb(_v,11)._onSlideStart($event)&&ad),"selectstart"===en&&(ad=!1!==$event.preventDefault()&&ad),ad}),View_MatSlider_0,RenderType_MatSlider)),core.Ib(5120,null,fesm2015_forms.l,(function(p0_0){return[p0_0]}),[slider.a]),core.rb(11,245760,null,0,slider.a,[core.k,a11y.h,core.h,[2,bidi.b],[8,null],[2,fesm2015_animations.a]],{disabled:[0,"disabled"],max:[1,"max"],min:[2,"min"],step:[3,"step"],thumbLabel:[4,"thumbLabel"],tickInterval:[5,"tickInterval"],value:[6,"value"],vertical:[7,"vertical"]},null),(_l()(),core.sb(12,0,null,0,5,"div",[["class","flex"]],null,null,null,null,null)),(_l()(),core.sb(13,0,null,null,1,"h4",[["class","col-sm-10"],["data-testid","item-title"]],null,null,null,null,null)),(_l()(),core.Lb(14,null,["",""])),(_l()(),core.sb(15,0,null,null,2,"mat-slider",[["class","example-margin mat-slider"],["role","slider"]],[[8,"tabIndex",0],[1,"aria-disabled",0],[1,"aria-valuemax",0],[1,"aria-valuemin",0],[1,"aria-valuenow",0],[1,"aria-orientation",0],[2,"mat-slider-disabled",null],[2,"mat-slider-has-ticks",null],[2,"mat-slider-horizontal",null],[2,"mat-slider-axis-inverted",null],[2,"mat-slider-invert-mouse-coords",null],[2,"mat-slider-sliding",null],[2,"mat-slider-thumb-label-showing",null],[2,"mat-slider-vertical",null],[2,"mat-slider-min-value",null],[2,"mat-slider-hide-last-tick",null],[2,"_mat-animation-noopable",null]],[[null,"change"],[null,"focus"],[null,"blur"],[null,"mousedown"],[null,"keydown"],[null,"keyup"],[null,"mouseenter"],[null,"slide"],[null,"slideend"],[null,"slidestart"],[null,"selectstart"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"focus"===en&&(ad=!1!==core.Eb(_v,17)._onFocus()&&ad),"blur"===en&&(ad=!1!==core.Eb(_v,17)._onBlur()&&ad),"mousedown"===en&&(ad=!1!==core.Eb(_v,17)._onMousedown($event)&&ad),"keydown"===en&&(ad=!1!==core.Eb(_v,17)._onKeydown($event)&&ad),"keyup"===en&&(ad=!1!==core.Eb(_v,17)._onKeyup()&&ad),"mouseenter"===en&&(ad=!1!==core.Eb(_v,17)._onMouseenter()&&ad),"slide"===en&&(ad=!1!==core.Eb(_v,17)._onSlide($event)&&ad),"slideend"===en&&(ad=!1!==core.Eb(_v,17)._onSlideEnd()&&ad),"slidestart"===en&&(ad=!1!==core.Eb(_v,17)._onSlideStart($event)&&ad),"selectstart"===en&&(ad=!1!==$event.preventDefault()&&ad),"change"===en&&(ad=!1!==_co.onInputChange($event,_v.context.index)&&ad),ad}),View_MatSlider_0,RenderType_MatSlider)),core.Ib(5120,null,fesm2015_forms.l,(function(p0_0){return[p0_0]}),[slider.a]),core.rb(17,245760,null,0,slider.a,[core.k,a11y.h,core.h,[2,bidi.b],[8,null],[2,fesm2015_animations.a]],{max:[0,"max"],min:[1,"min"],step:[2,"step"],thumbLabel:[3,"thumbLabel"],tickInterval:[4,"tickInterval"],value:[5,"value"],vertical:[6,"vertical"]},{change:"change"}),(_l()(),core.sb(18,0,null,0,3,"textarea",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["maxlength","300"],["placeholder","Commentaires"]],[[8,"name",0],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"keyup"],[null,"blur"],[null,"focus"],[null,"input"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"blur"===en&&(ad=!1!==core.Eb(_v,20)._focusChanged(!1)&&ad),"focus"===en&&(ad=!1!==core.Eb(_v,20)._focusChanged(!0)&&ad),"input"===en&&(ad=!1!==core.Eb(_v,20)._onInput()&&ad),"keyup"===en&&(ad=!1!==_co.onTextInputChange($event,_v.context.index)&&ad),ad}),null,null)),core.Ib(6144,null,form_field.d,null,[esm2015_input.a]),core.rb(20,999424,null,0,esm2015_input.a,[core.k,platform.a,[8,null],[2,fesm2015_forms.p],[2,fesm2015_forms.i],esm2015_core.d,[8,null],text_field.a,core.y],{placeholder:[0,"placeholder"]},null),(_l()(),core.Lb(21,null,["",""])),(_l()(),core.sb(22,0,null,0,6,"mat-card-actions",[["class","mat-card-actions"]],[[2,"mat-card-actions-align-end",null]],null,null,null,null)),core.rb(23,16384,null,0,card.b,[],null,null),(_l()(),core.sb(24,0,null,null,2,"button",[["color","accent"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.launch(_v.context.index)&&ad),ad}),button_typings_index_ngfactory.d,button_typings_index_ngfactory.b)),core.rb(25,180224,null,0,esm2015_button.b,[core.k,a11y.h,[2,fesm2015_animations.a]],{color:[0,"color"]},null),(_l()(),core.Lb(-1,0,["Envoyer"])),(_l()(),core.hb(16777216,null,null,1,null,View_CrudComponent_3)),core.rb(28,16384,null,0,common.k,[core.O,core.L],{ngIf:[0,"ngIf"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,2,0,_v.context.$implicit.style+" routeAnimationsElements"),_ck(_v,11,0,!0,5,1,1,!1,1,_v.context.$implicit.avg,!1),_ck(_v,17,0,5,1,1,!0,1,_v.context.$implicit.niveauDaccord,!0),_ck(_v,20,0,"Commentaires"),_ck(_v,25,0,"accent"),_ck(_v,28,0,"malric.philippe@gmail.com"==_co.authName)}),(function(_ck,_v){_ck(_v,0,0,"NoopAnimations"===core.Eb(_v,3)._animationMode),_ck(_v,9,1,[core.Eb(_v,11).tabIndex,core.Eb(_v,11).disabled,core.Eb(_v,11).max,core.Eb(_v,11).min,core.Eb(_v,11).value,core.Eb(_v,11).vertical?"vertical":"horizontal",core.Eb(_v,11).disabled,core.Eb(_v,11).tickInterval,!core.Eb(_v,11).vertical,core.Eb(_v,11)._invertAxis,core.Eb(_v,11)._shouldInvertMouseCoords(),core.Eb(_v,11)._isSliding,core.Eb(_v,11).thumbLabel,core.Eb(_v,11).vertical,core.Eb(_v,11)._isMinValue,core.Eb(_v,11).disabled||core.Eb(_v,11)._isMinValue&&core.Eb(_v,11)._thumbGap&&core.Eb(_v,11)._invertAxis,"NoopAnimations"===core.Eb(_v,11)._animationMode]),_ck(_v,14,0,_v.context.$implicit.texte),_ck(_v,15,1,[core.Eb(_v,17).tabIndex,core.Eb(_v,17).disabled,core.Eb(_v,17).max,core.Eb(_v,17).min,core.Eb(_v,17).value,core.Eb(_v,17).vertical?"vertical":"horizontal",core.Eb(_v,17).disabled,core.Eb(_v,17).tickInterval,!core.Eb(_v,17).vertical,core.Eb(_v,17)._invertAxis,core.Eb(_v,17)._shouldInvertMouseCoords(),core.Eb(_v,17)._isSliding,core.Eb(_v,17).thumbLabel,core.Eb(_v,17).vertical,core.Eb(_v,17)._isMinValue,core.Eb(_v,17).disabled||core.Eb(_v,17)._isMinValue&&core.Eb(_v,17)._thumbGap&&core.Eb(_v,17)._invertAxis,"NoopAnimations"===core.Eb(_v,17)._animationMode]),_ck(_v,18,0,core.wb(1,"text-",_v.context.index,""),core.Eb(_v,20)._isServer,core.Eb(_v,20).id,core.Eb(_v,20).placeholder,core.Eb(_v,20).disabled,core.Eb(_v,20).required,core.Eb(_v,20).readonly&&!core.Eb(_v,20)._isNativeSelect||null,core.Eb(_v,20)._ariaDescribedby||null,core.Eb(_v,20).errorState,core.Eb(_v,20).required.toString()),_ck(_v,21,0,_v.context.$implicit.commentaire),_ck(_v,22,0,"end"===core.Eb(_v,23).align),_ck(_v,24,0,core.Eb(_v,25).disabled||null,"NoopAnimations"===core.Eb(_v,25)._animationMode)}))}function View_CrudComponent_0(_l){return core.Nb(0,[(_l()(),core.sb(0,0,null,null,8,"div",[["rtl",""]],null,null,null,null,null)),core.rb(1,212992,null,0,rtl_support_directive.a,[core.k,ngx_translate_core.j],null,null),(_l()(),core.hb(16777216,null,null,2,null,View_CrudComponent_1)),core.rb(3,16384,null,0,common.k,[core.O,core.L],{ngIf:[0,"ngIf"]},null),core.Gb(131072,common.b,[core.h]),(_l()(),core.sb(5,0,null,null,3,"div",[["class","flexDiv"]],null,null,null,null,null)),(_l()(),core.hb(16777216,null,null,2,null,View_CrudComponent_2)),core.rb(7,278528,null,0,common.j,[core.O,core.L,core.r],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),core.Gb(131072,common.b,[core.h])],(function(_ck,_v){var tmp_0_0,_co=_v.component;_ck(_v,1,0),_ck(_v,3,0,0==(null==(tmp_0_0=core.Mb(_v,3,0,core.Eb(_v,4).transform(_co.myLogos$)))?null:tmp_0_0.length)),_ck(_v,7,0,core.Mb(_v,7,0,core.Eb(_v,8).transform(_co.myLogos$)),_co.trackByIndex)}),null)}function View_CrudComponent_Host_0(_l){return core.Nb(0,[(_l()(),core.sb(0,0,null,null,1,"anms-crud",[],null,null,null,View_CrudComponent_0,RenderType_CrudComponent)),core.rb(1,114688,null,0,crud_component_CrudComponent,[core.h,es2015_firestore.a,fesm2015_store.o,fesm2015_forms.e,fesm2015_router.p,fesm2015_store.o,fesm2015_store.o,data_service.a,core.h],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var CrudComponentNgFactory=core.ob("anms-crud",crud_component_CrudComponent,View_CrudComponent_Host_0,{},{},[]);new core.p("app.config");const AppConfig={N:100,SPECTRUM:["rgb(176,212,243)","rgb(128,186,236)","rgb(77,158,228)","rgb(38,137,223)","rgb(0,116,217)","rgb(0,106,197)"],routes:{login:"login",signup:"signup",heroes:"heroes",enjeux:"enjeux",presence:"presence",profil:"profil",collier:"collier",about:"about",error404:"404"},votesLimit:1,topEnjeuxLimit:10,topHeroesLimit:5,snackBarDuration:3e3,repositoryURL:"https://github.com/PhilippeMalric/toudeparole.git",sentryDSN:"https://75a52f7d42f044efa1602e73c1f60a5a@sentry.io/1447956"};class node_Node{constructor(id,img,label,niveau,x,y,avg,win,texte=""){this.linkCount=0,this.normal=()=>Math.sqrt(this.linkCount/AppConfig.N),this.id=id,this.img=img,this.label=label,this.niveau=niveau,this.box={},this.x=x,this.y=y,this.avg=avg,this.win=win,this.texte=texte}get r(){return 50*this.normal()+10}get fontSize(){return 30*this.normal()+10+"px"}get color(){let index=Math.floor(AppConfig.SPECTRUM.length*this.normal());return AppConfig.SPECTRUM[index]}}var compare,f,ascending=function(a,b){return a<b?-1:a>b?1:a>=b?0:NaN};1===(compare=ascending).length&&(f=compare,compare=function(d,x){return ascending(f(d),x)}),Array,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var noop={value:function(){}};function dispatch(){for(var t,i=0,n=arguments.length,_={};i<n;++i){if(!(t=arguments[i]+"")||t in _||/[\s.]/.test(t))throw new Error("illegal type: "+t);_[t]=[]}return new Dispatch(_)}function Dispatch(_){this._=_}function parseTypenames(typenames,types){return typenames.trim().split(/^|\s+/).map((function(t){var name="",i=t.indexOf(".");if(i>=0&&(name=t.slice(i+1),t=t.slice(0,i)),t&&!types.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:name}}))}function get(type,name){for(var c,i=0,n=type.length;i<n;++i)if((c=type[i]).name===name)return c.value}function set(type,name,callback){for(var i=0,n=type.length;i<n;++i)if(type[i].name===name){type[i]=noop,type=type.slice(0,i).concat(type.slice(i+1));break}return null!=callback&&type.push({name:name,value:callback}),type}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(typename,callback){var t,_=this._,T=parseTypenames(typename+"",_),i=-1,n=T.length;if(!(arguments.length<2)){if(null!=callback&&"function"!=typeof callback)throw new Error("invalid callback: "+callback);for(;++i<n;)if(t=(typename=T[i]).type)_[t]=set(_[t],typename.name,callback);else if(null==callback)for(t in _)_[t]=set(_[t],typename.name,null);return this}for(;++i<n;)if((t=(typename=T[i]).type)&&(t=get(_[t],typename.name)))return t},copy:function(){var copy={},_=this._;for(var t in _)copy[t]=_[t].slice();return new Dispatch(copy)},call:function(type,that){if((n=arguments.length-2)>0)for(var n,t,args=new Array(n),i=0;i<n;++i)args[i]=arguments[i+2];if(!this._.hasOwnProperty(type))throw new Error("unknown type: "+type);for(i=0,n=(t=this._[type]).length;i<n;++i)t[i].value.apply(that,args)},apply:function(type,that,args){if(!this._.hasOwnProperty(type))throw new Error("unknown type: "+type);for(var t=this._[type],i=0,n=t.length;i<n;++i)t[i].value.apply(that,args)}};var src_dispatch=dispatch;function none(){}var src_selector=function(selector){return null==selector?none:function(){return this.querySelector(selector)}};function selectorAll_empty(){return[]}var sparse=function(update){return new Array(update.length)};function EnterNode(parent,datum){this.ownerDocument=parent.ownerDocument,this.namespaceURI=parent.namespaceURI,this._next=null,this._parent=parent,this.__data__=datum}EnterNode.prototype={constructor:EnterNode,appendChild:function(child){return this._parent.insertBefore(child,this._next)},insertBefore:function(child,next){return this._parent.insertBefore(child,next)},querySelector:function(selector){return this._parent.querySelector(selector)},querySelectorAll:function(selector){return this._parent.querySelectorAll(selector)}};var keyPrefix="$";function bindIndex(parent,group,enter,update,exit,data){for(var node,i=0,groupLength=group.length,dataLength=data.length;i<dataLength;++i)(node=group[i])?(node.__data__=data[i],update[i]=node):enter[i]=new EnterNode(parent,data[i]);for(;i<groupLength;++i)(node=group[i])&&(exit[i]=node)}function bindKey(parent,group,enter,update,exit,data,key){var i,node,keyValue,nodeByKeyValue={},groupLength=group.length,dataLength=data.length,keyValues=new Array(groupLength);for(i=0;i<groupLength;++i)(node=group[i])&&(keyValues[i]=keyValue=keyPrefix+key.call(node,node.__data__,i,group),keyValue in nodeByKeyValue?exit[i]=node:nodeByKeyValue[keyValue]=node);for(i=0;i<dataLength;++i)(node=nodeByKeyValue[keyValue=keyPrefix+key.call(parent,data[i],i,data)])?(update[i]=node,node.__data__=data[i],nodeByKeyValue[keyValue]=null):enter[i]=new EnterNode(parent,data[i]);for(i=0;i<groupLength;++i)(node=group[i])&&nodeByKeyValue[keyValues[i]]===node&&(exit[i]=node)}function sort_ascending(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}var xhtml="http://www.w3.org/1999/xhtml",namespaces={svg:"http://www.w3.org/2000/svg",xhtml:xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},namespace=function(name){var prefix=name+="",i=prefix.indexOf(":");return i>=0&&"xmlns"!==(prefix=name.slice(0,i))&&(name=name.slice(i+1)),namespaces.hasOwnProperty(prefix)?{space:namespaces[prefix],local:name}:name};function attrRemove(name){return function(){this.removeAttribute(name)}}function attrRemoveNS(fullname){return function(){this.removeAttributeNS(fullname.space,fullname.local)}}function attrConstant(name,value){return function(){this.setAttribute(name,value)}}function attrConstantNS(fullname,value){return function(){this.setAttributeNS(fullname.space,fullname.local,value)}}function attrFunction(name,value){return function(){var v=value.apply(this,arguments);null==v?this.removeAttribute(name):this.setAttribute(name,v)}}function attrFunctionNS(fullname,value){return function(){var v=value.apply(this,arguments);null==v?this.removeAttributeNS(fullname.space,fullname.local):this.setAttributeNS(fullname.space,fullname.local,v)}}var src_window=function(node){return node.ownerDocument&&node.ownerDocument.defaultView||node.document&&node||node.defaultView};function styleRemove(name){return function(){this.style.removeProperty(name)}}function styleConstant(name,value,priority){return function(){this.style.setProperty(name,value,priority)}}function styleFunction(name,value,priority){return function(){var v=value.apply(this,arguments);null==v?this.style.removeProperty(name):this.style.setProperty(name,v,priority)}}function styleValue(node,name){return node.style.getPropertyValue(name)||src_window(node).getComputedStyle(node,null).getPropertyValue(name)}function propertyRemove(name){return function(){delete this[name]}}function propertyConstant(name,value){return function(){this[name]=value}}function propertyFunction(name,value){return function(){var v=value.apply(this,arguments);null==v?delete this[name]:this[name]=v}}function classArray(string){return string.trim().split(/^|\s+/)}function classList(node){return node.classList||new ClassList(node)}function ClassList(node){this._node=node,this._names=classArray(node.getAttribute("class")||"")}function classedAdd(node,names){for(var list=classList(node),i=-1,n=names.length;++i<n;)list.add(names[i])}function classedRemove(node,names){for(var list=classList(node),i=-1,n=names.length;++i<n;)list.remove(names[i])}function classedTrue(names){return function(){classedAdd(this,names)}}function classedFalse(names){return function(){classedRemove(this,names)}}function classedFunction(names,value){return function(){(value.apply(this,arguments)?classedAdd:classedRemove)(this,names)}}function textRemove(){this.textContent=""}function textConstant(value){return function(){this.textContent=value}}function textFunction(value){return function(){var v=value.apply(this,arguments);this.textContent=null==v?"":v}}function htmlRemove(){this.innerHTML=""}function htmlConstant(value){return function(){this.innerHTML=value}}function htmlFunction(value){return function(){var v=value.apply(this,arguments);this.innerHTML=null==v?"":v}}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function creatorInherit(name){return function(){var document=this.ownerDocument,uri=this.namespaceURI;return uri===xhtml&&document.documentElement.namespaceURI===xhtml?document.createElement(name):document.createElementNS(uri,name)}}function creatorFixed(fullname){return function(){return this.ownerDocument.createElementNS(fullname.space,fullname.local)}}ClassList.prototype={add:function(name){this._names.indexOf(name)<0&&(this._names.push(name),this._node.setAttribute("class",this._names.join(" ")))},remove:function(name){var i=this._names.indexOf(name);i>=0&&(this._names.splice(i,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(name){return this._names.indexOf(name)>=0}};var creator=function(name){var fullname=namespace(name);return(fullname.local?creatorFixed:creatorInherit)(fullname)};function constantNull(){return null}function remove(){var parent=this.parentNode;parent&&parent.removeChild(this)}function selection_cloneShallow(){var clone=this.cloneNode(!1),parent=this.parentNode;return parent?parent.insertBefore(clone,this.nextSibling):clone}function selection_cloneDeep(){var clone=this.cloneNode(!0),parent=this.parentNode;return parent?parent.insertBefore(clone,this.nextSibling):clone}var filterEvents={},on_event=null;function filterContextListener(listener,index,group){return listener=contextListener(listener,index,group),function(event){var related=event.relatedTarget;related&&(related===this||8&related.compareDocumentPosition(this))||listener.call(this,event)}}function contextListener(listener,index,group){return function(event1){var event0=on_event;on_event=event1;try{listener.call(this,this.__data__,index,group)}finally{on_event=event0}}}function on_parseTypenames(typenames){return typenames.trim().split(/^|\s+/).map((function(t){var name="",i=t.indexOf(".");return i>=0&&(name=t.slice(i+1),t=t.slice(0,i)),{type:t,name:name}}))}function onRemove(typename){return function(){var on=this.__on;if(on){for(var o,j=0,i=-1,m=on.length;j<m;++j)o=on[j],typename.type&&o.type!==typename.type||o.name!==typename.name?on[++i]=o:this.removeEventListener(o.type,o.listener,o.capture);++i?on.length=i:delete this.__on}}}function onAdd(typename,value,capture){var wrap=filterEvents.hasOwnProperty(typename.type)?filterContextListener:contextListener;return function(d,i,group){var o,on=this.__on,listener=wrap(value,i,group);if(on)for(var j=0,m=on.length;j<m;++j)if((o=on[j]).type===typename.type&&o.name===typename.name)return this.removeEventListener(o.type,o.listener,o.capture),this.addEventListener(o.type,o.listener=listener,o.capture=capture),void(o.value=value);this.addEventListener(typename.type,listener,capture),o={type:typename.type,name:typename.name,value:value,listener:listener,capture:capture},on?on.push(o):this.__on=[o]}}function customEvent(event1,listener,that,args){var event0=on_event;event1.sourceEvent=on_event,on_event=event1;try{return listener.apply(that,args)}finally{on_event=event0}}function dispatchEvent(node,type,params){var window=src_window(node),event=window.CustomEvent;"function"==typeof event?event=new event(type,params):(event=window.document.createEvent("Event"),params?(event.initEvent(type,params.bubbles,params.cancelable),event.detail=params.detail):event.initEvent(type,!1,!1)),node.dispatchEvent(event)}function dispatchConstant(type,params){return function(){return dispatchEvent(this,type,params)}}function dispatchFunction(type,params){return function(){return dispatchEvent(this,type,params.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(filterEvents={mouseenter:"mouseover",mouseleave:"mouseout"}));var selection_root=[null];function Selection(groups,parents){this._groups=groups,this._parents=parents}Selection.prototype=(function(){return new Selection([[document.documentElement]],selection_root)}).prototype={constructor:Selection,select:function(select){"function"!=typeof select&&(select=src_selector(select));for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,subnode,group=groups[j],n=group.length,subgroup=subgroups[j]=new Array(n),i=0;i<n;++i)(node=group[i])&&(subnode=select.call(node,node.__data__,i,group))&&("__data__"in node&&(subnode.__data__=node.__data__),subgroup[i]=subnode);return new Selection(subgroups,this._parents)},selectAll:function(select){var selector;"function"!=typeof select&&(select=null==(selector=select)?selectorAll_empty:function(){return this.querySelectorAll(selector)});for(var groups=this._groups,m=groups.length,subgroups=[],parents=[],j=0;j<m;++j)for(var node,group=groups[j],n=group.length,i=0;i<n;++i)(node=group[i])&&(subgroups.push(select.call(node,node.__data__,i,group)),parents.push(node));return new Selection(subgroups,parents)},filter:function(match){var selector;"function"!=typeof match&&(selector=match,match=function(){return this.matches(selector)});for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,group=groups[j],n=group.length,subgroup=subgroups[j]=[],i=0;i<n;++i)(node=group[i])&&match.call(node,node.__data__,i,group)&&subgroup.push(node);return new Selection(subgroups,this._parents)},data:function(value,key){if(!value)return data=new Array(this.size()),j=-1,this.each((function(d){data[++j]=d})),data;var x,bind=key?bindKey:bindIndex,parents=this._parents,groups=this._groups;"function"!=typeof value&&(x=value,value=function(){return x});for(var m=groups.length,update=new Array(m),enter=new Array(m),exit=new Array(m),j=0;j<m;++j){var parent=parents[j],group=groups[j],groupLength=group.length,data=value.call(parent,parent&&parent.__data__,j,parents),dataLength=data.length,enterGroup=enter[j]=new Array(dataLength),updateGroup=update[j]=new Array(dataLength);bind(parent,group,enterGroup,updateGroup,exit[j]=new Array(groupLength),data,key);for(var previous,next,i0=0,i1=0;i0<dataLength;++i0)if(previous=enterGroup[i0]){for(i0>=i1&&(i1=i0+1);!(next=updateGroup[i1])&&++i1<dataLength;);previous._next=next||null}}return(update=new Selection(update,parents))._enter=enter,update._exit=exit,update},enter:function(){return new Selection(this._enter||this._groups.map(sparse),this._parents)},exit:function(){return new Selection(this._exit||this._groups.map(sparse),this._parents)},join:function(onenter,onupdate,onexit){var enter=this.enter(),update=this,exit=this.exit();return enter="function"==typeof onenter?onenter(enter):enter.append(onenter+""),null!=onupdate&&(update=onupdate(update)),null==onexit?exit.remove():onexit(exit),enter&&update?enter.merge(update).order():update},merge:function(selection){for(var groups0=this._groups,groups1=selection._groups,m0=groups0.length,m=Math.min(m0,groups1.length),merges=new Array(m0),j=0;j<m;++j)for(var node,group0=groups0[j],group1=groups1[j],n=group0.length,merge=merges[j]=new Array(n),i=0;i<n;++i)(node=group0[i]||group1[i])&&(merge[i]=node);for(;j<m0;++j)merges[j]=groups0[j];return new Selection(merges,this._parents)},order:function(){for(var groups=this._groups,j=-1,m=groups.length;++j<m;)for(var node,group=groups[j],i=group.length-1,next=group[i];--i>=0;)(node=group[i])&&(next&&4^node.compareDocumentPosition(next)&&next.parentNode.insertBefore(node,next),next=node);return this},sort:function(compare){function compareNode(a,b){return a&&b?compare(a.__data__,b.__data__):!a-!b}compare||(compare=sort_ascending);for(var groups=this._groups,m=groups.length,sortgroups=new Array(m),j=0;j<m;++j){for(var node,group=groups[j],n=group.length,sortgroup=sortgroups[j]=new Array(n),i=0;i<n;++i)(node=group[i])&&(sortgroup[i]=node);sortgroup.sort(compareNode)}return new Selection(sortgroups,this._parents).order()},call:function(){var callback=arguments[0];return arguments[0]=this,callback.apply(null,arguments),this},nodes:function(){var nodes=new Array(this.size()),i=-1;return this.each((function(){nodes[++i]=this})),nodes},node:function(){for(var groups=this._groups,j=0,m=groups.length;j<m;++j)for(var group=groups[j],i=0,n=group.length;i<n;++i){var node=group[i];if(node)return node}return null},size:function(){var size=0;return this.each((function(){++size})),size},empty:function(){return!this.node()},each:function(callback){for(var groups=this._groups,j=0,m=groups.length;j<m;++j)for(var node,group=groups[j],i=0,n=group.length;i<n;++i)(node=group[i])&&callback.call(node,node.__data__,i,group);return this},attr:function(name,value){var fullname=namespace(name);if(arguments.length<2){var node=this.node();return fullname.local?node.getAttributeNS(fullname.space,fullname.local):node.getAttribute(fullname)}return this.each((null==value?fullname.local?attrRemoveNS:attrRemove:"function"==typeof value?fullname.local?attrFunctionNS:attrFunction:fullname.local?attrConstantNS:attrConstant)(fullname,value))},style:function(name,value,priority){return arguments.length>1?this.each((null==value?styleRemove:"function"==typeof value?styleFunction:styleConstant)(name,value,null==priority?"":priority)):styleValue(this.node(),name)},property:function(name,value){return arguments.length>1?this.each((null==value?propertyRemove:"function"==typeof value?propertyFunction:propertyConstant)(name,value)):this.node()[name]},classed:function(name,value){var names=classArray(name+"");if(arguments.length<2){for(var list=classList(this.node()),i=-1,n=names.length;++i<n;)if(!list.contains(names[i]))return!1;return!0}return this.each(("function"==typeof value?classedFunction:value?classedTrue:classedFalse)(names,value))},text:function(value){return arguments.length?this.each(null==value?textRemove:("function"==typeof value?textFunction:textConstant)(value)):this.node().textContent},html:function(value){return arguments.length?this.each(null==value?htmlRemove:("function"==typeof value?htmlFunction:htmlConstant)(value)):this.node().innerHTML},raise:function(){return this.each(raise)},lower:function(){return this.each(lower)},append:function(name){var create="function"==typeof name?name:creator(name);return this.select((function(){return this.appendChild(create.apply(this,arguments))}))},insert:function(name,before){var create="function"==typeof name?name:creator(name),select=null==before?constantNull:"function"==typeof before?before:src_selector(before);return this.select((function(){return this.insertBefore(create.apply(this,arguments),select.apply(this,arguments)||null)}))},remove:function(){return this.each(remove)},clone:function(deep){return this.select(deep?selection_cloneDeep:selection_cloneShallow)},datum:function(value){return arguments.length?this.property("__data__",value):this.node().__data__},on:function(typename,value,capture){var i,t,typenames=on_parseTypenames(typename+""),n=typenames.length;if(!(arguments.length<2)){for(on=value?onAdd:onRemove,null==capture&&(capture=!1),i=0;i<n;++i)this.each(on(typenames[i],value,capture));return this}var on=this.node().__on;if(on)for(var o,j=0,m=on.length;j<m;++j)for(i=0,o=on[j];i<n;++i)if((t=typenames[i]).type===o.type&&t.name===o.name)return o.value},dispatch:function(type,params){return this.each(("function"==typeof params?dispatchFunction:dispatchConstant)(type,params))}};var src_select=function(selector){return"string"==typeof selector?new Selection([[document.querySelector(selector)]],[document.documentElement]):new Selection([[selector]],selection_root)};function nopropagation(){on_event.stopImmediatePropagation()}var noevent=function(){on_event.preventDefault(),on_event.stopImmediatePropagation()},nodrag=function(view){var root=view.document.documentElement,selection=src_select(view).on("dragstart.drag",noevent,!0);"onselectstart"in root?selection.on("selectstart.drag",noevent,!0):(root.__noselect=root.style.MozUserSelect,root.style.MozUserSelect="none")};function yesdrag(view,noclick){var root=view.document.documentElement,selection=src_select(view).on("dragstart.drag",null);noclick&&(selection.on("click.drag",noevent,!0),setTimeout((function(){selection.on("click.drag",null)}),0)),"onselectstart"in root?selection.on("selectstart.drag",null):(root.style.MozUserSelect=root.__noselect,delete root.__noselect)}var define=function(constructor,factory,prototype){constructor.prototype=factory.prototype=prototype,prototype.constructor=constructor};function extend(parent,definition){var prototype=Object.create(parent.prototype);for(var key in definition)prototype[key]=definition[key];return prototype}function Color(){}var reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp("^rgb\\("+[reI,reI,reI]+"\\)$"),reRgbPercent=new RegExp("^rgb\\("+[reP,reP,reP]+"\\)$"),reRgbaInteger=new RegExp("^rgba\\("+[reI,reI,reI,reN]+"\\)$"),reRgbaPercent=new RegExp("^rgba\\("+[reP,reP,reP,reN]+"\\)$"),reHslPercent=new RegExp("^hsl\\("+[reN,reP,reP]+"\\)$"),reHslaPercent=new RegExp("^hsla\\("+[reN,reP,reP,reN]+"\\)$"),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color_formatHex(){return this.rgb().formatHex()}function color_formatRgb(){return this.rgb().formatRgb()}function color_color(format){var m,l;return format=(format+"").trim().toLowerCase(),(m=reHex.exec(format))?(l=m[1].length,m=parseInt(m[1],16),6===l?rgbn(m):3===l?new Rgb(m>>8&15|m>>4&240,m>>4&15|240&m,(15&m)<<4|15&m,1):8===l?new Rgb(m>>24&255,m>>16&255,m>>8&255,(255&m)/255):4===l?new Rgb(m>>12&15|m>>8&240,m>>8&15|m>>4&240,m>>4&15|240&m,((15&m)<<4|15&m)/255):null):(m=reRgbInteger.exec(format))?new Rgb(m[1],m[2],m[3],1):(m=reRgbPercent.exec(format))?new Rgb(255*m[1]/100,255*m[2]/100,255*m[3]/100,1):(m=reRgbaInteger.exec(format))?rgba(m[1],m[2],m[3],m[4]):(m=reRgbaPercent.exec(format))?rgba(255*m[1]/100,255*m[2]/100,255*m[3]/100,m[4]):(m=reHslPercent.exec(format))?hsla(m[1],m[2]/100,m[3]/100,1):(m=reHslaPercent.exec(format))?hsla(m[1],m[2]/100,m[3]/100,m[4]):named.hasOwnProperty(format)?rgbn(named[format]):"transparent"===format?new Rgb(NaN,NaN,NaN,0):null}function rgbn(n){return new Rgb(n>>16&255,n>>8&255,255&n,1)}function rgba(r,g,b,a){return a<=0&&(r=g=b=NaN),new Rgb(r,g,b,a)}function color_rgb(r,g,b,opacity){return 1===arguments.length?((o=r)instanceof Color||(o=color_color(o)),o?new Rgb((o=o.rgb()).r,o.g,o.b,o.opacity):new Rgb):new Rgb(r,g,b,null==opacity?1:opacity);var o}function Rgb(r,g,b,opacity){this.r=+r,this.g=+g,this.b=+b,this.opacity=+opacity}function rgb_formatHex(){return"#"+hex(this.r)+hex(this.g)+hex(this.b)}function rgb_formatRgb(){var a=this.opacity;return(1===(a=isNaN(a)?1:Math.max(0,Math.min(1,a)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===a?")":", "+a+")")}function hex(value){return((value=Math.max(0,Math.min(255,Math.round(value)||0)))<16?"0":"")+value.toString(16)}function hsla(h,s,l,a){return a<=0?h=s=l=NaN:l<=0||l>=1?h=s=NaN:s<=0&&(h=NaN),new Hsl(h,s,l,a)}function hslConvert(o){if(o instanceof Hsl)return new Hsl(o.h,o.s,o.l,o.opacity);if(o instanceof Color||(o=color_color(o)),!o)return new Hsl;if(o instanceof Hsl)return o;var r=(o=o.rgb()).r/255,g=o.g/255,b=o.b/255,min=Math.min(r,g,b),max=Math.max(r,g,b),h=NaN,s=max-min,l=(max+min)/2;return s?(h=r===max?(g-b)/s+6*(g<b):g===max?(b-r)/s+2:(r-g)/s+4,s/=l<.5?max+min:2-max-min,h*=60):s=l>0&&l<1?0:h,new Hsl(h,s,l,o.opacity)}function Hsl(h,s,l,opacity){this.h=+h,this.s=+s,this.l=+l,this.opacity=+opacity}function hsl2rgb(h,m1,m2){return 255*(h<60?m1+(m2-m1)*h/60:h<180?m2:h<240?m1+(m2-m1)*(240-h)/60:m1)}function basis(t1,v0,v1,v2,v3){var t2=t1*t1,t3=t2*t1;return((1-3*t1+3*t2-t3)*v0+(4-6*t2+3*t3)*v1+(1+3*t1+3*t2-3*t3)*v2+t3*v3)/6}define(Color,color_color,{copy:function(channels){return Object.assign(new this.constructor,this,channels)},displayable:function(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHsl:function(){return hslConvert(this).formatHsl()},formatRgb:color_formatRgb,toString:color_formatRgb}),define(Rgb,color_rgb,extend(Color,{brighter:function(k){return k=null==k?1/.7:Math.pow(1/.7,k),new Rgb(this.r*k,this.g*k,this.b*k,this.opacity)},darker:function(k){return k=null==k?.7:Math.pow(.7,k),new Rgb(this.r*k,this.g*k,this.b*k,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatRgb:rgb_formatRgb,toString:rgb_formatRgb})),define(Hsl,(function(h,s,l,opacity){return 1===arguments.length?hslConvert(h):new Hsl(h,s,l,null==opacity?1:opacity)}),extend(Color,{brighter:function(k){return k=null==k?1/.7:Math.pow(1/.7,k),new Hsl(this.h,this.s,this.l*k,this.opacity)},darker:function(k){return k=null==k?.7:Math.pow(.7,k),new Hsl(this.h,this.s,this.l*k,this.opacity)},rgb:function(){var h=this.h%360+360*(this.h<0),s=isNaN(h)||isNaN(this.s)?0:this.s,l=this.l,m2=l+(l<.5?l:1-l)*s,m1=2*l-m2;return new Rgb(hsl2rgb(h>=240?h-240:h+120,m1,m2),hsl2rgb(h,m1,m2),hsl2rgb(h<120?h+240:h-120,m1,m2),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var a=this.opacity;return(1===(a=isNaN(a)?1:Math.max(0,Math.min(1,a)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===a?")":", "+a+")")}}));var d3_interpolate_src_constant=function(x){return function(){return x}};function nogamma(a,b){var d=b-a;return d?function(a,d){return function(t){return a+t*d}}(a,d):d3_interpolate_src_constant(isNaN(a)?b:a)}function rgbSpline(spline){return function(colors){var i,color,n=colors.length,r=new Array(n),g=new Array(n),b=new Array(n);for(i=0;i<n;++i)color=color_rgb(colors[i]),r[i]=color.r||0,g[i]=color.g||0,b[i]=color.b||0;return r=spline(r),g=spline(g),b=spline(b),color.opacity=1,function(t){return color.r=r(t),color.g=g(t),color.b=b(t),color+""}}}!function rgbGamma(y){var color=function(y){return 1==(y=+y)?nogamma:function(a,b){return b-a?function(a,b,y){return a=Math.pow(a,y),b=Math.pow(b,y)-a,y=1/y,function(t){return Math.pow(a+t*b,y)}}(a,b,y):d3_interpolate_src_constant(isNaN(a)?b:a)}}(y);function rgb(start,end){var r=color((start=color_rgb(start)).r,(end=color_rgb(end)).r),g=color(start.g,end.g),b=color(start.b,end.b),opacity=nogamma(start.opacity,end.opacity);return function(t){return start.r=r(t),start.g=g(t),start.b=b(t),start.opacity=opacity(t),start+""}}return rgb.gamma=rgbGamma,rgb}(1),rgbSpline((function(values){var n=values.length-1;return function(t){var i=t<=0?t=0:t>=1?(t=1,n-1):Math.floor(t*n),v1=values[i],v2=values[i+1];return basis((t-i/n)*n,i>0?values[i-1]:2*v1-v2,v1,v2,i<n-1?values[i+2]:2*v2-v1)}})),rgbSpline((function(values){var n=values.length;return function(t){var i=Math.floor(((t%=1)<0?++t:t)*n);return basis((t-i/n)*n,values[(i+n-1)%n],values[i%n],values[(i+1)%n],values[(i+2)%n])}})),new RegExp(/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g.source,"g");var taskHead,taskTail,sourceEvent=function(){for(var source,current=on_event;source=current.sourceEvent;)current=source;return current},src_point=function(node,event){var svg=node.ownerSVGElement||node;if(svg.createSVGPoint){var point=svg.createSVGPoint();return point.x=event.clientX,point.y=event.clientY,[(point=point.matrixTransform(node.getScreenCTM().inverse())).x,point.y]}var rect=node.getBoundingClientRect();return[event.clientX-rect.left-node.clientLeft,event.clientY-rect.top-node.clientTop]},src_touch=function(node,touches,identifier){arguments.length<3&&(identifier=touches,touches=sourceEvent().changedTouches);for(var touch,i=0,n=touches?touches.length:0;i<n;++i)if((touch=touches[i]).identifier===identifier)return src_point(node,touch);return null},mouse=function(node){var event=sourceEvent();return event.changedTouches&&(event=event.changedTouches[0]),src_point(node,event)},timer_frame=0,timeout=0,timer_interval=0,pokeDelay=1e3,clockLast=0,clockNow=0,clockSkew=0,clock="object"==typeof performance&&performance.now?performance:Date,setFrame="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(f){setTimeout(f,17)};function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}function timer(callback,delay,time){var t=new Timer;return t.restart(callback,delay,time),t}function wake(){clockNow=(clockLast=clock.now())+clockSkew,timer_frame=timeout=0;try{!function(){now(),++timer_frame;for(var e,t=taskHead;t;)(e=clockNow-t._time)>=0&&t._call.call(null,e),t=t._next;--timer_frame}()}finally{timer_frame=0,function(){for(var t0,t2,t1=taskHead,time=1/0;t1;)t1._call?(time>t1._time&&(time=t1._time),t0=t1,t1=t1._next):(t2=t1._next,t1._next=null,t1=t0?t0._next=t2:taskHead=t2);taskTail=t0,sleep(time)}(),clockNow=0}}function poke(){var now=clock.now(),delay=now-clockLast;delay>pokeDelay&&(clockSkew-=delay,clockLast=now)}function sleep(time){timer_frame||(timeout&&(timeout=clearTimeout(timeout)),time-clockNow>24?(time<1/0&&(timeout=setTimeout(wake,time-clock.now()-clockSkew)),timer_interval&&(timer_interval=clearInterval(timer_interval))):(timer_interval||(clockLast=clock.now(),timer_interval=setInterval(poke,pokeDelay)),timer_frame=1,setFrame(wake)))}Timer.prototype=timer.prototype={constructor:Timer,restart:function(callback,delay,time){if("function"!=typeof callback)throw new TypeError("callback is not a function");time=(null==time?now():+time)+(null==delay?0:+delay),this._next||taskTail===this||(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=callback,this._time=time,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}},src_dispatch("start","end","cancel","interrupt");var interrupt=function(node,name){var schedule,active,i,schedules=node.__transition,empty=!0;if(schedules){for(i in name=null==name?null:name+"",schedules)(schedule=schedules[i]).name===name?(active=schedule.state>2&&schedule.state<5,schedule.state=6,schedule.timer.stop(),schedule.on.call(active?"interrupt":"cancel",node,node.__data__,schedule.index,schedule.group),delete schedules[i]):empty=!1;empty&&delete node.__transition}};function brush_type(t){return{type:t}}["w","e"].map(brush_type),["n","s"].map(brush_type),["n","w","e","s","nw","ne","sw","se"].map(brush_type),Math,Math,Math,Math;var path_pi=Math.PI,path_tau=2*path_pi,tauEpsilon=path_tau-1e-6;function Path(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Map(){}function map_map(object,f){var map=new Map;if(object instanceof Map)object.each((function(value,key){map.set(key,value)}));else if(Array.isArray(object)){var o,i=-1,n=object.length;if(null==f)for(;++i<n;)map.set(i,object[i]);else for(;++i<n;)map.set(f(o=object[i],i,object),o)}else if(object)for(var key in object)map.set(key,object[key]);return map}Path.prototype=(function(){return new Path}).prototype={constructor:Path,moveTo:function(x,y){this._+="M"+(this._x0=this._x1=+x)+","+(this._y0=this._y1=+y)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(x,y){this._+="L"+(this._x1=+x)+","+(this._y1=+y)},quadraticCurveTo:function(x1,y1,x,y){this._+="Q"+ +x1+","+ +y1+","+(this._x1=+x)+","+(this._y1=+y)},bezierCurveTo:function(x1,y1,x2,y2,x,y){this._+="C"+ +x1+","+ +y1+","+ +x2+","+ +y2+","+(this._x1=+x)+","+(this._y1=+y)},arcTo:function(x1,y1,x2,y2,r){var x0=this._x1,y0=this._y1,x21=(x2=+x2)-(x1=+x1),y21=(y2=+y2)-(y1=+y1),x01=x0-x1,y01=y0-y1,l01_2=x01*x01+y01*y01;if((r=+r)<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=x1)+","+(this._y1=y1);else if(l01_2>1e-6)if(Math.abs(y01*x21-y21*x01)>1e-6&&r){var x20=x2-x0,y20=y2-y0,l21_2=x21*x21+y21*y21,l20_2=x20*x20+y20*y20,l21=Math.sqrt(l21_2),l01=Math.sqrt(l01_2),l=r*Math.tan((path_pi-Math.acos((l21_2+l01_2-l20_2)/(2*l21*l01)))/2),t01=l/l01,t21=l/l21;Math.abs(t01-1)>1e-6&&(this._+="L"+(x1+t01*x01)+","+(y1+t01*y01)),this._+="A"+r+","+r+",0,0,"+ +(y01*x20>x01*y20)+","+(this._x1=x1+t21*x21)+","+(this._y1=y1+t21*y21)}else this._+="L"+(this._x1=x1)+","+(this._y1=y1)},arc:function(x,y,r,a0,a1,ccw){x=+x,y=+y,ccw=!!ccw;var dx=(r=+r)*Math.cos(a0),dy=r*Math.sin(a0),x0=x+dx,y0=y+dy,cw=1^ccw,da=ccw?a0-a1:a1-a0;if(r<0)throw new Error("negative radius: "+r);null===this._x1?this._+="M"+x0+","+y0:(Math.abs(this._x1-x0)>1e-6||Math.abs(this._y1-y0)>1e-6)&&(this._+="L"+x0+","+y0),r&&(da<0&&(da=da%path_tau+path_tau),da>tauEpsilon?this._+="A"+r+","+r+",0,1,"+cw+","+(x-dx)+","+(y-dy)+"A"+r+","+r+",0,1,"+cw+","+(this._x1=x0)+","+(this._y1=y0):da>1e-6&&(this._+="A"+r+","+r+",0,"+ +(da>=path_pi)+","+cw+","+(this._x1=x+r*Math.cos(a1))+","+(this._y1=y+r*Math.sin(a1))))},rect:function(x,y,w,h){this._+="M"+(this._x0=this._x1=+x)+","+(this._y0=this._y1=+y)+"h"+ +w+"v"+ +h+"h"+-w+"Z"},toString:function(){return this._}},Map.prototype=map_map.prototype={constructor:Map,has:function(key){return"$"+key in this},get:function(key){return this["$"+key]},set:function(key,value){return this["$"+key]=value,this},remove:function(key){var property="$"+key;return property in this&&delete this[property]},clear:function(){for(var property in this)"$"===property[0]&&delete this[property]},keys:function(){var keys=[];for(var property in this)"$"===property[0]&&keys.push(property.slice(1));return keys},values:function(){var values=[];for(var property in this)"$"===property[0]&&values.push(this[property]);return values},entries:function(){var entries=[];for(var property in this)"$"===property[0]&&entries.push({key:property.slice(1),value:this[property]});return entries},size:function(){var size=0;for(var property in this)"$"===property[0]&&++size;return size},empty:function(){for(var property in this)if("$"===property[0])return!1;return!0},each:function(f){for(var property in this)"$"===property[0]&&f(this[property],property.slice(1),this)}};var src_map=map_map;function Set(){}var proto=src_map.prototype;Set.prototype=(function(object,f){var set=new Set;if(object instanceof Set)object.each((function(value){set.add(value)}));else if(object){var i=-1,n=object.length;if(null==f)for(;++i<n;)set.add(object[i]);else for(;++i<n;)set.add(f(object[i],i,object))}return set}).prototype={constructor:Set,has:proto.has,add:function(value){return this["$"+(value+="")]=value,this},remove:proto.remove,clear:proto.clear,values:proto.keys,size:proto.size,empty:proto.empty,each:proto.each};var EOL={},EOF={},QUOTE=34,NEWLINE=10,RETURN=13;function objectConverter(columns){return new Function("d","return {"+columns.map((function(name,i){return JSON.stringify(name)+": d["+i+'] || ""'})).join(",")+"}")}function inferColumns(rows){var columnSet=Object.create(null),columns=[];return rows.forEach((function(row){for(var column in row)column in columnSet||columns.push(columnSet[column]=column)})),columns}function pad(value,width){var s=value+"",length=s.length;return length<width?new Array(width-length+1).join(0)+s:s}var dsv=function(delimiter){var reFormat=new RegExp('["'+delimiter+"\n\r]"),DELIMITER=delimiter.charCodeAt(0);function parseRows(text,f){var t,rows=[],N=text.length,I=0,n=0,eof=N<=0,eol=!1;function token(){if(eof)return EOF;if(eol)return eol=!1,EOL;var i,c,j=I;if(text.charCodeAt(j)===QUOTE){for(;I++<N&&text.charCodeAt(I)!==QUOTE||text.charCodeAt(++I)===QUOTE;);return(i=I)>=N?eof=!0:(c=text.charCodeAt(I++))===NEWLINE?eol=!0:c===RETURN&&(eol=!0,text.charCodeAt(I)===NEWLINE&&++I),text.slice(j+1,i-1).replace(/""/g,'"')}for(;I<N;){if((c=text.charCodeAt(i=I++))===NEWLINE)eol=!0;else if(c===RETURN)eol=!0,text.charCodeAt(I)===NEWLINE&&++I;else if(c!==DELIMITER)continue;return text.slice(j,i)}return eof=!0,text.slice(j,N)}for(text.charCodeAt(N-1)===NEWLINE&&--N,text.charCodeAt(N-1)===RETURN&&--N;(t=token())!==EOF;){for(var row=[];t!==EOL&&t!==EOF;)row.push(t),t=token();f&&null==(row=f(row,n++))||rows.push(row)}return rows}function preformatBody(rows,columns){return rows.map((function(row){return columns.map((function(column){return formatValue(row[column])})).join(delimiter)}))}function formatRow(row){return row.map(formatValue).join(delimiter)}function formatValue(value){return null==value?"":value instanceof Date?(hours=(date=value).getUTCHours(),minutes=date.getUTCMinutes(),seconds=date.getUTCSeconds(),milliseconds=date.getUTCMilliseconds(),isNaN(date)?"Invalid Date":((year=date.getUTCFullYear())<0?"-"+pad(-year,6):year>9999?"+"+pad(year,6):pad(year,4))+"-"+pad(date.getUTCMonth()+1,2)+"-"+pad(date.getUTCDate(),2)+(milliseconds?"T"+pad(hours,2)+":"+pad(minutes,2)+":"+pad(seconds,2)+"."+pad(milliseconds,3)+"Z":seconds?"T"+pad(hours,2)+":"+pad(minutes,2)+":"+pad(seconds,2)+"Z":minutes||hours?"T"+pad(hours,2)+":"+pad(minutes,2)+"Z":"")):reFormat.test(value+="")?'"'+value.replace(/"/g,'""')+'"':value;var date,year,hours,minutes,seconds,milliseconds}return{parse:function(text,f){var convert,columns,rows=parseRows(text,(function(row,i){if(convert)return convert(row,i-1);columns=row,convert=f?function(columns,f){var object=objectConverter(columns);return function(row,i){return f(object(row),i,columns)}}(row,f):objectConverter(row)}));return rows.columns=columns||[],rows},parseRows:parseRows,format:function(rows,columns){return null==columns&&(columns=inferColumns(rows)),[columns.map(formatValue).join(delimiter)].concat(preformatBody(rows,columns)).join("\n")},formatBody:function(rows,columns){return null==columns&&(columns=inferColumns(rows)),preformatBody(rows,columns).join("\n")},formatRows:function(rows){return rows.map(formatRow).join("\n")},formatRow:formatRow,formatValue:formatValue}},csvParse=dsv(",").parse,tsvParse=dsv("\t").parse;function responseText(response){if(!response.ok)throw new Error(response.status+" "+response.statusText);return response.text()}var src_text=function(input,init){return fetch(input,init).then(responseText)};function dsvParse(parse){return function(input,init,row){return 2===arguments.length&&"function"==typeof init&&(row=init,init=void 0),src_text(input,init).then((function(response){return parse(response,row)}))}}function parser(type){return function(input,init){return src_text(input,init).then((function(text){return(new DOMParser).parseFromString(text,type)}))}}dsvParse(csvParse),dsvParse(tsvParse),parser("application/xml"),parser("text/html"),parser("image/svg+xml");var d3_force_src_constant=function(x){return function(){return x}},jiggle=function(){return 1e-6*(Math.random()-.5)};function add_add(tree,x,y,d){if(isNaN(x)||isNaN(y))return tree;var parent,xm,ym,xp,yp,right,bottom,i,j,node=tree._root,leaf={data:d},x0=tree._x0,y0=tree._y0,x1=tree._x1,y1=tree._y1;if(!node)return tree._root=leaf,tree;for(;node.length;)if((right=x>=(xm=(x0+x1)/2))?x0=xm:x1=xm,(bottom=y>=(ym=(y0+y1)/2))?y0=ym:y1=ym,parent=node,!(node=node[i=bottom<<1|right]))return parent[i]=leaf,tree;if(xp=+tree._x.call(null,node.data),yp=+tree._y.call(null,node.data),x===xp&&y===yp)return leaf.next=node,parent?parent[i]=leaf:tree._root=leaf,tree;do{parent=parent?parent[i]=new Array(4):tree._root=new Array(4),(right=x>=(xm=(x0+x1)/2))?x0=xm:x1=xm,(bottom=y>=(ym=(y0+y1)/2))?y0=ym:y1=ym}while((i=bottom<<1|right)==(j=(yp>=ym)<<1|xp>=xm));return parent[j]=node,parent[i]=leaf,tree}var src_quad=function(node,x0,y0,x1,y1){this.node=node,this.x0=x0,this.y0=y0,this.x1=x1,this.y1=y1};function x_defaultX(d){return d[0]}function y_defaultY(d){return d[1]}function Quadtree(x,y,x0,y0,x1,y1){this._x=x,this._y=y,this._x0=x0,this._y0=y0,this._x1=x1,this._y1=y1,this._root=void 0}function leaf_copy(leaf){for(var copy={data:leaf.data},next=copy;leaf=leaf.next;)next=next.next={data:leaf.data};return copy}var treeProto=(function(nodes,x,y){var tree=new Quadtree(null==x?x_defaultX:x,null==y?y_defaultY:y,NaN,NaN,NaN,NaN);return null==nodes?tree:tree.addAll(nodes)}).prototype=Quadtree.prototype;function link_index(d){return d.index}function link_find(nodeById,nodeId){var node=nodeById.get(nodeId);if(!node)throw new Error("missing: "+nodeId);return node}treeProto.copy=function(){var nodes,child,copy=new Quadtree(this._x,this._y,this._x0,this._y0,this._x1,this._y1),node=this._root;if(!node)return copy;if(!node.length)return copy._root=leaf_copy(node),copy;for(nodes=[{source:node,target:copy._root=new Array(4)}];node=nodes.pop();)for(var i=0;i<4;++i)(child=node.source[i])&&(child.length?nodes.push({source:child,target:node.target[i]=new Array(4)}):node.target[i]=leaf_copy(child));return copy},treeProto.add=function(d){var x=+this._x.call(null,d),y=+this._y.call(null,d);return add_add(this.cover(x,y),x,y,d)},treeProto.addAll=function(data){var d,i,x,y,n=data.length,xz=new Array(n),yz=new Array(n),x0=1/0,y0=1/0,x1=-1/0,y1=-1/0;for(i=0;i<n;++i)isNaN(x=+this._x.call(null,d=data[i]))||isNaN(y=+this._y.call(null,d))||(xz[i]=x,yz[i]=y,x<x0&&(x0=x),x>x1&&(x1=x),y<y0&&(y0=y),y>y1&&(y1=y));if(x0>x1||y0>y1)return this;for(this.cover(x0,y0).cover(x1,y1),i=0;i<n;++i)add_add(this,xz[i],yz[i],data[i]);return this},treeProto.cover=function(x,y){if(isNaN(x=+x)||isNaN(y=+y))return this;var x0=this._x0,y0=this._y0,x1=this._x1,y1=this._y1;if(isNaN(x0))x1=(x0=Math.floor(x))+1,y1=(y0=Math.floor(y))+1;else{for(var parent,i,z=x1-x0,node=this._root;x0>x||x>=x1||y0>y||y>=y1;)switch(i=(y<y0)<<1|x<x0,(parent=new Array(4))[i]=node,node=parent,z*=2,i){case 0:x1=x0+z,y1=y0+z;break;case 1:x0=x1-z,y1=y0+z;break;case 2:x1=x0+z,y0=y1-z;break;case 3:x0=x1-z,y0=y1-z}this._root&&this._root.length&&(this._root=node)}return this._x0=x0,this._y0=y0,this._x1=x1,this._y1=y1,this},treeProto.data=function(){var data=[];return this.visit((function(node){if(!node.length)do{data.push(node.data)}while(node=node.next)})),data},treeProto.extent=function(_){return arguments.length?this.cover(+_[0][0],+_[0][1]).cover(+_[1][0],+_[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},treeProto.find=function(x,y,radius){var data,x1,y1,x2,y2,q,i,x0=this._x0,y0=this._y0,x3=this._x1,y3=this._y1,quads=[],node=this._root;for(node&&quads.push(new src_quad(node,x0,y0,x3,y3)),null==radius?radius=1/0:(x0=x-radius,y0=y-radius,x3=x+radius,y3=y+radius,radius*=radius);q=quads.pop();)if(!(!(node=q.node)||(x1=q.x0)>x3||(y1=q.y0)>y3||(x2=q.x1)<x0||(y2=q.y1)<y0))if(node.length){var xm=(x1+x2)/2,ym=(y1+y2)/2;quads.push(new src_quad(node[3],xm,ym,x2,y2),new src_quad(node[2],x1,ym,xm,y2),new src_quad(node[1],xm,y1,x2,ym),new src_quad(node[0],x1,y1,xm,ym)),(i=(y>=ym)<<1|x>=xm)&&(q=quads[quads.length-1],quads[quads.length-1]=quads[quads.length-1-i],quads[quads.length-1-i]=q)}else{var dx=x-+this._x.call(null,node.data),dy=y-+this._y.call(null,node.data),d2=dx*dx+dy*dy;if(d2<radius){var d=Math.sqrt(radius=d2);x0=x-d,y0=y-d,x3=x+d,y3=y+d,data=node.data}}return data},treeProto.remove=function(d){if(isNaN(x=+this._x.call(null,d))||isNaN(y=+this._y.call(null,d)))return this;var parent,retainer,previous,next,x,y,xm,ym,right,bottom,i,j,node=this._root,x0=this._x0,y0=this._y0,x1=this._x1,y1=this._y1;if(!node)return this;if(node.length)for(;;){if((right=x>=(xm=(x0+x1)/2))?x0=xm:x1=xm,(bottom=y>=(ym=(y0+y1)/2))?y0=ym:y1=ym,parent=node,!(node=node[i=bottom<<1|right]))return this;if(!node.length)break;(parent[i+1&3]||parent[i+2&3]||parent[i+3&3])&&(retainer=parent,j=i)}for(;node.data!==d;)if(previous=node,!(node=node.next))return this;return(next=node.next)&&delete node.next,previous?(next?previous.next=next:delete previous.next,this):parent?(next?parent[i]=next:delete parent[i],(node=parent[0]||parent[1]||parent[2]||parent[3])&&node===(parent[3]||parent[2]||parent[1]||parent[0])&&!node.length&&(retainer?retainer[j]=node:this._root=node),this):(this._root=next,this)},treeProto.removeAll=function(data){for(var i=0,n=data.length;i<n;++i)this.remove(data[i]);return this},treeProto.root=function(){return this._root},treeProto.size=function(){var size=0;return this.visit((function(node){if(!node.length)do{++size}while(node=node.next)})),size},treeProto.visit=function(callback){var q,child,x0,y0,x1,y1,quads=[],node=this._root;for(node&&quads.push(new src_quad(node,this._x0,this._y0,this._x1,this._y1));q=quads.pop();)if(!callback(node=q.node,x0=q.x0,y0=q.y0,x1=q.x1,y1=q.y1)&&node.length){var xm=(x0+x1)/2,ym=(y0+y1)/2;(child=node[3])&&quads.push(new src_quad(child,xm,ym,x1,y1)),(child=node[2])&&quads.push(new src_quad(child,x0,ym,xm,y1)),(child=node[1])&&quads.push(new src_quad(child,xm,y0,x1,ym)),(child=node[0])&&quads.push(new src_quad(child,x0,y0,xm,ym))}return this},treeProto.visitAfter=function(callback){var q,quads=[],next=[];for(this._root&&quads.push(new src_quad(this._root,this._x0,this._y0,this._x1,this._y1));q=quads.pop();){var node=q.node;if(node.length){var child,x0=q.x0,y0=q.y0,x1=q.x1,y1=q.y1,xm=(x0+x1)/2,ym=(y0+y1)/2;(child=node[0])&&quads.push(new src_quad(child,x0,y0,xm,ym)),(child=node[1])&&quads.push(new src_quad(child,xm,y0,x1,ym)),(child=node[2])&&quads.push(new src_quad(child,x0,ym,xm,y1)),(child=node[3])&&quads.push(new src_quad(child,xm,ym,x1,y1))}next.push(q)}for(;q=next.pop();)callback(q.node,q.x0,q.y0,q.x1,q.y1);return this},treeProto.x=function(_){return arguments.length?(this._x=_,this):this._x},treeProto.y=function(_){return arguments.length?(this._y=_,this):this._y};var src_link=function(links){var strengths,distances,nodes,count,bias,id=link_index,strength=function(link){return 1/Math.min(count[link.source.index],count[link.target.index])},distance=d3_force_src_constant(30),iterations=1;function force(alpha){for(var k=0,n=links.length;k<iterations;++k)for(var link,source,target,x,y,l,b,i=0;i<n;++i)x=(target=(link=links[i]).target).x+target.vx-(source=link.source).x-source.vx||jiggle(),y=target.y+target.vy-source.y-source.vy||jiggle(),y*=l=((l=Math.sqrt(x*x+y*y))-distances[i])/l*alpha*strengths[i],target.vx-=(x*=l)*(b=bias[i]),target.vy-=y*b,source.vx+=x*(b=1-b),source.vy+=y*b}function initialize(){if(nodes){var i,link,n=nodes.length,m=links.length,nodeById=src_map(nodes,id);for(i=0,count=new Array(n);i<m;++i)(link=links[i]).index=i,"object"!=typeof link.source&&(link.source=link_find(nodeById,link.source)),"object"!=typeof link.target&&(link.target=link_find(nodeById,link.target)),count[link.source.index]=(count[link.source.index]||0)+1,count[link.target.index]=(count[link.target.index]||0)+1;for(i=0,bias=new Array(m);i<m;++i)bias[i]=count[(link=links[i]).source.index]/(count[link.source.index]+count[link.target.index]);strengths=new Array(m),initializeStrength(),distances=new Array(m),initializeDistance()}}function initializeStrength(){if(nodes)for(var i=0,n=links.length;i<n;++i)strengths[i]=+strength(links[i],i,links)}function initializeDistance(){if(nodes)for(var i=0,n=links.length;i<n;++i)distances[i]=+distance(links[i],i,links)}return null==links&&(links=[]),force.initialize=function(_){nodes=_,initialize()},force.links=function(_){return arguments.length?(links=_,initialize(),force):links},force.id=function(_){return arguments.length?(id=_,force):id},force.iterations=function(_){return arguments.length?(iterations=+_,force):iterations},force.strength=function(_){return arguments.length?(strength="function"==typeof _?_:d3_force_src_constant(+_),initializeStrength(),force):strength},force.distance=function(_){return arguments.length?(distance="function"==typeof _?_:d3_force_src_constant(+_),initializeDistance(),force):distance},force},initialRadius=10,initialAngle=Math.PI*(3-Math.sqrt(5)),src_simulation=function(nodes){var simulation,alpha=1,alphaMin=.001,alphaDecay=1-Math.pow(alphaMin,1/300),alphaTarget=0,velocityDecay=.6,forces=src_map(),stepper=timer(step),event=src_dispatch("tick","end");function step(){tick(),event.call("tick",simulation),alpha<alphaMin&&(stepper.stop(),event.call("end",simulation))}function tick(iterations){var i,node,n=nodes.length;void 0===iterations&&(iterations=1);for(var k=0;k<iterations;++k)for(alpha+=(alphaTarget-alpha)*alphaDecay,forces.each((function(force){force(alpha)})),i=0;i<n;++i)null==(node=nodes[i]).fx?node.x+=node.vx*=velocityDecay:(node.x=node.fx,node.vx=0),null==node.fy?node.y+=node.vy*=velocityDecay:(node.y=node.fy,node.vy=0);return simulation}function initializeNodes(){for(var node,i=0,n=nodes.length;i<n;++i){if((node=nodes[i]).index=i,null!=node.fx&&(node.x=node.fx),null!=node.fy&&(node.y=node.fy),isNaN(node.x)||isNaN(node.y)){var radius=initialRadius*Math.sqrt(i),angle=i*initialAngle;node.x=radius*Math.cos(angle),node.y=radius*Math.sin(angle)}(isNaN(node.vx)||isNaN(node.vy))&&(node.vx=node.vy=0)}}function initializeForce(force){return force.initialize&&force.initialize(nodes),force}return null==nodes&&(nodes=[]),initializeNodes(),simulation={tick:tick,restart:function(){return stepper.restart(step),simulation},stop:function(){return stepper.stop(),simulation},nodes:function(_){return arguments.length?(nodes=_,initializeNodes(),forces.each(initializeForce),simulation):nodes},alpha:function(_){return arguments.length?(alpha=+_,simulation):alpha},alphaMin:function(_){return arguments.length?(alphaMin=+_,simulation):alphaMin},alphaDecay:function(_){return arguments.length?(alphaDecay=+_,simulation):+alphaDecay},alphaTarget:function(_){return arguments.length?(alphaTarget=+_,simulation):alphaTarget},velocityDecay:function(_){return arguments.length?(velocityDecay=1-_,simulation):1-velocityDecay},force:function(name,_){return arguments.length>1?(null==_?forces.remove(name):forces.set(name,initializeForce(_)),simulation):forces.get(name)},find:function(x,y,radius){var dx,dy,d2,node,closest,i=0,n=nodes.length;for(null==radius?radius=1/0:radius*=radius,i=0;i<n;++i)(d2=(dx=x-(node=nodes[i]).x)*dx+(dy=y-node.y)*dy)<radius&&(closest=node,radius=d2);return closest},on:function(name,_){return arguments.length>1?(event.on(name,_),simulation):event.on(name)}}},src_defaultSource=function(){return Math.random()},normal=(function sourceRandomUniform(source){function randomUniform(min,max){return min=null==min?0:+min,max=null==max?1:+max,1===arguments.length?(max=min,min=0):max-=min,function(){return source()*max+min}}return randomUniform.source=sourceRandomUniform,randomUniform}(src_defaultSource),function sourceRandomNormal(source){function randomNormal(mu,sigma){var x,r;return mu=null==mu?0:+mu,sigma=null==sigma?1:+sigma,function(){var y;if(null!=x)y=x,x=null;else do{x=2*source()-1,y=2*source()-1,r=x*x+y*y}while(!r||r>1);return mu+sigma*y*Math.sqrt(-2*Math.log(r)/r)}}return randomNormal.source=sourceRandomNormal,randomNormal}(src_defaultSource)),irwinHall=(function sourceRandomLogNormal(source){function randomLogNormal(){var randomNormal=normal.source(source).apply(this,arguments);return function(){return Math.exp(randomNormal())}}return randomLogNormal.source=sourceRandomLogNormal,randomLogNormal}(src_defaultSource),function sourceRandomIrwinHall(source){function randomIrwinHall(n){return function(){for(var sum=0,i=0;i<n;++i)sum+=source();return sum}}return randomIrwinHall.source=sourceRandomIrwinHall,randomIrwinHall}(src_defaultSource));(function sourceRandomBates(source){function randomBates(n){var randomIrwinHall=irwinHall.source(source)(n);return function(){return randomIrwinHall()/n}}return randomBates.source=sourceRandomBates,randomBates})(src_defaultSource),function sourceRandomExponential(source){function randomExponential(lambda){return function(){return-Math.log(1-source())/lambda}}return randomExponential.source=sourceRandomExponential,randomExponential}(src_defaultSource);var re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(specifier){if(!(match=re.exec(specifier)))throw new Error("invalid format: "+specifier);var match;return new FormatSpecifier({fill:match[1],align:match[2],sign:match[3],symbol:match[4],zero:match[5],width:match[6],comma:match[7],precision:match[8]&&match[8].slice(1),trim:match[9],type:match[10]})}function FormatSpecifier(specifier){this.fill=void 0===specifier.fill?" ":specifier.fill+"",this.align=void 0===specifier.align?">":specifier.align+"",this.sign=void 0===specifier.sign?"-":specifier.sign+"",this.symbol=void 0===specifier.symbol?"":specifier.symbol+"",this.zero=!!specifier.zero,this.width=void 0===specifier.width?void 0:+specifier.width,this.comma=!!specifier.comma,this.precision=void 0===specifier.precision?void 0:+specifier.precision,this.trim=!!specifier.trim,this.type=void 0===specifier.type?"":specifier.type+""}formatSpecifier.prototype=FormatSpecifier.prototype,FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var locale,locale_map=Array.prototype.map;void 0===(locale={decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}).grouping||void 0===locale.thousands||locale_map.call(locale.grouping,Number),void 0===locale.numerals||locale_map.call(locale.numerals,String);var interval_t0=new Date,interval_t1=new Date;function newInterval(floori,offseti,count,field){function interval(date){return floori(date=0===arguments.length?new Date:new Date(+date)),date}return interval.floor=function(date){return floori(date=new Date(+date)),date},interval.ceil=function(date){return floori(date=new Date(date-1)),offseti(date,1),floori(date),date},interval.round=function(date){var d0=interval(date),d1=interval.ceil(date);return date-d0<d1-date?d0:d1},interval.offset=function(date,step){return offseti(date=new Date(+date),null==step?1:Math.floor(step)),date},interval.range=function(start,stop,step){var previous,range=[];if(start=interval.ceil(start),step=null==step?1:Math.floor(step),!(start<stop&&step>0))return range;do{range.push(previous=new Date(+start)),offseti(start,step),floori(start)}while(previous<start&&start<stop);return range},interval.filter=function(test){return newInterval((function(date){if(date>=date)for(;floori(date),!test(date);)date.setTime(date-1)}),(function(date,step){if(date>=date)if(step<0)for(;++step<=0;)for(;offseti(date,-1),!test(date););else for(;--step>=0;)for(;offseti(date,1),!test(date););}))},count&&(interval.count=function(start,end){return interval_t0.setTime(+start),interval_t1.setTime(+end),floori(interval_t0),floori(interval_t1),Math.floor(count(interval_t0,interval_t1))},interval.every=function(step){return step=Math.floor(step),isFinite(step)&&step>0?step>1?interval.filter(field?function(d){return field(d)%step==0}:function(d){return interval.count(0,d)%step==0}):interval:null}),interval}var year_year=newInterval((function(date){date.setMonth(0,1),date.setHours(0,0,0,0)}),(function(date,step){date.setFullYear(date.getFullYear()+step)}),(function(start,end){return end.getFullYear()-start.getFullYear()}),(function(date){return date.getFullYear()}));year_year.every=function(k){return isFinite(k=Math.floor(k))&&k>0?newInterval((function(date){date.setFullYear(Math.floor(date.getFullYear()/k)*k),date.setMonth(0,1),date.setHours(0,0,0,0)}),(function(date,step){date.setFullYear(date.getFullYear()+step*k)})):null};var src_year=year_year,durationMinute=(newInterval((function(date){date.setDate(1),date.setHours(0,0,0,0)}),(function(date,step){date.setMonth(date.getMonth()+step)}),(function(start,end){return end.getMonth()-start.getMonth()+12*(end.getFullYear()-start.getFullYear())}),(function(date){return date.getMonth()})),6e4),durationWeek=6048e5;function weekday(i){return newInterval((function(date){date.setDate(date.getDate()-(date.getDay()+7-i)%7),date.setHours(0,0,0,0)}),(function(date,step){date.setDate(date.getDate()+7*step)}),(function(start,end){return(end-start-(end.getTimezoneOffset()-start.getTimezoneOffset())*durationMinute)/durationWeek}))}var sunday=weekday(0),monday=weekday(1),thursday=(weekday(2),weekday(3),weekday(4)),src_day=(weekday(5),weekday(6),newInterval((function(date){date.setHours(0,0,0,0)}),(function(date,step){date.setDate(date.getDate()+step)}),(function(start,end){return(end-start-(end.getTimezoneOffset()-start.getTimezoneOffset())*durationMinute)/864e5}),(function(date){return date.getDate()-1}))),millisecond_millisecond=(newInterval((function(date){date.setTime(date-date.getMilliseconds()-1e3*date.getSeconds()-date.getMinutes()*durationMinute)}),(function(date,step){date.setTime(+date+36e5*step)}),(function(start,end){return(end-start)/36e5}),(function(date){return date.getHours()})),newInterval((function(date){date.setTime(date-date.getMilliseconds()-1e3*date.getSeconds())}),(function(date,step){date.setTime(+date+step*durationMinute)}),(function(start,end){return(end-start)/durationMinute}),(function(date){return date.getMinutes()})),newInterval((function(date){date.setTime(date-date.getMilliseconds())}),(function(date,step){date.setTime(+date+1e3*step)}),(function(start,end){return(end-start)/1e3}),(function(date){return date.getUTCSeconds()})),newInterval((function(){}),(function(date,step){date.setTime(+date+step)}),(function(start,end){return end-start})));function utcWeekday(i){return newInterval((function(date){date.setUTCDate(date.getUTCDate()-(date.getUTCDay()+7-i)%7),date.setUTCHours(0,0,0,0)}),(function(date,step){date.setUTCDate(date.getUTCDate()+7*step)}),(function(start,end){return(end-start)/durationWeek}))}millisecond_millisecond.every=function(k){return k=Math.floor(k),isFinite(k)&&k>0?k>1?newInterval((function(date){date.setTime(Math.floor(date/k)*k)}),(function(date,step){date.setTime(+date+step*k)}),(function(start,end){return(end-start)/k})):millisecond_millisecond:null};var utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcThursday=(utcWeekday(2),utcWeekday(3),utcWeekday(4)),src_utcDay=(utcWeekday(5),utcWeekday(6),newInterval((function(date){date.setUTCHours(0,0,0,0)}),(function(date,step){date.setUTCDate(date.getUTCDate()+step)}),(function(start,end){return(end-start)/864e5}),(function(date){return date.getUTCDate()-1}))),utcYear=newInterval((function(date){date.setUTCMonth(0,1),date.setUTCHours(0,0,0,0)}),(function(date,step){date.setUTCFullYear(date.getUTCFullYear()+step)}),(function(start,end){return end.getUTCFullYear()-start.getUTCFullYear()}),(function(date){return date.getUTCFullYear()}));utcYear.every=function(k){return isFinite(k=Math.floor(k))&&k>0?newInterval((function(date){date.setUTCFullYear(Math.floor(date.getUTCFullYear()/k)*k),date.setUTCMonth(0,1),date.setUTCHours(0,0,0,0)}),(function(date,step){date.setUTCFullYear(date.getUTCFullYear()+step*k)})):null};var src_utcYear=utcYear;var pads={"-":"",_:" ",0:"0"},requoteRe=/[\\^$*+?|[\]().{}]/g;function locale_pad(value,fill,width){var sign=value<0?"-":"",string=(sign?-value:value)+"",length=string.length;return sign+(length<width?new Array(width-length+1).join(fill)+string:string)}function requote(s){return s.replace(requoteRe,"\\$&")}function formatRe(names){return new RegExp("^(?:"+names.map(requote).join("|")+")","i")}function formatLookup(names){for(var map={},i=-1,n=names.length;++i<n;)map[names[i].toLowerCase()]=i;return map}function formatDayOfMonth(d,p){return locale_pad(d.getDate(),p,2)}function formatHour24(d,p){return locale_pad(d.getHours(),p,2)}function formatHour12(d,p){return locale_pad(d.getHours()%12||12,p,2)}function formatDayOfYear(d,p){return locale_pad(1+src_day.count(src_year(d),d),p,3)}function formatMilliseconds(d,p){return locale_pad(d.getMilliseconds(),p,3)}function formatMicroseconds(d,p){return formatMilliseconds(d,p)+"000"}function formatMonthNumber(d,p){return locale_pad(d.getMonth()+1,p,2)}function formatMinutes(d,p){return locale_pad(d.getMinutes(),p,2)}function formatSeconds(d,p){return locale_pad(d.getSeconds(),p,2)}function formatWeekdayNumberMonday(d){var day=d.getDay();return 0===day?7:day}function formatWeekNumberSunday(d,p){return locale_pad(sunday.count(src_year(d)-1,d),p,2)}function formatWeekNumberISO(d,p){var day=d.getDay();return d=day>=4||0===day?thursday(d):thursday.ceil(d),locale_pad(thursday.count(src_year(d),d)+(4===src_year(d).getDay()),p,2)}function formatWeekdayNumberSunday(d){return d.getDay()}function formatWeekNumberMonday(d,p){return locale_pad(monday.count(src_year(d)-1,d),p,2)}function locale_formatYear(d,p){return locale_pad(d.getFullYear()%100,p,2)}function formatFullYear(d,p){return locale_pad(d.getFullYear()%1e4,p,4)}function formatZone(d){var z=d.getTimezoneOffset();return(z>0?"-":(z*=-1,"+"))+locale_pad(z/60|0,"0",2)+locale_pad(z%60,"0",2)}function formatUTCDayOfMonth(d,p){return locale_pad(d.getUTCDate(),p,2)}function formatUTCHour24(d,p){return locale_pad(d.getUTCHours(),p,2)}function formatUTCHour12(d,p){return locale_pad(d.getUTCHours()%12||12,p,2)}function formatUTCDayOfYear(d,p){return locale_pad(1+src_utcDay.count(src_utcYear(d),d),p,3)}function formatUTCMilliseconds(d,p){return locale_pad(d.getUTCMilliseconds(),p,3)}function formatUTCMicroseconds(d,p){return formatUTCMilliseconds(d,p)+"000"}function formatUTCMonthNumber(d,p){return locale_pad(d.getUTCMonth()+1,p,2)}function formatUTCMinutes(d,p){return locale_pad(d.getUTCMinutes(),p,2)}function formatUTCSeconds(d,p){return locale_pad(d.getUTCSeconds(),p,2)}function formatUTCWeekdayNumberMonday(d){var dow=d.getUTCDay();return 0===dow?7:dow}function formatUTCWeekNumberSunday(d,p){return locale_pad(utcSunday.count(src_utcYear(d)-1,d),p,2)}function formatUTCWeekNumberISO(d,p){var day=d.getUTCDay();return d=day>=4||0===day?utcThursday(d):utcThursday.ceil(d),locale_pad(utcThursday.count(src_utcYear(d),d)+(4===src_utcYear(d).getUTCDay()),p,2)}function formatUTCWeekdayNumberSunday(d){return d.getUTCDay()}function formatUTCWeekNumberMonday(d,p){return locale_pad(utcMonday.count(src_utcYear(d)-1,d),p,2)}function formatUTCYear(d,p){return locale_pad(d.getUTCFullYear()%100,p,2)}function formatUTCFullYear(d,p){return locale_pad(d.getUTCFullYear()%1e4,p,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(d){return+d}function formatUnixTimestampSeconds(d){return Math.floor(+d/1e3)}(function(locale){var locale_dateTime=locale.dateTime,locale_date=locale.date,locale_time=locale.time,locale_periods=locale.periods,locale_weekdays=locale.days,locale_shortWeekdays=locale.shortDays,locale_months=locale.months,locale_shortMonths=locale.shortMonths,formats=(formatRe(locale_periods),formatLookup(locale_periods),formatRe(locale_weekdays),formatLookup(locale_weekdays),formatRe(locale_shortWeekdays),formatLookup(locale_shortWeekdays),formatRe(locale_months),formatLookup(locale_months),formatRe(locale_shortMonths),formatLookup(locale_shortMonths),{a:function(d){return locale_shortWeekdays[d.getDay()]},A:function(d){return locale_weekdays[d.getDay()]},b:function(d){return locale_shortMonths[d.getMonth()]},B:function(d){return locale_months[d.getMonth()]},c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:function(d){return locale_periods[+(d.getHours()>=12)]},q:function(d){return 1+~~(d.getMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:locale_formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent}),utcFormats={a:function(d){return locale_shortWeekdays[d.getUTCDay()]},A:function(d){return locale_weekdays[d.getUTCDay()]},b:function(d){return locale_shortMonths[d.getUTCMonth()]},B:function(d){return locale_months[d.getUTCMonth()]},c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:function(d){return locale_periods[+(d.getUTCHours()>=12)]},q:function(d){return 1+~~(d.getUTCMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent};function newFormat(specifier,formats){return function(date){var c,pad,format,string=[],i=-1,j=0,n=specifier.length;for(date instanceof Date||(date=new Date(+date));++i<n;)37===specifier.charCodeAt(i)&&(string.push(specifier.slice(j,i)),null!=(pad=pads[c=specifier.charAt(++i)])?c=specifier.charAt(++i):pad="e"===c?" ":"0",(format=formats[c])&&(c=format(date,pad)),string.push(c),j=i+1);return string.push(specifier.slice(j,i)),string.join("")}}formats.x=newFormat(locale_date,formats),formats.X=newFormat(locale_time,formats),formats.c=newFormat(locale_dateTime,formats),utcFormats.x=newFormat(locale_date,utcFormats),utcFormats.X=newFormat(locale_time,utcFormats),utcFormats.c=newFormat(locale_dateTime,utcFormats)})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),newInterval((function(date){date.setUTCDate(1),date.setUTCHours(0,0,0,0)}),(function(date,step){date.setUTCMonth(date.getUTCMonth()+step)}),(function(start,end){return end.getUTCMonth()-start.getUTCMonth()+12*(end.getUTCFullYear()-start.getUTCFullYear())}),(function(date){return date.getUTCMonth()})),newInterval((function(date){date.setUTCMinutes(0,0,0)}),(function(date,step){date.setTime(+date+36e5*step)}),(function(start,end){return(end-start)/36e5}),(function(date){return date.getUTCHours()})),newInterval((function(date){date.setUTCSeconds(0,0)}),(function(date,step){date.setTime(+date+step*durationMinute)}),(function(start,end){return(end-start)/durationMinute}),(function(date){return date.getUTCMinutes()}));var src_selectAll=function(selector){return"string"==typeof selector?new Selection([document.querySelectorAll(selector)],[document.documentElement]):new Selection([null==selector?[]:selector],selection_root)};function RedBlackTree(){this._=null}function RedBlackNode(node){node.U=node.C=node.L=node.R=node.P=node.N=null}function RedBlackRotateLeft(tree,node){var p=node,q=node.R,parent=p.U;parent?parent.L===p?parent.L=q:parent.R=q:tree._=q,q.U=parent,p.U=q,p.R=q.L,p.R&&(p.R.U=p),q.L=p}function RedBlackRotateRight(tree,node){var p=node,q=node.L,parent=p.U;parent?parent.L===p?parent.L=q:parent.R=q:tree._=q,q.U=parent,p.U=q,p.L=q.R,p.L&&(p.L.U=p),q.R=p}function RedBlackFirst(node){for(;node.L;)node=node.L;return node}RedBlackTree.prototype={constructor:RedBlackTree,insert:function(after,node){var parent,grandpa,uncle;if(after){if(node.P=after,node.N=after.N,after.N&&(after.N.P=node),after.N=node,after.R){for(after=after.R;after.L;)after=after.L;after.L=node}else after.R=node;parent=after}else this._?(after=RedBlackFirst(this._),node.P=null,node.N=after,after.P=after.L=node,parent=after):(node.P=node.N=null,this._=node,parent=null);for(node.L=node.R=null,node.U=parent,node.C=!0,after=node;parent&&parent.C;)parent===(grandpa=parent.U).L?(uncle=grandpa.R)&&uncle.C?(parent.C=uncle.C=!1,grandpa.C=!0,after=grandpa):(after===parent.R&&(RedBlackRotateLeft(this,parent),parent=(after=parent).U),parent.C=!1,grandpa.C=!0,RedBlackRotateRight(this,grandpa)):(uncle=grandpa.L)&&uncle.C?(parent.C=uncle.C=!1,grandpa.C=!0,after=grandpa):(after===parent.L&&(RedBlackRotateRight(this,parent),parent=(after=parent).U),parent.C=!1,grandpa.C=!0,RedBlackRotateLeft(this,grandpa)),parent=after.U;this._.C=!1},remove:function(node){node.N&&(node.N.P=node.P),node.P&&(node.P.N=node.N),node.N=node.P=null;var sibling,next,red,parent=node.U,left=node.L,right=node.R;if(next=left?right?RedBlackFirst(right):left:right,parent?parent.L===node?parent.L=next:parent.R=next:this._=next,left&&right?(red=next.C,next.C=node.C,next.L=left,left.U=next,next!==right?(parent=next.U,next.U=node.U,parent.L=node=next.R,next.R=right,right.U=next):(next.U=parent,parent=next,node=next.R)):(red=node.C,node=next),node&&(node.U=parent),!red)if(node&&node.C)node.C=!1;else{do{if(node===this._)break;if(node===parent.L){if((sibling=parent.R).C&&(sibling.C=!1,parent.C=!0,RedBlackRotateLeft(this,parent),sibling=parent.R),sibling.L&&sibling.L.C||sibling.R&&sibling.R.C){sibling.R&&sibling.R.C||(sibling.L.C=!1,sibling.C=!0,RedBlackRotateRight(this,sibling),sibling=parent.R),sibling.C=parent.C,parent.C=sibling.R.C=!1,RedBlackRotateLeft(this,parent),node=this._;break}}else if((sibling=parent.L).C&&(sibling.C=!1,parent.C=!0,RedBlackRotateRight(this,parent),sibling=parent.L),sibling.L&&sibling.L.C||sibling.R&&sibling.R.C){sibling.L&&sibling.L.C||(sibling.R.C=!1,sibling.C=!0,RedBlackRotateLeft(this,sibling),sibling=parent.L),sibling.C=parent.C,parent.C=sibling.L.C=!1,RedBlackRotateRight(this,parent),node=this._;break}sibling.C=!0,node=parent,parent=parent.U}while(!node.C);node&&(node.C=!1)}}};var src_RedBlackTree=RedBlackTree;function createEdge(left,right,v0,v1){var edge=[null,null],index=Diagram_edges.push(edge)-1;return edge.left=left,edge.right=right,v0&&setEdgeEnd(edge,left,right,v0),v1&&setEdgeEnd(edge,right,left,v1),cells[left.index].halfedges.push(index),cells[right.index].halfedges.push(index),edge}function createBorderEdge(left,v0,v1){var edge=[v0,v1];return edge.left=left,edge}function setEdgeEnd(edge,left,right,vertex){edge[0]||edge[1]?edge.left===right?edge[1]=vertex:edge[0]=vertex:(edge[0]=vertex,edge.left=left,edge.right=right)}function clipEdge(edge,x0,y0,x1,y1){var r,a=edge[0],b=edge[1],ax=a[0],ay=a[1],t0=0,t1=1,dx=b[0]-ax,dy=b[1]-ay;if(r=x0-ax,dx||!(r>0)){if(r/=dx,dx<0){if(r<t0)return;r<t1&&(t1=r)}else if(dx>0){if(r>t1)return;r>t0&&(t0=r)}if(r=x1-ax,dx||!(r<0)){if(r/=dx,dx<0){if(r>t1)return;r>t0&&(t0=r)}else if(dx>0){if(r<t0)return;r<t1&&(t1=r)}if(r=y0-ay,dy||!(r>0)){if(r/=dy,dy<0){if(r<t0)return;r<t1&&(t1=r)}else if(dy>0){if(r>t1)return;r>t0&&(t0=r)}if(r=y1-ay,dy||!(r<0)){if(r/=dy,dy<0){if(r>t1)return;r>t0&&(t0=r)}else if(dy>0){if(r<t0)return;r<t1&&(t1=r)}return!(t0>0||t1<1)||(t0>0&&(edge[0]=[ax+t0*dx,ay+t0*dy]),t1<1&&(edge[1]=[ax+t1*dx,ay+t1*dy]),!0)}}}}}function connectEdge(edge,x0,y0,x1,y1){var v1=edge[1];if(v1)return!0;var fm,fb,v0=edge[0],left=edge.left,right=edge.right,lx=left[0],ly=left[1],rx=right[0],ry=right[1],fx=(lx+rx)/2;if(ry===ly){if(fx<x0||fx>=x1)return;if(lx>rx){if(v0){if(v0[1]>=y1)return}else v0=[fx,y0];v1=[fx,y1]}else{if(v0){if(v0[1]<y0)return}else v0=[fx,y1];v1=[fx,y0]}}else if(fb=(ly+ry)/2-(fm=(lx-rx)/(ry-ly))*fx,fm<-1||fm>1)if(lx>rx){if(v0){if(v0[1]>=y1)return}else v0=[(y0-fb)/fm,y0];v1=[(y1-fb)/fm,y1]}else{if(v0){if(v0[1]<y0)return}else v0=[(y1-fb)/fm,y1];v1=[(y0-fb)/fm,y0]}else if(ly<ry){if(v0){if(v0[0]>=x1)return}else v0=[x0,fm*x0+fb];v1=[x1,fm*x1+fb]}else{if(v0){if(v0[0]<x0)return}else v0=[x1,fm*x1+fb];v1=[x0,fm*x0+fb]}return edge[0]=v0,edge[1]=v1,!0}function cellHalfedgeAngle(cell,edge){var site=cell.site,va=edge.left,vb=edge.right;return site===vb&&(vb=va,va=site),vb?Math.atan2(vb[1]-va[1],vb[0]-va[0]):(site===va?(va=edge[1],vb=edge[0]):(va=edge[0],vb=edge[1]),Math.atan2(va[0]-vb[0],vb[1]-va[1]))}function cellHalfedgeStart(cell,edge){return edge[+(edge.left!==cell.site)]}function cellHalfedgeEnd(cell,edge){return edge[+(edge.left===cell.site)]}var firstCircle,circlePool=[];function Circle(){RedBlackNode(this),this.x=this.y=this.arc=this.site=this.cy=null}function attachCircle(arc){var lArc=arc.P,rArc=arc.N;if(lArc&&rArc){var lSite=lArc.site,cSite=arc.site,rSite=rArc.site;if(lSite!==rSite){var bx=cSite[0],by=cSite[1],ax=lSite[0]-bx,ay=lSite[1]-by,cx=rSite[0]-bx,cy=rSite[1]-by,d=2*(ax*cy-ay*cx);if(!(d>=-epsilon2)){var ha=ax*ax+ay*ay,hc=cx*cx+cy*cy,x=(cy*ha-ay*hc)/d,y=(ax*hc-cx*ha)/d,circle=circlePool.pop()||new Circle;circle.arc=arc,circle.site=cSite,circle.x=x+bx,circle.y=(circle.cy=y+by)+Math.sqrt(x*x+y*y),arc.circle=circle;for(var before=null,node=circles._;node;)if(circle.y<node.y||circle.y===node.y&&circle.x<=node.x){if(!node.L){before=node.P;break}node=node.L}else{if(!node.R){before=node;break}node=node.R}circles.insert(before,circle),before||(firstCircle=circle)}}}}function detachCircle(arc){var circle=arc.circle;circle&&(circle.P||(firstCircle=circle.N),circles.remove(circle),circlePool.push(circle),RedBlackNode(circle),arc.circle=null)}var beachPool=[];function Beach(){RedBlackNode(this),this.edge=this.site=this.circle=null}function createBeach(site){var beach=beachPool.pop()||new Beach;return beach.site=site,beach}function detachBeach(beach){detachCircle(beach),beaches.remove(beach),beachPool.push(beach),RedBlackNode(beach)}function removeBeach(beach){var circle=beach.circle,x=circle.x,y=circle.cy,vertex=[x,y],previous=beach.P,next=beach.N,disappearing=[beach];detachBeach(beach);for(var lArc=previous;lArc.circle&&Math.abs(x-lArc.circle.x)<Diagram_epsilon&&Math.abs(y-lArc.circle.cy)<Diagram_epsilon;)previous=lArc.P,disappearing.unshift(lArc),detachBeach(lArc),lArc=previous;disappearing.unshift(lArc),detachCircle(lArc);for(var rArc=next;rArc.circle&&Math.abs(x-rArc.circle.x)<Diagram_epsilon&&Math.abs(y-rArc.circle.cy)<Diagram_epsilon;)next=rArc.N,disappearing.push(rArc),detachBeach(rArc),rArc=next;disappearing.push(rArc),detachCircle(rArc);var iArc,nArcs=disappearing.length;for(iArc=1;iArc<nArcs;++iArc)setEdgeEnd((rArc=disappearing[iArc]).edge,(lArc=disappearing[iArc-1]).site,rArc.site,vertex);(rArc=disappearing[nArcs-1]).edge=createEdge((lArc=disappearing[0]).site,rArc.site,null,vertex),attachCircle(lArc),attachCircle(rArc)}function addBeach(site){for(var lArc,rArc,dxl,dxr,x=site[0],directrix=site[1],node=beaches._;node;)if((dxl=leftBreakPoint(node,directrix)-x)>Diagram_epsilon)node=node.L;else{if(!((dxr=x-rightBreakPoint(node,directrix))>Diagram_epsilon)){dxl>-Diagram_epsilon?(lArc=node.P,rArc=node):dxr>-Diagram_epsilon?(lArc=node,rArc=node.N):lArc=rArc=node;break}if(!node.R){lArc=node;break}node=node.R}!function(site){cells[site.index]={site:site,halfedges:[]}}(site);var newArc=createBeach(site);if(beaches.insert(lArc,newArc),lArc||rArc){if(lArc===rArc)return detachCircle(lArc),rArc=createBeach(lArc.site),beaches.insert(newArc,rArc),newArc.edge=rArc.edge=createEdge(lArc.site,newArc.site),attachCircle(lArc),void attachCircle(rArc);if(rArc){detachCircle(lArc),detachCircle(rArc);var lSite=lArc.site,ax=lSite[0],ay=lSite[1],bx=site[0]-ax,by=site[1]-ay,rSite=rArc.site,cx=rSite[0]-ax,cy=rSite[1]-ay,d=2*(bx*cy-by*cx),hb=bx*bx+by*by,hc=cx*cx+cy*cy,vertex=[(cy*hb-by*hc)/d+ax,(bx*hc-cx*hb)/d+ay];setEdgeEnd(rArc.edge,lSite,rSite,vertex),newArc.edge=createEdge(lSite,site,null,vertex),rArc.edge=createEdge(site,rSite,null,vertex),attachCircle(lArc),attachCircle(rArc)}else newArc.edge=createEdge(lArc.site,newArc.site)}}function leftBreakPoint(arc,directrix){var site=arc.site,rfocx=site[0],rfocy=site[1],pby2=rfocy-directrix;if(!pby2)return rfocx;var lArc=arc.P;if(!lArc)return-1/0;var lfocx=(site=lArc.site)[0],lfocy=site[1],plby2=lfocy-directrix;if(!plby2)return lfocx;var hl=lfocx-rfocx,aby2=1/pby2-1/plby2,b=hl/plby2;return aby2?(-b+Math.sqrt(b*b-2*aby2*(hl*hl/(-2*plby2)-lfocy+plby2/2+rfocy-pby2/2)))/aby2+rfocx:(rfocx+lfocx)/2}function rightBreakPoint(arc,directrix){var rArc=arc.N;if(rArc)return leftBreakPoint(rArc,directrix);var site=arc.site;return site[1]===directrix?site[0]:1/0}var beaches,cells,circles,Diagram_edges,Diagram_epsilon=1e-6,epsilon2=1e-12;function lexicographic(a,b){return b[1]-a[1]||b[0]-a[0]}function Diagram(sites,extent){var x,y,circle,site=sites.sort(lexicographic).pop();for(Diagram_edges=[],cells=new Array(sites.length),beaches=new src_RedBlackTree,circles=new src_RedBlackTree;;)if(circle=firstCircle,site&&(!circle||site[1]<circle.y||site[1]===circle.y&&site[0]<circle.x))site[0]===x&&site[1]===y||(addBeach(site),x=site[0],y=site[1]),site=sites.pop();else{if(!circle)break;removeBeach(circle.arc)}if(function(){for(var cell,halfedges,j,m,i=0,n=cells.length;i<n;++i)if((cell=cells[i])&&(m=(halfedges=cell.halfedges).length)){var index=new Array(m),array=new Array(m);for(j=0;j<m;++j)index[j]=j,array[j]=cellHalfedgeAngle(cell,Diagram_edges[halfedges[j]]);for(index.sort((function(i,j){return array[j]-array[i]})),j=0;j<m;++j)array[j]=halfedges[index[j]];for(j=0;j<m;++j)halfedges[j]=array[j]}}(),extent){var x0=+extent[0][0],y0=+extent[0][1],x1=+extent[1][0],y1=+extent[1][1];!function(x0,y0,x1,y1){for(var edge,i=Diagram_edges.length;i--;)connectEdge(edge=Diagram_edges[i],x0,y0,x1,y1)&&clipEdge(edge,x0,y0,x1,y1)&&(Math.abs(edge[0][0]-edge[1][0])>Diagram_epsilon||Math.abs(edge[0][1]-edge[1][1])>Diagram_epsilon)||delete Diagram_edges[i]}(x0,y0,x1,y1),function(x0,y0,x1,y1){var iCell,cell,site,iHalfedge,halfedges,nHalfedges,start,startX,startY,end,endX,endY,nCells=cells.length,cover=!0;for(iCell=0;iCell<nCells;++iCell)if(cell=cells[iCell]){for(site=cell.site,iHalfedge=(halfedges=cell.halfedges).length;iHalfedge--;)Diagram_edges[halfedges[iHalfedge]]||halfedges.splice(iHalfedge,1);for(iHalfedge=0,nHalfedges=halfedges.length;iHalfedge<nHalfedges;)endX=(end=cellHalfedgeEnd(cell,Diagram_edges[halfedges[iHalfedge]]))[0],endY=end[1],startX=(start=cellHalfedgeStart(cell,Diagram_edges[halfedges[++iHalfedge%nHalfedges]]))[0],startY=start[1],(Math.abs(endX-startX)>Diagram_epsilon||Math.abs(endY-startY)>Diagram_epsilon)&&(halfedges.splice(iHalfedge,0,Diagram_edges.push(createBorderEdge(site,end,Math.abs(endX-x0)<Diagram_epsilon&&y1-endY>Diagram_epsilon?[x0,Math.abs(startX-x0)<Diagram_epsilon?startY:y1]:Math.abs(endY-y1)<Diagram_epsilon&&x1-endX>Diagram_epsilon?[Math.abs(startY-y1)<Diagram_epsilon?startX:x1,y1]:Math.abs(endX-x1)<Diagram_epsilon&&endY-y0>Diagram_epsilon?[x1,Math.abs(startX-x1)<Diagram_epsilon?startY:y0]:Math.abs(endY-y0)<Diagram_epsilon&&endX-x0>Diagram_epsilon?[Math.abs(startY-y0)<Diagram_epsilon?startX:x0,y0]:null))-1),++nHalfedges);nHalfedges&&(cover=!1)}if(cover){var dx,dy,d2,dc=1/0;for(iCell=0,cover=null;iCell<nCells;++iCell)(cell=cells[iCell])&&(d2=(dx=(site=cell.site)[0]-x0)*dx+(dy=site[1]-y0)*dy)<dc&&(dc=d2,cover=cell);if(cover){var v00=[x0,y0],v01=[x0,y1],v11=[x1,y1],v10=[x1,y0];cover.halfedges.push(Diagram_edges.push(createBorderEdge(site=cover.site,v00,v01))-1,Diagram_edges.push(createBorderEdge(site,v01,v11))-1,Diagram_edges.push(createBorderEdge(site,v11,v10))-1,Diagram_edges.push(createBorderEdge(site,v10,v00))-1)}}for(iCell=0;iCell<nCells;++iCell)(cell=cells[iCell])&&(cell.halfedges.length||delete cells[iCell])}(x0,y0,x1,y1)}this.edges=Diagram_edges,this.cells=cells,beaches=circles=Diagram_edges=cells=null}Diagram.prototype={constructor:Diagram,polygons:function(){var edges=this.edges;return this.cells.map((function(cell){var polygon=cell.halfedges.map((function(i){return cellHalfedgeStart(cell,edges[i])}));return polygon.data=cell.site.data,polygon}))},triangles:function(){var triangles=[],edges=this.edges;return this.cells.forEach((function(cell,i){if(m=(halfedges=cell.halfedges).length)for(var halfedges,m,s0,a,b,c,site=cell.site,j=-1,e1=edges[halfedges[m-1]],s1=e1.left===site?e1.right:e1.left;++j<m;)s0=s1,s1=(e1=edges[halfedges[j]]).left===site?e1.right:e1.left,s0&&s1&&i<s0.index&&i<s1.index&&((a=site)[0]-(c=s1)[0])*((b=s0)[1]-a[1])-(a[0]-b[0])*(c[1]-a[1])<0&&triangles.push([site.data,s0.data,s1.data])})),triangles},links:function(){return this.edges.filter((function(edge){return edge.right})).map((function(edge){return{source:edge.left.data,target:edge.right.data}}))},find:function(x,y,radius){for(var i0,cell,that=this,i1=that._found||0,n=that.cells.length;!(cell=that.cells[i1]);)if(++i1>=n)return null;var dx=x-cell.site[0],dy=y-cell.site[1],d2=dx*dx+dy*dy;do{cell=that.cells[i0=i1],i1=null,cell.halfedges.forEach((function(e){var edge=that.edges[e],v=edge.left;if(v!==cell.site&&v||(v=edge.right)){var vx=x-v[0],vy=y-v[1],v2=vx*vx+vy*vy;v2<d2&&(d2=v2,i1=v.index)}}))}while(null!==i1);return that._found=i0,null==radius||d2<=radius*radius?cell.site:null}};var rho=Math.SQRT2;function cosh(x){return((x=Math.exp(x))+1/x)/2}var src_zoom=function(p0,p1){var i,S,ux0=p0[0],uy0=p0[1],w0=p0[2],w1=p1[2],dx=p1[0]-ux0,dy=p1[1]-uy0,d2=dx*dx+dy*dy;if(d2<1e-12)S=Math.log(w1/w0)/rho,i=function(t){return[ux0+t*dx,uy0+t*dy,w0*Math.exp(rho*t*S)]};else{var d1=Math.sqrt(d2),b0=(w1*w1-w0*w0+4*d2)/(2*w0*2*d1),b1=(w1*w1-w0*w0-4*d2)/(2*w1*2*d1),r0=Math.log(Math.sqrt(b0*b0+1)-b0),r1=Math.log(Math.sqrt(b1*b1+1)-b1);S=(r1-r0)/rho,i=function(t){var x,s=t*S,coshr0=cosh(r0),u=w0/(2*d1)*(coshr0*(x=rho*s+r0,((x=Math.exp(2*x))-1)/(x+1))-function(x){return((x=Math.exp(x))-1/x)/2}(r0));return[ux0+u*dx,uy0+u*dy,w0*coshr0/cosh(rho*s+r0)]}}return i.duration=1e3*S,i},d3_zoom_src_constant=function(x){return function(){return x}};function ZoomEvent(target,type,transform){this.target=target,this.type=type,this.transform=transform}function Transform(k,x,y){this.k=k,this.x=x,this.y=y}Transform.prototype={constructor:Transform,scale:function(k){return 1===k?this:new Transform(this.k*k,this.x,this.y)},translate:function(x,y){return 0===x&0===y?this:new Transform(this.k,this.x+this.k*x,this.y+this.k*y)},apply:function(point){return[point[0]*this.k+this.x,point[1]*this.k+this.y]},applyX:function(x){return x*this.k+this.x},applyY:function(y){return y*this.k+this.y},invert:function(location){return[(location[0]-this.x)/this.k,(location[1]-this.y)/this.k]},invertX:function(x){return(x-this.x)/this.k},invertY:function(y){return(y-this.y)/this.k},rescaleX:function(x){return x.copy().domain(x.range().map(this.invertX,this).map(x.invert,x))},rescaleY:function(y){return y.copy().domain(y.range().map(this.invertY,this).map(y.invert,y))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var transform_identity=new Transform(1,0,0);function src_noevent_nopropagation(){on_event.stopImmediatePropagation()}var d3_zoom_src_noevent=function(){on_event.preventDefault(),on_event.stopImmediatePropagation()};function zoom_defaultFilter(){return!on_event.ctrlKey&&!on_event.button}function zoom_defaultExtent(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function defaultTransform(){return this.__zoom||transform_identity}function defaultWheelDelta(){return-on_event.deltaY*(1===on_event.deltaMode?.05:on_event.deltaMode?1:.002)}function zoom_defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}function defaultConstrain(transform,extent,translateExtent){var dx0=transform.invertX(extent[0][0])-translateExtent[0][0],dx1=transform.invertX(extent[1][0])-translateExtent[1][0],dy0=transform.invertY(extent[0][1])-translateExtent[0][1],dy1=transform.invertY(extent[1][1])-translateExtent[1][1];return transform.translate(dx1>dx0?(dx0+dx1)/2:Math.min(0,dx0)||Math.max(0,dx1),dy1>dy0?(dy0+dy1)/2:Math.min(0,dy0)||Math.max(0,dy1))}var d3_zoom_src_zoom=function(){var touchstarting,touchending,filter=zoom_defaultFilter,extent=zoom_defaultExtent,constrain=defaultConstrain,wheelDelta=defaultWheelDelta,touchable=zoom_defaultTouchable,scaleExtent=[0,1/0],translateExtent=[[-1/0,-1/0],[1/0,1/0]],duration=250,interpolate=src_zoom,listeners=src_dispatch("start","zoom","end"),touchDelay=500,wheelDelay=150,clickDistance2=0;function zoom(selection){selection.property("__zoom",defaultTransform).on("wheel.zoom",wheeled).on("mousedown.zoom",mousedowned).on("dblclick.zoom",dblclicked).filter(touchable).on("touchstart.zoom",touchstarted).on("touchmove.zoom",touchmoved).on("touchend.zoom touchcancel.zoom",touchended).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function scale(transform,k){return(k=Math.max(scaleExtent[0],Math.min(scaleExtent[1],k)))===transform.k?transform:new Transform(k,transform.x,transform.y)}function translate(transform,p0,p1){var x=p0[0]-p1[0]*transform.k,y=p0[1]-p1[1]*transform.k;return x===transform.x&&y===transform.y?transform:new Transform(transform.k,x,y)}function centroid(extent){return[(+extent[0][0]+ +extent[1][0])/2,(+extent[0][1]+ +extent[1][1])/2]}function schedule(transition,transform,point){transition.on("start.zoom",(function(){gesture(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){gesture(this,arguments).end()})).tween("zoom",(function(){var that=this,args=arguments,g=gesture(that,args),e=extent.apply(that,args),p=null==point?centroid(e):"function"==typeof point?point.apply(that,args):point,w=Math.max(e[1][0]-e[0][0],e[1][1]-e[0][1]),a=that.__zoom,b="function"==typeof transform?transform.apply(that,args):transform,i=interpolate(a.invert(p).concat(w/a.k),b.invert(p).concat(w/b.k));return function(t){if(1===t)t=b;else{var l=i(t),k=w/l[2];t=new Transform(k,p[0]-l[0]*k,p[1]-l[1]*k)}g.zoom(null,t)}}))}function gesture(that,args,clean){return!clean&&that.__zooming||new Gesture(that,args)}function Gesture(that,args){this.that=that,this.args=args,this.active=0,this.extent=extent.apply(that,args),this.taps=0}function wheeled(){if(filter.apply(this,arguments)){var g=gesture(this,arguments),t=this.__zoom,k=Math.max(scaleExtent[0],Math.min(scaleExtent[1],t.k*Math.pow(2,wheelDelta.apply(this,arguments)))),p=mouse(this);if(g.wheel)g.mouse[0][0]===p[0]&&g.mouse[0][1]===p[1]||(g.mouse[1]=t.invert(g.mouse[0]=p)),clearTimeout(g.wheel);else{if(t.k===k)return;g.mouse=[p,t.invert(p)],interrupt(this),g.start()}d3_zoom_src_noevent(),g.wheel=setTimeout((function(){g.wheel=null,g.end()}),wheelDelay),g.zoom("mouse",constrain(translate(scale(t,k),g.mouse[0],g.mouse[1]),g.extent,translateExtent))}}function mousedowned(){if(!touchending&&filter.apply(this,arguments)){var g=gesture(this,arguments,!0),v=src_select(on_event.view).on("mousemove.zoom",(function(){if(d3_zoom_src_noevent(),!g.moved){var dx=on_event.clientX-x0,dy=on_event.clientY-y0;g.moved=dx*dx+dy*dy>clickDistance2}g.zoom("mouse",constrain(translate(g.that.__zoom,g.mouse[0]=mouse(g.that),g.mouse[1]),g.extent,translateExtent))}),!0).on("mouseup.zoom",(function(){v.on("mousemove.zoom mouseup.zoom",null),yesdrag(on_event.view,g.moved),d3_zoom_src_noevent(),g.end()}),!0),p=mouse(this),x0=on_event.clientX,y0=on_event.clientY;nodrag(on_event.view),src_noevent_nopropagation(),g.mouse=[p,this.__zoom.invert(p)],interrupt(this),g.start()}}function dblclicked(){if(filter.apply(this,arguments)){var t0=this.__zoom,p0=mouse(this),p1=t0.invert(p0),t1=constrain(translate(scale(t0,t0.k*(on_event.shiftKey?.5:2)),p0,p1),extent.apply(this,arguments),translateExtent);d3_zoom_src_noevent(),duration>0?src_select(this).transition().duration(duration).call(schedule,t1,p0):src_select(this).call(zoom.transform,t1)}}function touchstarted(){if(filter.apply(this,arguments)){var started,i,t,p,touches=on_event.touches,n=touches.length,g=gesture(this,arguments,on_event.changedTouches.length===n);for(src_noevent_nopropagation(),i=0;i<n;++i)p=[p=src_touch(this,touches,(t=touches[i]).identifier),this.__zoom.invert(p),t.identifier],g.touch0?g.touch1||g.touch0[2]===p[2]||(g.touch1=p,g.taps=0):(g.touch0=p,started=!0,g.taps=1+!!touchstarting);touchstarting&&(touchstarting=clearTimeout(touchstarting)),started&&(g.taps<2&&(touchstarting=setTimeout((function(){touchstarting=null}),touchDelay)),interrupt(this),g.start())}}function touchmoved(){if(this.__zooming){var i,t,p,l,g=gesture(this,arguments),touches=on_event.changedTouches,n=touches.length;for(d3_zoom_src_noevent(),touchstarting&&(touchstarting=clearTimeout(touchstarting)),g.taps=0,i=0;i<n;++i)p=src_touch(this,touches,(t=touches[i]).identifier),g.touch0&&g.touch0[2]===t.identifier?g.touch0[0]=p:g.touch1&&g.touch1[2]===t.identifier&&(g.touch1[0]=p);if(t=g.that.__zoom,g.touch1){var p0=g.touch0[0],l0=g.touch0[1],p1=g.touch1[0],l1=g.touch1[1],dp=(dp=p1[0]-p0[0])*dp+(dp=p1[1]-p0[1])*dp,dl=(dl=l1[0]-l0[0])*dl+(dl=l1[1]-l0[1])*dl;t=scale(t,Math.sqrt(dp/dl)),p=[(p0[0]+p1[0])/2,(p0[1]+p1[1])/2],l=[(l0[0]+l1[0])/2,(l0[1]+l1[1])/2]}else{if(!g.touch0)return;p=g.touch0[0],l=g.touch0[1]}g.zoom("touch",constrain(translate(t,p,l),g.extent,translateExtent))}}function touchended(){if(this.__zooming){var i,t,g=gesture(this,arguments),touches=on_event.changedTouches,n=touches.length;for(src_noevent_nopropagation(),touchending&&clearTimeout(touchending),touchending=setTimeout((function(){touchending=null}),touchDelay),i=0;i<n;++i)t=touches[i],g.touch0&&g.touch0[2]===t.identifier?delete g.touch0:g.touch1&&g.touch1[2]===t.identifier&&delete g.touch1;if(g.touch1&&!g.touch0&&(g.touch0=g.touch1,delete g.touch1),g.touch0)g.touch0[1]=this.__zoom.invert(g.touch0[0]);else if(g.end(),2===g.taps){var p=src_select(this).on("dblclick.zoom");p&&p.apply(this,arguments)}}}return zoom.transform=function(collection,transform,point){var selection=collection.selection?collection.selection():collection;selection.property("__zoom",defaultTransform),collection!==selection?schedule(collection,transform,point):selection.interrupt().each((function(){gesture(this,arguments).start().zoom(null,"function"==typeof transform?transform.apply(this,arguments):transform).end()}))},zoom.scaleBy=function(selection,k,p){zoom.scaleTo(selection,(function(){var k0=this.__zoom.k,k1="function"==typeof k?k.apply(this,arguments):k;return k0*k1}),p)},zoom.scaleTo=function(selection,k,p){zoom.transform(selection,(function(){var e=extent.apply(this,arguments),t0=this.__zoom,p0=null==p?centroid(e):"function"==typeof p?p.apply(this,arguments):p,p1=t0.invert(p0),k1="function"==typeof k?k.apply(this,arguments):k;return constrain(translate(scale(t0,k1),p0,p1),e,translateExtent)}),p)},zoom.translateBy=function(selection,x,y){zoom.transform(selection,(function(){return constrain(this.__zoom.translate("function"==typeof x?x.apply(this,arguments):x,"function"==typeof y?y.apply(this,arguments):y),extent.apply(this,arguments),translateExtent)}))},zoom.translateTo=function(selection,x,y,p){zoom.transform(selection,(function(){var e=extent.apply(this,arguments),t=this.__zoom,p0=null==p?centroid(e):"function"==typeof p?p.apply(this,arguments):p;return constrain(transform_identity.translate(p0[0],p0[1]).scale(t.k).translate("function"==typeof x?-x.apply(this,arguments):-x,"function"==typeof y?-y.apply(this,arguments):-y),e,translateExtent)}),p)},Gesture.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(key,transform){return this.mouse&&"mouse"!==key&&(this.mouse[1]=transform.invert(this.mouse[0])),this.touch0&&"touch"!==key&&(this.touch0[1]=transform.invert(this.touch0[0])),this.touch1&&"touch"!==key&&(this.touch1[1]=transform.invert(this.touch1[0])),this.that.__zoom=transform,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(type){customEvent(new ZoomEvent(zoom,type,this.that.__zoom),listeners.apply,listeners,[type,this.that,this.args])}},zoom.wheelDelta=function(_){return arguments.length?(wheelDelta="function"==typeof _?_:d3_zoom_src_constant(+_),zoom):wheelDelta},zoom.filter=function(_){return arguments.length?(filter="function"==typeof _?_:d3_zoom_src_constant(!!_),zoom):filter},zoom.touchable=function(_){return arguments.length?(touchable="function"==typeof _?_:d3_zoom_src_constant(!!_),zoom):touchable},zoom.extent=function(_){return arguments.length?(extent="function"==typeof _?_:d3_zoom_src_constant([[+_[0][0],+_[0][1]],[+_[1][0],+_[1][1]]]),zoom):extent},zoom.scaleExtent=function(_){return arguments.length?(scaleExtent[0]=+_[0],scaleExtent[1]=+_[1],zoom):[scaleExtent[0],scaleExtent[1]]},zoom.translateExtent=function(_){return arguments.length?(translateExtent[0][0]=+_[0][0],translateExtent[1][0]=+_[1][0],translateExtent[0][1]=+_[0][1],translateExtent[1][1]=+_[1][1],zoom):[[translateExtent[0][0],translateExtent[0][1]],[translateExtent[1][0],translateExtent[1][1]]]},zoom.constrain=function(_){return arguments.length?(constrain=_,zoom):constrain},zoom.duration=function(_){return arguments.length?(duration=+_,zoom):duration},zoom.interpolate=function(_){return arguments.length?(interpolate=_,zoom):interpolate},zoom.on=function(){var value=listeners.on.apply(listeners,arguments);return value===listeners?zoom:value},zoom.clickDistance=function(_){return arguments.length?(clickDistance2=(_=+_)*_,zoom):Math.sqrt(clickDistance2)},zoom};class force_directed_graph_ForceDirectedGraph{constructor(nodes,links,options){this.ticker=new core.m,this.nodes=[],this.links=[],this.nodes=nodes,this.links=links,this.options=options,this.initSimulation(options)}initNodes(){if(!this.simulation)throw new Error("simulation was not initialized yet");this.simulation.nodes(this.nodes)}clickLogo(logo,i){}initNodes2(nodes){if(src_selectAll("nodeG").exit().remove(),!this.simulation)throw new Error("simulation was not initialized yet");this.simulation.nodes(nodes)}initLinks(){if(!this.simulation)throw new Error("simulation was not initialized yet");this.simulation.force("links",src_link(this.links).id(d=>d.id).distance(1).strength(2))}initLinks2(links){if(src_selectAll("link").exit().remove(),!this.simulation)throw new Error("simulation was not initialized yet");console.log(links),this.simulation.force("links",src_link(links).id(d=>d.id).distance(1).strength(2))}initSimulation(options){if(!options||!options.width||!options.height)throw new Error("missing options when initializing simulation");if(src_selectAll("nodeG").exit().remove(),src_selectAll("link").exit().remove(),!this.simulation){const ticker=this.ticker;this.simulation=src_simulation(),this.simulation.on("tick",(function(){ticker.emit(this)})),this.initNodes(),this.initLinks()}this.simulation.restart()}}var d3_drag_src_constant=function(x){return function(){return x}};function DragEvent(target,type,subject,id,active,x,y,dx,dy,dispatch){this.target=target,this.type=type,this.subject=subject,this.identifier=id,this.active=active,this.x=x,this.y=y,this.dx=dx,this.dy=dy,this._=dispatch}function drag_defaultFilter(){return!on_event.ctrlKey&&!on_event.button}function defaultContainer(){return this.parentNode}function defaultSubject(d){return null==d?{x:on_event.x,y:on_event.y}:d}function drag_defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}DragEvent.prototype.on=function(){var value=this._.on.apply(this._,arguments);return value===this._?this:value};var src_drag=function(){var mousedownx,mousedowny,mousemoving,touchending,filter=drag_defaultFilter,container=defaultContainer,subject=defaultSubject,touchable=drag_defaultTouchable,gestures={},listeners=src_dispatch("start","drag","end"),active=0,clickDistance2=0;function drag(selection){selection.on("mousedown.drag",mousedowned).filter(touchable).on("touchstart.drag",touchstarted).on("touchmove.drag",touchmoved).on("touchend.drag touchcancel.drag",touchended).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function mousedowned(){if(!touchending&&filter.apply(this,arguments)){var gesture=beforestart("mouse",container.apply(this,arguments),mouse,this,arguments);gesture&&(src_select(on_event.view).on("mousemove.drag",mousemoved,!0).on("mouseup.drag",mouseupped,!0),nodrag(on_event.view),nopropagation(),mousemoving=!1,mousedownx=on_event.clientX,mousedowny=on_event.clientY,gesture("start"))}}function mousemoved(){if(noevent(),!mousemoving){var dx=on_event.clientX-mousedownx,dy=on_event.clientY-mousedowny;mousemoving=dx*dx+dy*dy>clickDistance2}gestures.mouse("drag")}function mouseupped(){src_select(on_event.view).on("mousemove.drag mouseup.drag",null),yesdrag(on_event.view,mousemoving),noevent(),gestures.mouse("end")}function touchstarted(){if(filter.apply(this,arguments)){var i,gesture,touches=on_event.changedTouches,c=container.apply(this,arguments),n=touches.length;for(i=0;i<n;++i)(gesture=beforestart(touches[i].identifier,c,src_touch,this,arguments))&&(nopropagation(),gesture("start"))}}function touchmoved(){var i,gesture,touches=on_event.changedTouches,n=touches.length;for(i=0;i<n;++i)(gesture=gestures[touches[i].identifier])&&(noevent(),gesture("drag"))}function touchended(){var i,gesture,touches=on_event.changedTouches,n=touches.length;for(touchending&&clearTimeout(touchending),touchending=setTimeout((function(){touchending=null}),500),i=0;i<n;++i)(gesture=gestures[touches[i].identifier])&&(nopropagation(),gesture("end"))}function beforestart(id,container,point,that,args){var s,dx,dy,p=point(container,id),sublisteners=listeners.copy();if(customEvent(new DragEvent(drag,"beforestart",s,id,active,p[0],p[1],0,0,sublisteners),(function(){return null!=(on_event.subject=s=subject.apply(that,args))&&(dx=s.x-p[0]||0,dy=s.y-p[1]||0,!0)})))return function gesture(type){var n,p0=p;switch(type){case"start":gestures[id]=gesture,n=active++;break;case"end":delete gestures[id],--active;case"drag":p=point(container,id),n=active}customEvent(new DragEvent(drag,type,s,id,n,p[0]+dx,p[1]+dy,p[0]-p0[0],p[1]-p0[1],sublisteners),sublisteners.apply,sublisteners,[type,that,args])}}return drag.filter=function(_){return arguments.length?(filter="function"==typeof _?_:d3_drag_src_constant(!!_),drag):filter},drag.container=function(_){return arguments.length?(container="function"==typeof _?_:d3_drag_src_constant(_),drag):container},drag.subject=function(_){return arguments.length?(subject="function"==typeof _?_:d3_drag_src_constant(_),drag):subject},drag.touchable=function(_){return arguments.length?(touchable="function"==typeof _?_:d3_drag_src_constant(!!_),drag):touchable},drag.on=function(){var value=listeners.on.apply(listeners,arguments);return value===listeners?drag:value},drag.clickDistance=function(_){return arguments.length?(clickDistance2=(_=+_)*_,drag):Math.sqrt(clickDistance2)},drag},fesm2015_http=__webpack_require__("IheW");const PROXY_URL="https://cors-anywhere.herokuapp.com/";let d3_service_D3Service=(()=>{class D3Service{constructor(http){this.http=http}getIpCliente(){return this.http.get(PROXY_URL+"http://api.ipify.org/?format=jsonp&callback=JSONP_CALLBACK",{responseType:"text"}).pipe(Object(map.a)(text=>text.startsWith("<error>")?"":new RegExp(":.(.*..*..*).}").exec(text)[1]))}applyZoomableBehaviour(svgElement,containerElement){let svg,container,zoomed,zoom;svg=src_select(svgElement),container=src_select(containerElement),zoomed=()=>{const transform=on_event.transform;container.attr("transform","translate("+transform.x+","+transform.y+") scale("+transform.k+")")},zoom=d3_zoom_src_zoom().scaleExtent([.5,20]).translateExtent([[-1e3,-1e3],[1e4,1e4]]).on("zoom",zoomed),svg.call(zoom)}click2(d){}applyDraggableBehaviour(element,node,graph){src_select(element).call(src_drag().on("start",(function(){on_event.sourceEvent.stopPropagation(),on_event.active||graph.simulation.alphaTarget(.3).restart(),on_event.on("drag",(function(){node.fx=on_event.x,node.fy=on_event.y})).on("end",(function(){on_event.active||graph.simulation.alphaTarget(0),node.fx=null,node.fy=null}))})))}getForceDirectedGraph(nodes,links,options){return this.options=options,this.sg=new force_directed_graph_ForceDirectedGraph(nodes,links,options),this.sg}changeForceDirectedGraph(nodes){return console.log("change"),this.sg.simulation.nodes(nodes),this.sg}getNodes(){}changeColor(node,index){console.log(node);let color=(index+this.toggle)%2?"red":"blue";return console.log(color),color}click(nodes,links,options){this.toggle=0==this.toggle?1:0,src_selectAll(".node").data(nodes).attr("fill",this.changeColor)}}return D3Service.ngInjectableDef=core.Rb({factory:function(){return new D3Service(core.Sb(fesm2015_http.c))},token:D3Service,providedIn:"root"}),D3Service})();class ZoomableDirective{constructor(d3Service,_element){this.d3Service=d3Service,this._element=_element}ngOnInit(){this.d3Service.applyZoomableBehaviour(this.zoomableOf,this._element.nativeElement)}}class DraggableDirective{constructor(d3Service,_element){this.d3Service=d3Service,this._element=_element}ngOnInit(){this.d3Service.applyDraggableBehaviour(this._element.nativeElement,this.draggableNode,this.draggableInGraph)}}class LinkVisual2Component{}var RenderType_LinkVisual2Component=core.qb({encapsulation:0,styles:[[".link[_ngcontent-%COMP%]{stroke-width:.25;stroke:#deedfa}"]],data:{}});function View_LinkVisual2Component_0(_l){return core.Nb(0,[(_l()(),core.sb(0,0,null,null,0,":svg:line",[["class","link"]],[[1,"x1",0],[1,"y1",0],[1,"x2",0],[1,"y2",0],[4,"stroke",null],[4,"stroke-width",null]],null,null,null,null))],null,(function(_ck,_v){var _co=_v.component;_ck(_v,0,0,_co.link.source.x,_co.link.source.y,_co.link.target.x,_co.link.target.y,"black","1px")}))}class node_visual_component_NodeVisualComponent{constructor(store){this.store=store}click(){console.log("clickTest"),this.store.dispatch(new logos_actions.b({id:this.node.id}))}}var RenderType_NodeVisualComponent=core.qb({encapsulation:0,styles:[[".nodeG[_ngcontent-%COMP%]{transition:all .3s ease-in-out}.node[_ngcontent-%COMP%]{cursor:pointer;transition:stroke-width .1s ease-out,fill .1s ease-out,stroke .1s ease-out;stroke:#000;stroke-width:.25}.node-name[_ngcontent-%COMP%]{font-family:Lato;text-anchor:middle;alignment-baseline:central;font-weight:300;fill:#c2cdff}"]],data:{}});function View_NodeVisualComponent_0(_l){return core.Nb(0,[(_l()(),core.sb(0,0,null,null,3,":svg:g",[["class","nodeG"]],[[1,"transform",0]],null,null,null,null)),(_l()(),core.sb(1,0,null,null,0,":svg:image",[["class","node"],["height","50"],["width","50"],["x","-25"],["y","-25"]],[[1,":xlink:href",0]],[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.click()&&ad),ad}),null,null)),(_l()(),core.sb(2,0,null,null,1,":svg:text",[["class","node-name"],["y","-35"]],[[1,"font-size",0]],null,null,null,null)),(_l()(),core.Lb(3,null,[" "," "]))],null,(function(_ck,_v){var _co=_v.component;_ck(_v,0,0,"translate("+_co.node.x+","+_co.node.y+")"),_ck(_v,1,0,_co.node.img),_ck(_v,2,0,_co.node.fontSize),_ck(_v,3,0,_co.node.label)}))}class NodeVisualComponent2{constructor(){}click(){console.log("clickTest")}}var RenderType_NodeVisualComponent2=core.qb({encapsulation:0,styles:[[".node[_ngcontent-%COMP%]{cursor:pointer;transition:stroke-width .1s ease-out,fill .1s ease-out,stroke .1s ease-out;stroke:#fff;stroke-width:.25}.node-name[_ngcontent-%COMP%]{font-family:Lato;text-anchor:middle;alignment-baseline:central;font-weight:300;fill:#000852}.node-win[_ngcontent-%COMP%]{font-family:Lato;text-anchor:middle;alignment-baseline:central;font-weight:300;fill:#000}.node-position[_ngcontent-%COMP%]{font-family:'Times New Roman';text-anchor:middle;alignment-baseline:central;font-weight:300;fill:#042400}"]],data:{}});function View_NodeVisualComponent2_0(_l){return core.Nb(0,[(_l()(),core.sb(0,0,null,null,5,":svg:g",[["class","nodeG"]],[[1,"transform",0]],null,null,null,null)),(_l()(),core.sb(1,0,null,null,0,":svg:image",[["class","node"],["height","50"],["width","50"],["x","-25"],["y","-25"]],[[1,":xlink:href",0]],[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.click()&&ad),ad}),null,null)),(_l()(),core.sb(2,0,null,null,1,":svg:text",[["class","node-name"],["y","-35"]],[[1,"font-size",0]],null,null,null,null)),(_l()(),core.Lb(3,null,[" ","\n"])),(_l()(),core.sb(4,0,null,null,1,":svg:text",[["class","node-win"],["x","200"],["y","5"]],[[1,"font-size",0]],null,null,null,null)),(_l()(),core.Lb(5,null,[" Points de victoire : ","\n"]))],null,(function(_ck,_v){var _co=_v.component;_ck(_v,0,0,"translate(200,"+_co.node.y+")"),_ck(_v,1,0,_co.node.img),_ck(_v,2,0,_co.node.fontSize),_ck(_v,3,0,_co.node.label),_ck(_v,4,0,35),_ck(_v,5,0,_co.node.win)}))}var BehaviorSubject=__webpack_require__("2Vo4");let node_service_NodeService=(()=>{class NodeService{constructor(){this.node$=new BehaviorSubject.a([])}}return NodeService.ngInjectableDef=core.Rb({factory:function(){return new NodeService},token:NodeService,providedIn:"root"}),NodeService})();class Logo{constructor(id,texte,url_img,niveauDaccord=0,style,aimez,commentaire,x,y,avg=0,win=0){this.id=id,this.texte=texte,this.url_img=url_img,this.style=style,this.aimez=aimez,this.niveauDaccord=niveauDaccord,this.commentaire=commentaire,this.x=x,this.y=y,this.avg=avg,this.win=win}}class graph_component_GraphComponent{constructor(d3Service,ref,dataS,store,nodeService,afs,router){this.d3Service=d3Service,this.ref=ref,this.dataS=dataS,this.store=store,this.nodeService=nodeService,this.afs=afs,this.router=router,this.routeAnimationsElements=app_core.d,this._options={width:400,height:400},this.nextStep=node=>(node.avg||(node.avg=0),node.x+Math.random()*(20+10*node.avg)+20),this.fin=!1,this.nodesForHisto=[],this.x=.5*this.options.width,this.y=0,this.x2=this.options.width,this.y2=2*this.options.height,this.links=[],router.events.subscribe(val=>{this.nodes&&(this.height=""+(100*this.nodes.length+100),this.ref.markForCheck())})}onResize(event){this.graph.initSimulation(this.options)}center(){let xs=this.nodes.map(node=>node.x),max=0,max_i=0;for(let i in xs)xs[i]>max&&(max=xs[i],max_i=Number(i));this.y=this.nodes[max_i].y-this.graph.options.height/2,this.x=max-(this.graph.options.width/2-100),this.x2=this.options.width,this.y2=this.options.height,this.ref.markForCheck()}getData(){this.store.pipe(Object(fesm2015_store.A)(selectAllLogos)).subscribe(logos=>{this.height=""+(100*logos.length+100),this.ref.markForCheck();let tab=Object.keys(logos),dict=logos;this.nodeService.node$.next(tab.map((k,i)=>new node_Node(dict[k].id,dict[k].url_img,dict[k].texte,dict[k].niveauDaccord,dict[k].x,dict[k].y,dict[k].avg,dict[k].win)))})}ngOnInit(){}ngAfterViewInit(){this.updateLogo(),this.getData()}updateLogo(){this.nodeService.node$.pipe().subscribe(nodes=>{if(this.graph){this.nodes=nodes,this.nodesForHisto=JSON.parse(JSON.stringify(this.nodes));for(let i in this.nodes)this.nodes[i].p=i;this.nodesForHisto.sort((node1,node2)=>node1.x<node2.x?1:node1.x>node2.x?-1:node1.win<node2.win?1:node1.win>node2.win?-1:0);for(let i in this.nodesForHisto){let node=this.nodesForHisto[i];node.pos=this.nodes[node.p],node.y=100*Number(i)+Number(this.height)+50}this.ref.markForCheck()}else this.nodes=nodes,console.log("new graph"),this.graph=this.d3Service.getForceDirectedGraph(this.nodes,this.links,this.options),this.graph.initSimulation(this.options),this.graph.ticker.subscribe(d=>{this.ref.markForCheck()})})}clickButton(){console.log(this.nodes),console.log(this.links),this.nodes=this.nodes.slice(0,this.nodes.length-1),this.links=this.links.slice(0,this.links.length-1),this.links[this.links.length-1].target=0,this.graph=this.d3Service.changeForceDirectedGraph(this.nodes),this.d3Service.click(this.nodes,this.links,this.options)}clickButton2(){this.d3Service.getIpCliente().subscribe(ip=>{console.log("ip:"+ip)})}clickButton3(){}clickButton4(){console.log("nodes"),console.log(this.nodes);let newNodes=this.nodes.map(node=>{let wi=this.options.width/2,he=this.options.height/2;return Object.assign({},node,{x:100*Math.random()-50+wi,y:200*Math.random()-100+he})});this.store.dispatch(new logos_actions.d({logos:newNodes.map((node,i)=>(console.log("node"),console.log(node),new Logo(node.id,node.texte,node.img,node.niveau,"",!1,node.commentaire,node.x,node.y,node.avg,node.win)))}))}start(){this.fin=!1}reset(){this.x=.5*this.options.width,this.y=0,this.fin=!1,this.x2=this.options.width,this.y2=2*this.options.height,this.store.dispatch(new logos_actions.e({logos:this.nodes.map((node,i)=>{let txt="";return node.texte&&(txt=node.texte),new Logo(node.id,node.label,node.img,node.niveau,"",!1,txt,200,100*i+100,node.avg,node.win)})})),this.ref.markForCheck()}resetDb(){this.store.dispatch(new vote_actions.c({votes:[]}))}get options(){return this._options={width:window.innerWidth-50,height:window.innerHeight-200}}}var RenderType_GraphComponent=core.qb({encapsulation:0,styles:[[".center[_ngcontent-%COMP%]{margin:auto;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}"]],data:{}});function View_GraphComponent_1(_l){return core.Nb(0,[(_l()(),core.sb(0,0,null,null,1,":svg:g",[],null,null,null,View_LinkVisual2Component_0,RenderType_LinkVisual2Component)),core.rb(1,49152,null,0,LinkVisual2Component,[],{link:[0,"link"]},null)],(function(_ck,_v){_ck(_v,1,0,_v.context.$implicit)}),null)}function View_GraphComponent_2(_l){return core.Nb(0,[(_l()(),core.sb(0,0,null,null,2,":svg:g",[],null,null,null,View_NodeVisualComponent_0,RenderType_NodeVisualComponent)),core.rb(1,49152,null,0,node_visual_component_NodeVisualComponent,[fesm2015_store.o],{node:[0,"node"]},null),core.rb(2,81920,null,0,DraggableDirective,[d3_service_D3Service,core.k],{draggableNode:[0,"draggableNode"],draggableInGraph:[1,"draggableInGraph"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,1,0,_v.context.$implicit),_ck(_v,2,0,_v.context.$implicit,_co.graph)}),null)}function View_GraphComponent_3(_l){return core.Nb(0,[(_l()(),core.sb(0,0,null,null,2,":svg:g",[],null,null,null,View_NodeVisualComponent2_0,RenderType_NodeVisualComponent2)),core.rb(1,49152,null,0,NodeVisualComponent2,[],{node:[0,"node"]},null),core.rb(2,81920,null,0,DraggableDirective,[d3_service_D3Service,core.k],{draggableNode:[0,"draggableNode"],draggableInGraph:[1,"draggableInGraph"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,1,0,_v.context.$implicit),_ck(_v,2,0,_v.context.$implicit,_co.graph)}),null)}function View_GraphComponent_4(_l){return core.Nb(0,[(_l()(),core.sb(0,0,null,null,4,"button",[["color","primary"],["mat-fab",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.start()&&ad),ad}),button_typings_index_ngfactory.d,button_typings_index_ngfactory.b)),core.Ib(512,null,common.x,common.y,[core.r,core.s,core.k,core.D]),core.rb(2,278528,null,0,common.i,[common.x],{ngClass:[0,"ngClass"]},null),core.rb(3,180224,null,0,esm2015_button.b,[core.k,a11y.h,[2,fesm2015_animations.a]],{color:[0,"color"]},null),(_l()(),core.Lb(-1,0,[" Départ!\n"]))],(function(_ck,_v){_ck(_v,2,0,_v.component.routeAnimationsElements),_ck(_v,3,0,"primary")}),(function(_ck,_v){_ck(_v,0,0,core.Eb(_v,3).disabled||null,"NoopAnimations"===core.Eb(_v,3)._animationMode)}))}function View_GraphComponent_0(_l){return core.Nb(2,[(_l()(),core.sb(0,0,null,null,12,"div",[["class","center"]],null,null,null,null,null)),(_l()(),core.sb(1,0,[["svg",1]],null,11,":svg:svg",[],[[1,"width",0],[1,"height",0],[1,"viewBox",0]],null,null,null,null)),(_l()(),core.sb(2,0,null,null,10,":svg:g",[],null,null,null,null,null)),core.rb(3,81920,null,0,ZoomableDirective,[d3_service_D3Service,core.k],{zoomableOf:[0,"zoomableOf"]},null),(_l()(),core.sb(4,0,null,null,0,":svg:rect",[["style","fill:rgb(15, 15, 15);stroke-width:3;stroke:rgb(0,0,0)"],["width","6050"],["x","150"],["y","0"]],[[1,"height",0]],null,null,null,null)),(_l()(),core.sb(5,0,null,null,0,":svg:rect",[["style","fill:rgb(255, 0, 0);stroke-width:3;stroke:rgb(151, 0, 0)"],["width","30"],["x","200"],["y","0"]],[[1,"height",0]],null,null,null,null)),(_l()(),core.sb(6,0,null,null,0,":svg:rect",[["style","fill:rgb(53, 53, 53);stroke-width:3;stroke:rgb(78, 76, 76)"],["width","75"],["x","6200"],["y","0"]],[[1,"height",0]],null,null,null,null)),(_l()(),core.hb(16777216,null,null,1,null,View_GraphComponent_1)),core.rb(8,278528,null,0,common.j,[core.O,core.L,core.r],{ngForOf:[0,"ngForOf"]},null),(_l()(),core.hb(16777216,null,null,1,null,View_GraphComponent_2)),core.rb(10,278528,null,0,common.j,[core.O,core.L,core.r],{ngForOf:[0,"ngForOf"]},null),(_l()(),core.hb(16777216,null,null,1,null,View_GraphComponent_3)),core.rb(12,278528,null,0,common.j,[core.O,core.L,core.r],{ngForOf:[0,"ngForOf"]},null),(_l()(),core.sb(13,0,null,null,2,"div",[["class","center"]],null,null,null,null,null)),(_l()(),core.hb(16777216,null,null,1,null,View_GraphComponent_4)),core.rb(15,16384,null,0,common.k,[core.O,core.L],{ngIf:[0,"ngIf"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,3,0,core.Eb(_v,1)),_ck(_v,8,0,_co.links),_ck(_v,10,0,_co.nodes),_ck(_v,12,0,_co.nodesForHisto),_ck(_v,15,0,!_co.fin)}),(function(_ck,_v){var _co=_v.component;_ck(_v,1,0,_co._options.width,_co._options.height,_co.x+" "+_co.y+" "+_co.x2+" "+_co.y2),_ck(_v,4,0,_co.height),_ck(_v,5,0,_co.height),_ck(_v,6,0,_co.height)}))}class GearsComponent{constructor(changeDetectorRef,store2,store,fb,router){this.changeDetectorRef=changeDetectorRef,this.store2=store2,this.store=store,this.fb=fb,this.router=router}ngOnInit(){}}var RenderType_GearsComponent=core.qb({encapsulation:0,styles:[['.node-name[_ngcontent-%COMP%]{fill:"#e3e3ff"}']],data:{}});function View_GearsComponent_0(_l){return core.Nb(2,[(_l()(),core.sb(0,0,null,null,1,"app-graph",[],null,[["window","resize"]],(function(_v,en,$event){var ad=!0;return"window:resize"===en&&(ad=!1!==core.Eb(_v,1).onResize($event)&&ad),ad}),View_GraphComponent_0,RenderType_GraphComponent)),core.rb(1,4308992,null,0,graph_component_GraphComponent,[d3_service_D3Service,core.h,data_service.a,fesm2015_store.o,node_service_NodeService,es2015_firestore.a,fesm2015_router.p],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}function View_GearsComponent_Host_0(_l){return core.Nb(0,[(_l()(),core.sb(0,0,null,null,1,"anms-gears",[],null,null,null,View_GearsComponent_0,RenderType_GearsComponent)),core.rb(1,114688,null,0,GearsComponent,[core.h,fesm2015_store.o,fesm2015_store.o,fesm2015_forms.e,fesm2015_router.p],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var GearsComponentNgFactory=core.ob("anms-gears",GearsComponent,View_GearsComponent_Host_0,{},{},[]);const{selectEntities:user_selectors_selectEntities,selectAll:user_selectors_selectAll}=userAdapter.getSelectors(),selectUsers=Object(fesm2015_store.z)(selectExamples,state=>state.users),selectAllUsers=Object(fesm2015_store.z)(selectUsers,user_selectors_selectAll);Object(fesm2015_store.z)(selectUsers,user_selectors_selectEntities);class users_info_component_UsersInfoComponent{constructor(store,db){this.store=store,this.db=db,this.cardListOnline$=this.store.pipe(Object(fesm2015_store.A)(selectAllUsers),Object(map.a)(users=>users.filter(user=>"online"==user.texte))),this.cardListOffline$=this.store.pipe(Object(fesm2015_store.A)(selectAllUsers),Object(map.a)(users=>users.filter(user=>"offline"==user.texte)))}ngOnInit(){this.authEmail$=this.store.pipe(Object(fesm2015_store.A)(app_core.g))}delete(id){this.db.object("users/"+id).remove().then(data=>{console.log("element removed"),console.log(data)})}}var RenderType_UsersInfoComponent=core.qb({encapsulation:0,styles:[["img[_ngcontent-%COMP%]{width:50px}.center[_ngcontent-%COMP%]{margin:auto}.online[_ngcontent-%COMP%]{background:#8fbc8f}.offline[_ngcontent-%COMP%]{background:#ffb6c1}.marginated[_ngcontent-%COMP%]{margin:5px}"]],data:{}});function View_UsersInfoComponent_1(_l){return core.Nb(0,[(_l()(),core.sb(0,0,null,null,12,"div",[],null,null,null,null,null)),(_l()(),core.sb(1,0,null,null,11,"mat-card",[["class","online marginated mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,card_typings_index_ngfactory.d,card_typings_index_ngfactory.a)),core.rb(2,49152,null,0,card.a,[[2,fesm2015_animations.a]],null,null),(_l()(),core.sb(3,0,null,0,1,"img",[["class","mat-card-image"],["mat-card-image",""]],[[8,"src",4]],null,null,null,null)),core.rb(4,16384,null,0,card.f,[],null,null),(_l()(),core.sb(5,0,null,0,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),core.rb(6,16384,null,0,card.h,[],null,null),(_l()(),core.Lb(7,null,[" "," "])),(_l()(),core.sb(8,0,null,0,2,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),core.rb(9,16384,null,0,card.c,[],null,null),(_l()(),core.Lb(10,null,[" "," "])),(_l()(),core.sb(11,0,null,1,1,"mat-card-footer",[["class","center mat-card-footer"]],null,null,null,null,null)),core.rb(12,16384,null,0,card.d,[],null,null)],null,(function(_ck,_v){_ck(_v,1,0,"NoopAnimations"===core.Eb(_v,2)._animationMode),_ck(_v,3,0,_v.context.$implicit.url_img),_ck(_v,7,0,_v.context.$implicit.name),_ck(_v,10,0,_v.context.$implicit.texte)}))}function View_UsersInfoComponent_3(_l){return core.Nb(0,[(_l()(),core.sb(0,0,null,null,2,"button",[["color","warn"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.delete(_v.parent.context.$implicit.id)&&ad),ad}),button_typings_index_ngfactory.d,button_typings_index_ngfactory.b)),core.rb(1,180224,null,0,esm2015_button.b,[core.k,a11y.h,[2,fesm2015_animations.a]],{color:[0,"color"]},null),(_l()(),core.Lb(-1,0,["Supprimer"]))],(function(_ck,_v){_ck(_v,1,0,"warn")}),(function(_ck,_v){_ck(_v,0,0,core.Eb(_v,1).disabled||null,"NoopAnimations"===core.Eb(_v,1)._animationMode)}))}function View_UsersInfoComponent_2(_l){return core.Nb(0,[(_l()(),core.sb(0,0,null,null,12,"div",[],null,null,null,null,null)),(_l()(),core.sb(1,0,null,null,11,"mat-card",[["class","offline marginated mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,card_typings_index_ngfactory.d,card_typings_index_ngfactory.a)),core.rb(2,49152,null,0,card.a,[[2,fesm2015_animations.a]],null,null),(_l()(),core.sb(3,0,null,0,1,"img",[["class","mat-card-image"],["mat-card-image",""]],[[8,"src",4]],null,null,null,null)),core.rb(4,16384,null,0,card.f,[],null,null),(_l()(),core.sb(5,0,null,0,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),core.rb(6,16384,null,0,card.h,[],null,null),(_l()(),core.Lb(7,null,[" "," "])),(_l()(),core.sb(8,0,null,0,4,"mat-card-actions",[["class","mat-card-actions"]],[[2,"mat-card-actions-align-end",null]],null,null,null,null)),core.rb(9,16384,null,0,card.b,[],null,null),(_l()(),core.hb(16777216,null,null,2,null,View_UsersInfoComponent_3)),core.rb(11,16384,null,0,common.k,[core.O,core.L],{ngIf:[0,"ngIf"]},null),core.Gb(131072,common.b,[core.h])],(function(_ck,_v){var _co=_v.component;_ck(_v,11,0,"malric.philippe@gmail.com"==core.Mb(_v,11,0,core.Eb(_v,12).transform(_co.authEmail$)))}),(function(_ck,_v){_ck(_v,1,0,"NoopAnimations"===core.Eb(_v,2)._animationMode),_ck(_v,3,0,_v.context.$implicit.url_img),_ck(_v,7,0,_v.context.$implicit.name),_ck(_v,8,0,"end"===core.Eb(_v,9).align)}))}function View_UsersInfoComponent_0(_l){return core.Nb(2,[(_l()(),core.sb(0,0,null,null,3,"div",[["style","padding: 5px;flex-wrap: wrap;flex-direction: row;display: flex;"]],null,null,null,null,null)),(_l()(),core.hb(16777216,null,null,2,null,View_UsersInfoComponent_1)),core.rb(2,278528,null,0,common.j,[core.O,core.L,core.r],{ngForOf:[0,"ngForOf"]},null),core.Gb(131072,common.b,[core.h]),(_l()(),core.sb(4,0,null,null,3,"div",[["style","padding: 5px;flex-wrap: wrap;flex-direction: row;display: flex;"]],null,null,null,null,null)),(_l()(),core.hb(16777216,null,null,2,null,View_UsersInfoComponent_2)),core.rb(6,278528,null,0,common.j,[core.O,core.L,core.r],{ngForOf:[0,"ngForOf"]},null),core.Gb(131072,common.b,[core.h])],(function(_ck,_v){var _co=_v.component;_ck(_v,2,0,core.Mb(_v,2,0,core.Eb(_v,3).transform(_co.cardListOnline$))),_ck(_v,6,0,core.Mb(_v,6,0,core.Eb(_v,7).transform(_co.cardListOffline$)))}),null)}function View_UsersInfoComponent_Host_0(_l){return core.Nb(0,[(_l()(),core.sb(0,0,null,null,1,"anms-users-info",[],null,null,null,View_UsersInfoComponent_0,RenderType_UsersInfoComponent)),core.rb(1,114688,null,0,users_info_component_UsersInfoComponent,[fesm2015_store.o,es2015_database.a],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var UsersInfoComponentNgFactory=core.ob("anms-users-info",users_info_component_UsersInfoComponent,View_UsersInfoComponent_Host_0,{},{},[]);class Question{constructor(options={}){this.value=options.value,this.key=options.key||"",this.label=options.label||"",this.required=!!options.required,this.order=void 0===options.order?1:options.order,this.controlType=options.controlType||""}}class TextboxQuestion extends Question{constructor(options={}){super(options),this.controlType="textbox",this.type=options.type||""}}class DropdownQuestion extends Question{constructor(options={}){super(options),this.controlType="dropdown",this.options=[],this.options=options.options||[]}}class questions_service2_QuestionService{getQuestions(){return this.questions=[new DropdownQuestion({key:"brave",label:"Bravery Rating",options:[{key:"solid",value:"Solid"},{key:"great",value:"Great"},{key:"good",value:"Good"},{key:"unproven",value:"Unproven"}],order:3}),new TextboxQuestion({key:"firstName",label:"First name",value:"Bombasto",required:!0,order:1}),new TextboxQuestion({key:"emailAddress",label:"Email",type:"email",order:2})],this.questions.sort((a,b)=>a.order-b.order)}addQuestion(){return this.questions.push(new TextboxQuestion({key:"emailAddress",label:"Email",type:"email",order:2.5})),this.questions.sort((a,b)=>a.order-b.order)}}class question_service_QuestionControlService{constructor(){}toFormGroup(questions){let group={};return questions.forEach(question=>{group[question.key]=question.required?new fesm2015_forms.f(question.value||"",fesm2015_forms.t.required):new fesm2015_forms.f(question.value||"")}),new fesm2015_forms.h(group)}}const{selectAll:vote_selectors_selectAll}=voteAdapter.getSelectors(),selectVotes=Object(fesm2015_store.z)(selectExamples,state=>state.votes),selectAllVotes=Object(fesm2015_store.z)(selectVotes,vote_selectors_selectAll),selectVoteState=Object(fesm2015_store.z)(selectExamples,state=>state.votes);Object(fesm2015_store.z)(selectVoteState,state=>state.entities),Object(fesm2015_store.z)(selectVoteState,state=>state.entities);class questionnaire_component_QuestionnaireComponent{constructor(qservice,qcs,ref,store){this.qservice=qservice,this.qcs=qcs,this.ref=ref,this.store=store,this.payLoad="",this.questions=qservice.getQuestions()}ngOnInit(){this.form=this.qcs.toFormGroup(this.questions)}onSubmit(){this.payLoad=JSON.stringify(this.form.value)}addQ(){this.questions=this.qservice.addQuestion(),console.log("questions"),console.log(this.questions),this.form=this.qcs.toFormGroup(this.questions),this.ref.markForCheck()}saveQ(){this.store.pipe(Object(take.a)(1)).subscribe(store=>{let logos=selectAllLogos(store),votes=selectAllVotes(store);this.store.dispatch(new ActionQuestionnaireUpsertOne({questionnaire:{id:Object(uuid.v4)(),name:"premierQ",logos:logos,votes:votes}}))})}}var RenderType_QuestionnaireComponent=core.qb({encapsulation:0,styles:[[""]],data:{}});function View_QuestionnaireComponent_0(_l){return core.Nb(2,[(_l()(),core.sb(0,0,null,null,2,"button",[["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.saveQ()&&ad),ad}),button_typings_index_ngfactory.d,button_typings_index_ngfactory.b)),core.rb(1,180224,null,0,esm2015_button.b,[core.k,a11y.h,[2,fesm2015_animations.a]],null,null),(_l()(),core.Lb(-1,0,["Ajoutez une question"]))],null,(function(_ck,_v){_ck(_v,0,0,core.Eb(_v,1).disabled||null,"NoopAnimations"===core.Eb(_v,1)._animationMode)}))}function View_QuestionnaireComponent_Host_0(_l){return core.Nb(0,[(_l()(),core.sb(0,0,null,null,1,"anms-questionnaire",[],null,null,null,View_QuestionnaireComponent_0,RenderType_QuestionnaireComponent)),core.rb(1,114688,null,0,questionnaire_component_QuestionnaireComponent,[questions_service2_QuestionService,question_service_QuestionControlService,core.h,fesm2015_store.o],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var QuestionnaireComponentNgFactory=core.ob("anms-questionnaire",questionnaire_component_QuestionnaireComponent,View_QuestionnaireComponent_Host_0,{},{},[]),table=__webpack_require__("8rEH"),esm2015_table=__webpack_require__("zQui"),table_typings_index_ngfactory=__webpack_require__("pIm3"),paginator_typings_index_ngfactory=__webpack_require__("b1+6"),paginator=__webpack_require__("OIZN");let file_upload_service_FileUploadService=(()=>{class FileUploadService{constructor(httpClient){this.httpClient=httpClient}postFile(fileToUpload){const formData=new FormData;return formData.append("fileKey",fileToUpload,fileToUpload.name),this.httpClient.post("your-destination-url",formData,{headers:{}})}}return FileUploadService.ngInjectableDef=core.Rb({factory:function(){return new FileUploadService(core.Sb(fesm2015_http.c))},token:FileUploadService,providedIn:"root"}),FileUploadService})();class tibble_component_TibbleComponent{constructor(fileUploadService,changeDetectorRef){this.fileUploadService=fileUploadService,this.changeDetectorRef=changeDetectorRef,this.fileToUpload=null,this.displayedColumns=["position"]}ngOnInit(){}ngAfterViewInit(){}applyFilter(filterValue){this.dataSource.filter=filterValue.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}handleFileInput(files){this.fileToUpload=files.item(0)}launch(i){console.log(i),console.log(this.tibble[i])}onTextInputChange(evt,index){console.log(evt,index)}uploadFileToActivity(){console.log("fileToUpload"),console.log(this.fileToUpload),this.fileUploadService.postFile(this.fileToUpload).subscribe(data=>{},error=>{console.log(error)})}changeListener($event){this.readThis($event.target)}readThis(inputValue){var file=inputValue.files[0],myReader=new FileReader;myReader.onloadend=e=>{this.tibble=JSON.parse(myReader.result.toString()),this.dataSource=new table.l(this.tibble),console.log(this.tibble),this.dataSource.paginator=this.paginator,this.changeDetectorRef.markForCheck()},myReader.readAsText(file)}}var RenderType_TibbleComponent=core.qb({encapsulation:0,styles:[[".highlight[_ngcontent-%COMP%]{background-color:#ff0}.largeur500[_ngcontent-%COMP%]{width:500px}.center[_ngcontent-%COMP%]{display:table;margin:auto auto 20px}.textarea_variable[_ngcontent-%COMP%]{height:100px}.textarea_rule[_ngcontent-%COMP%]{height:200px}"]],data:{}});function View_TibbleComponent_2(_l){return core.Nb(0,[(_l()(),core.sb(0,0,null,null,2,"th",[["class","mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),core.rb(1,16384,null,0,table.e,[esm2015_table.d,core.k],null,null),(_l()(),core.Lb(-1,null,[" No. "]))],null,null)}function View_TibbleComponent_3(_l){return core.Nb(0,[(_l()(),core.sb(0,0,null,null,35,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),core.rb(1,16384,null,0,table.a,[esm2015_table.d,core.k],null,null),core.Ib(512,null,common.z,common.A,[core.k,core.s,core.D]),core.rb(3,278528,null,0,common.n,[common.z],{ngStyle:[0,"ngStyle"]},null),core.Hb(4,{width:0}),(_l()(),core.sb(5,0,null,null,30,"mat-card",[["class","mat-card"],["data-testid","crud-item"]],[[2,"_mat-animation-noopable",null]],null,null,card_typings_index_ngfactory.d,card_typings_index_ngfactory.a)),core.Ib(512,null,common.x,common.y,[core.r,core.s,core.k,core.D]),core.rb(7,278528,null,0,common.i,[common.x],{ngClass:[0,"ngClass"]},null),core.Hb(8,{highlight:0,routeAnimationsElements:1}),core.rb(9,49152,null,0,card.a,[[2,fesm2015_animations.a]],null,null),(_l()(),core.sb(10,0,null,0,8,"mat-card-header",[["class","mat-card-header"]],null,null,null,card_typings_index_ngfactory.c,card_typings_index_ngfactory.b)),core.rb(11,49152,null,0,card.e,[],null,null),(_l()(),core.sb(12,0,null,2,6,"div",[["class","flex"]],null,null,null,null,null)),(_l()(),core.sb(13,0,null,null,1,"h3",[],null,null,null,null,null)),(_l()(),core.Lb(14,null,["",""])),(_l()(),core.sb(15,0,null,null,1,"h5",[],null,null,null,null,null)),(_l()(),core.Lb(16,null,["",""])),(_l()(),core.sb(17,0,null,null,1,"h4",[["class","col-sm-10"],["data-testid","item-title"]],null,null,null,null,null)),(_l()(),core.Lb(18,null,["",""])),(_l()(),core.sb(19,0,null,0,5,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),core.rb(20,16384,null,0,card.c,[],null,null),(_l()(),core.sb(21,0,null,null,3,"textarea",[["class","textarea_variable mat-input-element mat-form-field-autofill-control"],["matInput",""]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"keyup"],[null,"blur"],[null,"focus"],[null,"input"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"blur"===en&&(ad=!1!==core.Eb(_v,23)._focusChanged(!1)&&ad),"focus"===en&&(ad=!1!==core.Eb(_v,23)._focusChanged(!0)&&ad),"input"===en&&(ad=!1!==core.Eb(_v,23)._onInput()&&ad),"keyup"===en&&(ad=!1!==_co.onTextInputChange($event,_v.context.index)&&ad),ad}),null,null)),core.Ib(6144,null,form_field.d,null,[esm2015_input.a]),core.rb(23,999424,null,0,esm2015_input.a,[core.k,platform.a,[8,null],[2,fesm2015_forms.p],[2,fesm2015_forms.i],esm2015_core.d,[8,null],text_field.a,core.y],null,null),(_l()(),core.Lb(24,null,["",""])),(_l()(),core.sb(25,0,null,0,5,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),core.rb(26,16384,null,0,card.c,[],null,null),(_l()(),core.sb(27,0,null,null,3,"textarea",[["class","textarea_rule mat-input-element mat-form-field-autofill-control"],["matInput",""]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"keyup"],[null,"blur"],[null,"focus"],[null,"input"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"blur"===en&&(ad=!1!==core.Eb(_v,29)._focusChanged(!1)&&ad),"focus"===en&&(ad=!1!==core.Eb(_v,29)._focusChanged(!0)&&ad),"input"===en&&(ad=!1!==core.Eb(_v,29)._onInput()&&ad),"keyup"===en&&(ad=!1!==_co.onTextInputChange($event,_v.context.index)&&ad),ad}),null,null)),core.Ib(6144,null,form_field.d,null,[esm2015_input.a]),core.rb(29,999424,null,0,esm2015_input.a,[core.k,platform.a,[8,null],[2,fesm2015_forms.p],[2,fesm2015_forms.i],esm2015_core.d,[8,null],text_field.a,core.y],null,null),(_l()(),core.Lb(30,null,["",""])),(_l()(),core.sb(31,0,null,0,4,"mat-card-actions",[["class","mat-card-actions"]],[[2,"mat-card-actions-align-end",null]],null,null,null,null)),core.rb(32,16384,null,0,card.b,[],null,null),(_l()(),core.sb(33,0,null,null,2,"button",[["color","accent"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(_v,en,$event){var ad=!0;return"click"===en&&(ad=!1!==_v.component.launch(_v.context.index)&&ad),ad}),button_typings_index_ngfactory.d,button_typings_index_ngfactory.b)),core.rb(34,180224,null,0,esm2015_button.b,[core.k,a11y.h,[2,fesm2015_animations.a]],{color:[0,"color"]},null),(_l()(),core.Lb(-1,0,["Envoyer"]))],(function(_ck,_v){var currVal_0=_ck(_v,4,0,"1200px");_ck(_v,3,0,currVal_0);var currVal_2=_ck(_v,8,0,"ifelse"==_v.context.$implicit.rule_category,!0);_ck(_v,7,0,currVal_2),_ck(_v,23,0),_ck(_v,29,0),_ck(_v,34,0,"accent")}),(function(_ck,_v){_ck(_v,5,0,"NoopAnimations"===core.Eb(_v,9)._animationMode),_ck(_v,14,0,_v.context.$implicit.DataSchema_variable),_ck(_v,16,0,_v.context.$implicit.rule_category),_ck(_v,18,0,_v.context.index),_ck(_v,21,0,core.Eb(_v,23)._isServer,core.Eb(_v,23).id,core.Eb(_v,23).placeholder,core.Eb(_v,23).disabled,core.Eb(_v,23).required,core.Eb(_v,23).readonly&&!core.Eb(_v,23)._isNativeSelect||null,core.Eb(_v,23)._ariaDescribedby||null,core.Eb(_v,23).errorState,core.Eb(_v,23).required.toString()),_ck(_v,24,0,_v.context.$implicit.Study_variable),_ck(_v,27,0,core.Eb(_v,29)._isServer,core.Eb(_v,29).id,core.Eb(_v,29).placeholder,core.Eb(_v,29).disabled,core.Eb(_v,29).required,core.Eb(_v,29).readonly&&!core.Eb(_v,29)._isNativeSelect||null,core.Eb(_v,29)._ariaDescribedby||null,core.Eb(_v,29).errorState,core.Eb(_v,29).required.toString()),_ck(_v,30,0,_v.context.$implicit.Harmo_rule),_ck(_v,31,0,"end"===core.Eb(_v,32).align),_ck(_v,33,0,core.Eb(_v,34).disabled||null,"NoopAnimations"===core.Eb(_v,34)._animationMode)}))}function View_TibbleComponent_4(_l){return core.Nb(0,[(_l()(),core.sb(0,0,null,null,2,"tr",[["class","mat-header-row"],["mat-header-row",""],["role","row"]],null,null,null,table_typings_index_ngfactory.d,table_typings_index_ngfactory.a)),core.Ib(6144,null,esm2015_table.k,null,[table.g]),core.rb(2,49152,null,0,table.g,[],null,null)],null,null)}function View_TibbleComponent_5(_l){return core.Nb(0,[(_l()(),core.sb(0,0,null,null,2,"tr",[["class","mat-row"],["mat-row",""],["role","row"]],null,null,null,table_typings_index_ngfactory.e,table_typings_index_ngfactory.b)),core.Ib(6144,null,esm2015_table.m,null,[table.i]),core.rb(2,49152,null,0,table.i,[],null,null)],null,null)}function View_TibbleComponent_1(_l){return core.Nb(0,[(_l()(),core.sb(0,0,null,null,27,"div",[],null,null,null,null,null)),(_l()(),core.sb(1,0,null,null,26,"div",[["class","center"]],null,null,null,null,null)),(_l()(),core.sb(2,0,null,null,25,"table",[["class","mat-elevation-z8 mat-table"],["mat-table",""]],null,null,null,table_typings_index_ngfactory.f,table_typings_index_ngfactory.c)),core.Ib(6144,null,esm2015_table.o,null,[table.k]),core.rb(4,2342912,null,4,table.k,[core.r,core.h,core.k,[8,null],[2,bidi.b],common.d,platform.a],{dataSource:[0,"dataSource"]},null),core.Jb(603979776,11,{_contentColumnDefs:1}),core.Jb(603979776,12,{_contentRowDefs:1}),core.Jb(603979776,13,{_contentHeaderRowDefs:1}),core.Jb(603979776,14,{_contentFooterRowDefs:1}),(_l()(),core.sb(9,0,null,null,12,null,null,null,null,null,null,null)),core.Ib(6144,null,"MAT_SORT_HEADER_COLUMN_DEF",null,[table.c]),core.rb(11,16384,null,3,table.c,[],{name:[0,"name"]},null),core.Jb(603979776,15,{cell:0}),core.Jb(603979776,16,{headerCell:0}),core.Jb(603979776,17,{footerCell:0}),core.Ib(2048,[[11,4]],esm2015_table.d,null,[table.c]),(_l()(),core.hb(0,null,null,2,null,View_TibbleComponent_2)),core.rb(17,16384,null,0,table.f,[core.L],null,null),core.Ib(2048,[[16,4]],esm2015_table.j,null,[table.f]),(_l()(),core.hb(0,null,null,2,null,View_TibbleComponent_3)),core.rb(20,16384,null,0,table.b,[core.L],null,null),core.Ib(2048,[[15,4]],esm2015_table.b,null,[table.b]),(_l()(),core.hb(0,null,null,2,null,View_TibbleComponent_4)),core.rb(23,540672,null,0,table.h,[core.L,core.r],{columns:[0,"columns"]},null),core.Ib(2048,[[13,4]],esm2015_table.l,null,[table.h]),(_l()(),core.hb(0,null,null,2,null,View_TibbleComponent_5)),core.rb(26,540672,null,0,table.j,[core.L,core.r],{columns:[0,"columns"]},null),core.Ib(2048,[[12,4]],esm2015_table.n,null,[table.j])],(function(_ck,_v){var _co=_v.component;_ck(_v,4,0,_co.dataSource),_ck(_v,11,0,"position"),_ck(_v,23,0,_co.displayedColumns),_ck(_v,26,0,_co.displayedColumns)}),null)}function View_TibbleComponent_0(_l){return core.Nb(2,[core.Jb(671088640,1,{paginator:0}),(_l()(),core.sb(1,0,null,null,23,"div",[["class","form-group"]],null,null,null,null,null)),(_l()(),core.sb(2,0,null,null,1,"label",[["for","file"]],null,null,null,null,null)),(_l()(),core.Lb(-1,null,["Choose File"])),(_l()(),core.sb(4,0,[["input",1]],null,0,"input",[["type","file"]],null,[[null,"change"]],(function(_v,en,$event){var ad=!0;return"change"===en&&(ad=!1!==_v.component.changeListener($event)&&ad),ad}),null,null)),(_l()(),core.sb(5,0,null,null,0,"hr",[],null,null,null,null,null)),(_l()(),core.sb(6,0,null,null,13,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,form_field_typings_index_ngfactory.b,form_field_typings_index_ngfactory.a)),core.rb(7,7520256,null,9,form_field.c,[core.k,core.h,[2,esm2015_core.j],[2,bidi.b],[2,form_field.a],platform.a,core.y,[2,fesm2015_animations.a]],null,null),core.Jb(603979776,2,{_controlNonStatic:0}),core.Jb(335544320,3,{_controlStatic:0}),core.Jb(603979776,4,{_labelChildNonStatic:0}),core.Jb(335544320,5,{_labelChildStatic:0}),core.Jb(603979776,6,{_placeholderChild:0}),core.Jb(603979776,7,{_errorChildren:1}),core.Jb(603979776,8,{_hintChildren:1}),core.Jb(603979776,9,{_prefixChildren:1}),core.Jb(603979776,10,{_suffixChildren:1}),(_l()(),core.sb(17,0,null,1,2,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","Filter"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"keyup"],[null,"blur"],[null,"focus"],[null,"input"]],(function(_v,en,$event){var ad=!0,_co=_v.component;return"blur"===en&&(ad=!1!==core.Eb(_v,18)._focusChanged(!1)&&ad),"focus"===en&&(ad=!1!==core.Eb(_v,18)._focusChanged(!0)&&ad),"input"===en&&(ad=!1!==core.Eb(_v,18)._onInput()&&ad),"keyup"===en&&(ad=!1!==_co.applyFilter($event.target.value)&&ad),ad}),null,null)),core.rb(18,999424,null,0,esm2015_input.a,[core.k,platform.a,[8,null],[2,fesm2015_forms.p],[2,fesm2015_forms.i],esm2015_core.d,[8,null],text_field.a,core.y],{placeholder:[0,"placeholder"]},null),core.Ib(2048,[[2,4],[3,4]],form_field.d,null,[esm2015_input.a]),(_l()(),core.sb(20,0,null,null,2,"mat-paginator",[["class","mat-paginator"]],null,null,null,paginator_typings_index_ngfactory.b,paginator_typings_index_ngfactory.a)),core.rb(21,245760,[[1,4]],0,paginator.b,[paginator.c,core.h],{pageSize:[0,"pageSize"],pageSizeOptions:[1,"pageSizeOptions"]},null),core.Fb(22,4),(_l()(),core.hb(16777216,null,null,1,null,View_TibbleComponent_1)),core.rb(24,16384,null,0,common.k,[core.O,core.L],{ngIf:[0,"ngIf"]},null)],(function(_ck,_v){var _co=_v.component;_ck(_v,18,0,"Filter");var currVal_33=_ck(_v,22,0,1,5,10,20);_ck(_v,21,0,1,currVal_33),_ck(_v,24,0,_co.dataSource)}),(function(_ck,_v){_ck(_v,6,1,["standard"==core.Eb(_v,7).appearance,"fill"==core.Eb(_v,7).appearance,"outline"==core.Eb(_v,7).appearance,"legacy"==core.Eb(_v,7).appearance,core.Eb(_v,7)._control.errorState,core.Eb(_v,7)._canLabelFloat,core.Eb(_v,7)._shouldLabelFloat(),core.Eb(_v,7)._hasFloatingLabel(),core.Eb(_v,7)._hideControlPlaceholder(),core.Eb(_v,7)._control.disabled,core.Eb(_v,7)._control.autofilled,core.Eb(_v,7)._control.focused,"accent"==core.Eb(_v,7).color,"warn"==core.Eb(_v,7).color,core.Eb(_v,7)._shouldForward("untouched"),core.Eb(_v,7)._shouldForward("touched"),core.Eb(_v,7)._shouldForward("pristine"),core.Eb(_v,7)._shouldForward("dirty"),core.Eb(_v,7)._shouldForward("valid"),core.Eb(_v,7)._shouldForward("invalid"),core.Eb(_v,7)._shouldForward("pending"),!core.Eb(_v,7)._animationsEnabled]),_ck(_v,17,0,core.Eb(_v,18)._isServer,core.Eb(_v,18).id,core.Eb(_v,18).placeholder,core.Eb(_v,18).disabled,core.Eb(_v,18).required,core.Eb(_v,18).readonly&&!core.Eb(_v,18)._isNativeSelect||null,core.Eb(_v,18)._ariaDescribedby||null,core.Eb(_v,18).errorState,core.Eb(_v,18).required.toString())}))}function View_TibbleComponent_Host_0(_l){return core.Nb(0,[(_l()(),core.sb(0,0,null,null,1,"ng-component",[],null,null,null,View_TibbleComponent_0,RenderType_TibbleComponent)),core.rb(1,4308992,null,0,tibble_component_TibbleComponent,[file_upload_service_FileUploadService,core.h],null,null)],(function(_ck,_v){_ck(_v,1,0)}),null)}var TibbleComponentNgFactory=core.ob("ng-component",tibble_component_TibbleComponent,View_TibbleComponent_Host_0,{},{},[]),observers=__webpack_require__("POq0"),tooltip=__webpack_require__("Mz6y"),angular_font_awesome=__webpack_require__("z16Y"),menu=__webpack_require__("gavF"),dialog=__webpack_require__("s6ns"),datepicker=__webpack_require__("821u"),toolbar=__webpack_require__("BzsH"),progress_spinner=__webpack_require__("W5yJ"),chips=__webpack_require__("kNGD"),sidenav=__webpack_require__("BV1i"),esm2015_checkbox=__webpack_require__("r0V8"),divider=__webpack_require__("02hT"),icon=__webpack_require__("Gi4r"),snack_bar=__webpack_require__("dFDH"),slide_toggle=__webpack_require__("pBi1"),shared_module=__webpack_require__("PCNd");const examples_routing_module_0={title:"Liste de lecture"},examples_routing_module_1={title:"Liste de lecture"},examples_routing_module_2={title:"Graph"},examples_routing_module_3={title:"Users"},ɵ4={title:"Questionnaire"},ɵ5={title:"Tibble"};class ExamplesRoutingModule{}var tslib_es6=__webpack_require__("mrSG"),effects=__webpack_require__("Yml6"),distinctUntilChanged=__webpack_require__("/uUt"),settings=__webpack_require__("8XW/");let examples_effects_ExamplesEffects=(()=>{class ExamplesEffects{constructor(actions$,store,translateService,router,titleService){this.actions$=actions$,this.store=store,this.translateService=translateService,this.router=router,this.titleService=titleService,this.setTranslateServiceLanguage=this.store.pipe(Object(fesm2015_store.A)(settings.g),Object(map.a)(settings=>settings.language),Object(distinctUntilChanged.a)(),Object(tap.a)(language=>this.translateService.use(language))),this.setTitle=Object(observable_merge.a)(this.actions$.pipe(Object(effects.d)(settings.c.CHANGE_LANGUAGE)),this.router.events.pipe(Object(operators_filter.a)(event=>event instanceof fesm2015_router.b))).pipe(Object(tap.a)(()=>{this.titleService.setTitle(this.router.routerState.snapshot.root,this.translateService)}))}}return Object(tslib_es6.__decorate)([Object(effects.b)({dispatch:!1}),Object(tslib_es6.__metadata)("design:type",Object)],ExamplesEffects.prototype,"setTranslateServiceLanguage",void 0),Object(tslib_es6.__decorate)([Object(effects.b)({dispatch:!1}),Object(tslib_es6.__metadata)("design:type",Object)],ExamplesEffects.prototype,"setTitle",void 0),ExamplesEffects})();var title_service=__webpack_require__("WRUs");let jeu_service_service_JeuServiceService=(()=>{class JeuServiceService{constructor(store,af){this.store=store,this.af=af,this.basePath="/cartes",this.documentToDomainObject=_=>{const object=_.payload.doc.data();return object.id=_.payload.doc.id,object}}click(){this.store.dispatch(new ActionJeuUpsertOneCarte({carte:{valeur:1,couleur:"carreau",noms:[]}}))}getCartesFromFirebase(){return this.af.collection("cartes").snapshotChanges().pipe(Object(map.a)(actions=>actions.map(this.documentToDomainObject)),Object(tap.a)(data=>{}))}modifyCartesToFirebase(id,carte){this.af.collection("cartes").doc(id).update({carte:carte})}deleteCartesToFirebase(id){this.af.collection("cartes").doc(id).delete()}addCartesToFirebase(jeuState){this.af.collection("cartes").doc("L4XBs3eB8e3FXYUbK75H").update(jeuState)}}return JeuServiceService.ngInjectableDef=core.Rb({factory:function(){return new JeuServiceService(core.Sb(fesm2015_store.o),core.Sb(es2015_firestore.a))},token:JeuServiceService,providedIn:"root"}),JeuServiceService})();var withLatestFrom=__webpack_require__("zp1y");const{selectAll:jeu_selectors_selectAll}=jeuAdapter.getSelectors(),selectJeux=Object(fesm2015_store.z)(selectExamples,state=>state.jeux),selectJeuxState=(Object(fesm2015_store.z)(selectJeux,jeu_selectors_selectAll),Object(fesm2015_store.z)(selectExamples,state=>state.jeux)),selectJeuTour=Object(fesm2015_store.z)(selectJeuxState,state=>state.entities),selectJeuxEtat=Object(fesm2015_store.z)(selectJeuxState,state=>state.entities),TODOS_KEY=(Object(fesm2015_store.z)(selectJeuTour,selectJeuxEtat,(tour,etat)=>etat),"EXAMPLES.TODOS");let jeu_effects_JeuxEffects=(()=>{class JeuxEffects{constructor(actions$,store,localStorageService,jeuServiceService,jeuStore){this.actions$=actions$,this.store=store,this.localStorageService=localStorageService,this.jeuServiceService=jeuServiceService,this.jeuStore=jeuStore,this.persistTodos=this.actions$.pipe(Object(effects.d)(JeuActionTypes.RESET),Object(withLatestFrom.a)(this.store.pipe(Object(fesm2015_store.A)(selectJeuTour))),Object(tap.a)(([action,tour])=>this.localStorageService.setItem(TODOS_KEY,tour))),this.addCarteToFirebase=this.actions$.pipe(Object(effects.d)(JeuActionTypes.UPSERT_ALL_CARTE),Object(withLatestFrom.a)(this.store),Object(tap.a)(([data,store])=>{this.jeuServiceService.addCartesToFirebase(store)}))}}return Object(tslib_es6.__decorate)([Object(effects.b)({dispatch:!1}),Object(tslib_es6.__metadata)("design:type",Object)],JeuxEffects.prototype,"persistTodos",void 0),Object(tslib_es6.__decorate)([Object(effects.b)({dispatch:!1}),Object(tslib_es6.__metadata)("design:type",Object)],JeuxEffects.prototype,"addCarteToFirebase",void 0),JeuxEffects})();var local_storage_service=__webpack_require__("EP1h"),vote_effects=__webpack_require__("0s+E");let vote_service_VoteService=(()=>{class VoteService{constructor(store,af){this.store=store,this.af=af,this.documentToDomainObject=_=>{const object=_.payload.doc.data();return object.id=_.payload.doc.id,object}}click(){this.store.dispatch(new vote_actions.d({vote:{id:"test",commentaire:"",niveauDaccord:0,nom:"",logo:"testClick"}}))}getVotesFromFirebase(){return this.af.collection("votes").snapshotChanges().pipe(Object(map.a)(actions=>actions.map(this.documentToDomainObject)),Object(tap.a)(data=>{}))}deleteVoteToFirebase(id){this.af.collection("cartes").doc(id).delete()}addVoteToFirebase(votes){console.log("addVoteToFirebase"),console.log(votes),this.af.collection("votes").doc(vote_effects.b).update(votes)}}return VoteService.ngInjectableDef=core.Rb({factory:function(){return new VoteService(core.Sb(fesm2015_store.o),core.Sb(es2015_firestore.a))},token:VoteService,providedIn:"root"}),VoteService})();class UsersEffects{constructor(actions$){this.actions$=actions$}}let questionnaire_effects_QuestionnaireEffects=(()=>{class QuestionnaireEffects{constructor(actions$,store,questionnaireService){this.actions$=actions$,this.store=store,this.questionnaireService=questionnaireService,this.addVotesAll=this.actions$.pipe(Object(effects.d)(QuestionnaireActionTypes.UPSERT_ONE),Object(withLatestFrom.a)(this.store),Object(map.a)(([data,store])=>{console.log("Questionnaire"),console.log("data to firebase!!"),console.log("data"),console.log(data),console.log("store"),console.log(store),console.log("votes"),console.log(store.examples.votes),this.questionnaireService.addQuestionnairesToFirebase(store.examples.questionnaire)}))}}return Object(tslib_es6.__decorate)([Object(effects.b)({dispatch:!1}),Object(tslib_es6.__metadata)("design:type",Object)],QuestionnaireEffects.prototype,"addVotesAll",void 0),QuestionnaireEffects})();const questionnaire_key="rNbaZLzxoj7JgiccITV3";let questionnaire_service_QuestionnaireService=(()=>{class QuestionnaireService{constructor(store,af){this.store=store,this.af=af}addQuestionnairesToFirebase(questionnaires){console.log("addVoteToFirebase"),console.log(questionnaires),this.af.collection("questionnaires").doc(questionnaire_key).update(questionnaires)}}return QuestionnaireService.ngInjectableDef=core.Rb({factory:function(){return new QuestionnaireService(core.Sb(fesm2015_store.o),core.Sb(es2015_firestore.a))},token:QuestionnaireService,providedIn:"root"}),QuestionnaireService})();__webpack_require__.d(__webpack_exports__,"ExamplesModuleNgFactory",(function(){return ExamplesModuleNgFactory}));var ExamplesModuleNgFactory=core.pb(ExamplesModule,[],(function(_l){return core.Bb([core.Cb(512,core.j,core.ab,[[8,[index_ngfactory.a,MatBottomSheetContainerNgFactory,typings_index_ngfactory.a,typings_index_ngfactory.b,dialog_typings_index_ngfactory.a,datepicker_typings_index_ngfactory.b,datepicker_typings_index_ngfactory.a,router_ngfactory.a,ExamplesComponentNgFactory,CrudComponentNgFactory,GearsComponentNgFactory,UsersInfoComponentNgFactory,QuestionnaireComponentNgFactory,TibbleComponentNgFactory,BottomSheetComponentNgFactory]],[3,core.j],core.w]),core.Cb(4608,common.m,common.l,[core.t,[2,common.C]]),core.Cb(4608,esm2015_overlay.c,esm2015_overlay.c,[esm2015_overlay.i,esm2015_overlay.e,core.j,esm2015_overlay.h,esm2015_overlay.f,core.q,core.y,common.d,bidi.b,[2,common.g]]),core.Cb(5120,esm2015_overlay.j,esm2015_overlay.k,[esm2015_overlay.c]),core.Cb(4608,observers.c,observers.c,[]),core.Cb(5120,esm2015_select.a,esm2015_select.b,[esm2015_overlay.c]),core.Cb(5120,tooltip.b,tooltip.c,[esm2015_overlay.c]),core.Cb(4608,platform_browser.e,esm2015_core.e,[[2,esm2015_core.i],[2,esm2015_core.n]]),core.Cb(5120,paginator.c,paginator.a,[[3,paginator.c]]),core.Cb(4608,fesm2015_forms.e,fesm2015_forms.e,[]),core.Cb(4608,fesm2015_forms.v,fesm2015_forms.v,[]),core.Cb(4608,angular_font_awesome.b,angular_font_awesome.b,[]),core.Cb(4608,esm2015_core.d,esm2015_core.d,[]),core.Cb(5120,menu.c,menu.j,[esm2015_overlay.c]),core.Cb(5120,dialog.b,dialog.c,[esm2015_overlay.c]),core.Cb(135680,dialog.d,dialog.d,[esm2015_overlay.c,core.q,[2,common.g],[2,dialog.a],dialog.b,[3,dialog.d],esm2015_overlay.e]),core.Cb(4608,datepicker.h,datepicker.h,[]),core.Cb(5120,datepicker.a,datepicker.b,[esm2015_overlay.c]),core.Cb(4608,esm2015_core.c,esm2015_core.x,[[2,esm2015_core.h],platform.a]),core.Cb(4608,question_service_QuestionControlService,question_service_QuestionControlService,[]),core.Cb(4608,questions_service2_QuestionService,questions_service2_QuestionService,[]),core.Cb(1073742336,common.c,common.c,[]),core.Cb(1073742336,bidi.a,bidi.a,[]),core.Cb(1073742336,esm2015_core.n,esm2015_core.n,[[2,esm2015_core.f],[2,platform_browser.f]]),core.Cb(1073742336,platform.b,platform.b,[]),core.Cb(1073742336,esm2015_core.w,esm2015_core.w,[]),core.Cb(1073742336,esm2015_button.c,esm2015_button.c,[]),core.Cb(1073742336,esm2015_portal.g,esm2015_portal.g,[]),core.Cb(1073742336,scrolling.c,scrolling.c,[]),core.Cb(1073742336,esm2015_overlay.g,esm2015_overlay.g,[]),core.Cb(1073742336,esm2015_core.u,esm2015_core.u,[]),core.Cb(1073742336,esm2015_core.s,esm2015_core.s,[]),core.Cb(1073742336,observers.d,observers.d,[]),core.Cb(1073742336,form_field.e,form_field.e,[]),core.Cb(1073742336,esm2015_select.d,esm2015_select.d,[]),core.Cb(1073742336,a11y.a,a11y.a,[]),core.Cb(1073742336,tooltip.e,tooltip.e,[]),core.Cb(1073742336,paginator.d,paginator.d,[]),core.Cb(1073742336,esm2015_table.p,esm2015_table.p,[]),core.Cb(1073742336,table.m,table.m,[]),core.Cb(1073742336,MatBottomSheetModule,MatBottomSheetModule,[]),core.Cb(1073742336,fesm2015_forms.u,fesm2015_forms.u,[]),core.Cb(1073742336,fesm2015_forms.r,fesm2015_forms.r,[]),core.Cb(1073742336,fesm2015_forms.j,fesm2015_forms.j,[]),core.Cb(1073742336,angular_font_awesome.a,angular_font_awesome.a,[]),core.Cb(1073742336,ngx_translate_core.g,ngx_translate_core.g,[]),core.Cb(1073742336,toolbar.b,toolbar.b,[]),core.Cb(1073742336,tabs.k,tabs.k,[]),core.Cb(1073742336,text_field.c,text_field.c,[]),core.Cb(1073742336,esm2015_input.b,esm2015_input.b,[]),core.Cb(1073742336,progress_spinner.a,progress_spinner.a,[]),core.Cb(1073742336,chips.b,chips.b,[]),core.Cb(1073742336,card.g,card.g,[]),core.Cb(1073742336,sidenav.h,sidenav.h,[]),core.Cb(1073742336,esm2015_checkbox.b,esm2015_checkbox.b,[]),core.Cb(1073742336,esm2015_checkbox.a,esm2015_checkbox.a,[]),core.Cb(1073742336,esm2015_core.o,esm2015_core.o,[]),core.Cb(1073742336,divider.a,divider.a,[]),core.Cb(1073742336,list.c,list.c,[]),core.Cb(1073742336,menu.i,menu.i,[]),core.Cb(1073742336,menu.f,menu.f,[]),core.Cb(1073742336,icon.c,icon.c,[]),core.Cb(1073742336,snack_bar.e,snack_bar.e,[]),core.Cb(1073742336,slide_toggle.d,slide_toggle.d,[]),core.Cb(1073742336,slide_toggle.c,slide_toggle.c,[]),core.Cb(1073742336,slider.b,slider.b,[]),core.Cb(1073742336,dialog.g,dialog.g,[]),core.Cb(1073742336,datepicker.i,datepicker.i,[]),core.Cb(1073742336,esm2015_core.y,esm2015_core.y,[]),core.Cb(1073742336,esm2015_core.p,esm2015_core.p,[]),core.Cb(1073742336,shared_module.a,shared_module.a,[]),core.Cb(1073742336,fesm2015_router.t,fesm2015_router.t,[[2,fesm2015_router.z],[2,fesm2015_router.p]]),core.Cb(1073742336,ExamplesRoutingModule,ExamplesRoutingModule,[]),core.Cb(1024,fesm2015_store.K,(function(){return[{}]}),[]),core.Cb(1024,fesm2015_store.k,(function(){return[{key:"examples",reducerFactory:fesm2015_store.u,metaReducers:[],initialState:void 0}]}),[]),core.Cb(1024,fesm2015_store.L,fesm2015_store.R,[core.q,fesm2015_store.K,fesm2015_store.k]),core.Cb(1024,fesm2015_store.J,(function(){return[{jeux:jeuReducer,logos:logoReducer,votes:voteReducer,users:userReducer,questionnaire:questionnaireReducer}]}),[]),core.Cb(1024,fesm2015_store.M,(function(p0_0){return[p0_0]}),[fesm2015_store.J]),core.Cb(1024,fesm2015_store.b,(function(p0_0,p0_1,p0_2){return[fesm2015_store.S(p0_0,p0_1,p0_2)]}),[core.q,fesm2015_store.J,fesm2015_store.M]),core.Cb(1073873408,fesm2015_store.p,fesm2015_store.p,[fesm2015_store.L,fesm2015_store.b,fesm2015_store.h,fesm2015_store.q]),core.Cb(1024,ngx_translate_core.f,HttpLoaderFactory,[fesm2015_http.c]),core.Cb(512,ngx_translate_core.c,ngx_translate_core.e,[]),core.Cb(512,ngx_translate_core.h,ngx_translate_core.d,[]),core.Cb(512,ngx_translate_core.b,ngx_translate_core.a,[]),core.Cb(256,ngx_translate_core.l,void 0,[]),core.Cb(256,ngx_translate_core.m,!0,[]),core.Cb(512,ngx_translate_core.j,ngx_translate_core.j,[ngx_translate_core.k,ngx_translate_core.f,ngx_translate_core.c,ngx_translate_core.h,ngx_translate_core.b,ngx_translate_core.l,ngx_translate_core.m]),core.Cb(512,examples_effects_ExamplesEffects,examples_effects_ExamplesEffects,[effects.a,fesm2015_store.o,ngx_translate_core.j,fesm2015_router.p,title_service.a]),core.Cb(512,jeu_service_service_JeuServiceService,jeu_service_service_JeuServiceService,[fesm2015_store.o,es2015_firestore.a]),core.Cb(512,jeu_effects_JeuxEffects,jeu_effects_JeuxEffects,[effects.a,fesm2015_store.o,local_storage_service.a,jeu_service_service_JeuServiceService,fesm2015_store.o]),core.Cb(512,logos_effects.b,logos_effects.b,[es2015_firestore.a,effects.a,fesm2015_store.o,local_storage_service.a,fesm2015_router.p]),core.Cb(512,vote_effects.a,vote_effects.a,[effects.a,fesm2015_store.o,local_storage_service.a,vote_service_VoteService,fesm2015_store.o]),core.Cb(512,UsersEffects,UsersEffects,[effects.a]),core.Cb(512,questionnaire_effects_QuestionnaireEffects,questionnaire_effects_QuestionnaireEffects,[effects.a,fesm2015_store.o,questionnaire_service_QuestionnaireService]),core.Cb(1024,effects.k,(function(p0_0,p0_1,p0_2,p0_3,p0_4,p0_5){return[effects.e(p0_0,p0_1,p0_2,p0_3,p0_4,p0_5)]}),[examples_effects_ExamplesEffects,jeu_effects_JeuxEffects,logos_effects.b,vote_effects.a,UsersEffects,questionnaire_effects_QuestionnaireEffects]),core.Cb(1073742336,effects.h,effects.h,[effects.g,effects.k,[2,fesm2015_store.q],[2,fesm2015_store.p]]),core.Cb(1073742336,ExamplesModule,ExamplesModule,[]),core.Cb(256,chips.a,{separatorKeyCodes:[keycodes.f]},[]),core.Cb(256,esm2015_core.g,esm2015_core.k,[]),core.Cb(1024,fesm2015_router.n,(function(){return[[{path:"",component:examples_component_ExamplesComponent,children:[{path:"",redirectTo:"crud",pathMatch:"full"},{path:"crud",component:crud_component_CrudComponent,data:examples_routing_module_0},{path:"crud/:id",component:crud_component_CrudComponent,data:examples_routing_module_1},{path:"gears",component:GearsComponent,data:examples_routing_module_2},{path:"users-info",component:users_info_component_UsersInfoComponent,data:examples_routing_module_3},{path:"questionnaire",component:questionnaire_component_QuestionnaireComponent,data:ɵ4},{path:"tibble",component:tibble_component_TibbleComponent,data:ɵ5}]}]]}),[])])}))},xDdU:function(module,exports,__webpack_require__){var _nodeId,_clockseq,rng=__webpack_require__("4fRq"),bytesToUuid=__webpack_require__("I2ZF"),_lastMSecs=0,_lastNSecs=0;module.exports=function(options,buf,offset){var i=buf&&offset||0,b=buf||[],node=(options=options||{}).node||_nodeId,clockseq=void 0!==options.clockseq?options.clockseq:_clockseq;if(null==node||null==clockseq){var seedBytes=rng();null==node&&(node=_nodeId=[1|seedBytes[0],seedBytes[1],seedBytes[2],seedBytes[3],seedBytes[4],seedBytes[5]]),null==clockseq&&(clockseq=_clockseq=16383&(seedBytes[6]<<8|seedBytes[7]))}var msecs=void 0!==options.msecs?options.msecs:(new Date).getTime(),nsecs=void 0!==options.nsecs?options.nsecs:_lastNSecs+1,dt=msecs-_lastMSecs+(nsecs-_lastNSecs)/1e4;if(dt<0&&void 0===options.clockseq&&(clockseq=clockseq+1&16383),(dt<0||msecs>_lastMSecs)&&void 0===options.nsecs&&(nsecs=0),nsecs>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=msecs,_lastNSecs=nsecs,_clockseq=clockseq;var tl=(1e4*(268435455&(msecs+=122192928e5))+nsecs)%4294967296;b[i++]=tl>>>24&255,b[i++]=tl>>>16&255,b[i++]=tl>>>8&255,b[i++]=255&tl;var tmh=msecs/4294967296*1e4&268435455;b[i++]=tmh>>>8&255,b[i++]=255&tmh,b[i++]=tmh>>>24&15|16,b[i++]=tmh>>>16&255,b[i++]=clockseq>>>8|128,b[i++]=255&clockseq;for(var n=0;n<6;++n)b[i+n]=node[n];return buf||bytesToUuid(b)}},xk4V:function(module,exports,__webpack_require__){var rng=__webpack_require__("4fRq"),bytesToUuid=__webpack_require__("I2ZF");module.exports=function(options,buf,offset){var i=buf&&offset||0;"string"==typeof options&&(buf="binary"===options?new Array(16):null,options=null);var rnds=(options=options||{}).random||(options.rng||rng)();if(rnds[6]=15&rnds[6]|64,rnds[8]=63&rnds[8]|128,buf)for(var ii=0;ii<16;++ii)buf[i+ii]=rnds[ii];return buf||bytesToUuid(rnds)}}}]);